<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b8731dc6817b44ed9db33e0884e70cc251c3ea12426cbf00a021ac9e701f17793e36a48545ee3f7950bb395f35fef1d3e9fe0435f76e82a20827165e84a3fff91414cbc0314e8f47300f704b451e48acc1a5e1510ba2a8e9587bedc46906ac0cec7d25aa3d65b12e9a16eb68e3f6942d1715536c3b33ecc5d61fcb2509b120a7a296f452a743ad9c88b358ef3277fe5ef6f1f95de7ad817c726d23fa54ce094fd73a31d2520493a48f1bcdea319bea9ecb637481ffb80fc2eab9d3f76a60e97a5e53fddf4264fb70ea94fd382ed28fe834384c1b20d3d4863dd5dc9b705eec41916fdcc6a48798fb8bf9a911b3212ca6ad57817637ff89942b64c2e92f32c6ab58e433ad96a6f63588a76e143c607b4960adde58a30b68fcab0167d346240821157d633035cc1316af21e6173412d00b4fff312321f47fe08ad9af70b636c680e486b91bbc8e1b94bdd85f52508fec4fc2568fb0b93f6ec067a464ee5b9d37230f108c230eda893bb28fc1c97b8a1de56235ef5a7f75487674f5f9adb1aff9ee9a926d80b080d1532c946a08194f87ada040248ab9cff3d3500d9f9c13fda66278b3a47388356655e8070cc936fa2850cc54640f4ab2bde702d0e5b0f0c21b64af8099fe569c47140aa73be4f20485fb5e583e01c002167fb9e3b28dd3dc4f3ea4a9f9ae21ac8e959ee94e0ec0764c50a5d861c4fd791e044e0ab2bd4c4a7b6d7f7639a338e24a929e0327b273ea730d77e7f88237c2594e2c69725b6a37b9a5233a84062078b0e496d34fa2f993b81e8621aea3444cc64d3a0aee99d720ce739af9856bf7103d64557b4ef604d65420ceff96afe2137fb3d1c4b672b1e66a622ad88ac3d0bc9c00fba1d3095c3d1526763af2cf68c31a0610fe3cce33664507db110095f59f049ccb4b825744043f06f2ccf2a3744f27dcd77cca0d6d75cd27a0d11341bc3c6445a5cdade6c6196dbe12fae9821cce7dd35136010c132bbfd3c9fab6d26aef2df081d940753d3ceed7bff8765674f234cae885c15aabdc3b6735f6b8b8d4643282b383615267df7fee5f5e0497f803b511f3ff51798ce7dbe2bf2cc0df6678f268df7e737b9b199fa6653f53aa7aaceee3543dcfcd3c84873aa2621d50bbf01a5b3c2da911eb803666db579d7b81d6d62df45e726dc9ef1434949bc2031a288a898cb00f3fd90aa5cef64da1056f2122ee905260dcdebda14fc5924acd0f3a60906f79b876e9d15858453b75ebe0e0e3c2ac454a9284d73ea162dae566216c1da0baca0b0e3c4bb2185032bb9e6667ed477fbf207e7bc841a4e9a1eb8723f0ca1230243c55834564efe9d10e39e1f9ce9c1ee6a21b3c8c83d3f165c6eaaca7f54b52b70f8b8fc459678625cc8b88cf5ab411f943a4b9a6906c657819375ce5f283500899bada1aa7fd92efb13b3ee30f14c583956de5706fb2fd70ed730767fc564a129a06045a8d758051144d98131a13fa92470e780bb4d6ee5598d1f8686d92e65bc9d8387c52c6b62b5d0aac0862e104ebe8f69305dc95ebc944ac5a8af5dcd03cb62ca88619a14074c0d0cb2f29ee2590b60923a77df4ba86ecc4a6d5155be5b0c9989667aafd86870ab945db0715713c221b24e727c9a4234252204b5ea96d9699db65d2a97027b823d9df01201d200316b6c09584947af35937c02ce03644b5cd1cd87b62dc055e477676abfcc1aca203536d21933dc868c212ccfbd3dfffe181b9970b014057190f95d81c0f4167331a320cdee11db4a1715619f00674849c515a4dc96a2d636b8c5a852d5d709095868a047755348744fee1523cddfeed08f9089aae82c3ad37421dbaa42ce5eb032fa0ee5d4eefe09c6172ddee9832cb9c7c62151aa922d9fe7c6e353664eb1a023fddb1399fd12f602689559c0050b99672850ee3e3980fd50facb2e0dfbe3173ea7a4ffdd8d04a99cc9825ba0739896b9db28fc897355d67f0f7432f0bf49dd06278cd13e1d8a1dfaf1596a5e3f050a473f9adcdd1c65837e41c4ea7499c2b8559775a5b56a3525b3109aceedaed794ed680be9612ca09acd2265a9e2856113d2abc6efd9e35bc31ff7e1708bea556957aa2e2cc364e5669196ef89351bee783335929e25194e843d4a0d2b126654f1e0823eb16430025cefda0efc6fe44de2578cee2e4e9739d9727d83341c9ad11d36a8e49278adf3ccad51e1636b1d4c20a0c70e1cf95a12fdb74152a0549ce08706dd6e9a8ff30baab23b6d025925b8d4606485411164f06be236c56f78b6120aead13a305861f6ffee627652c8d59ce10d0396e2203894bc57e237eedda9461ce8e82afa649c8ef85b3656598ba4a42724f0ec99beb19a1f52becaac10012206ae629d50f1b4c0979450aa37e9528f88cf70732e38fc5e0b6d31a88dd730035c4fff409ecd98193e951a9bfe61d3e07d5fb443aa1a2631c5a57a7388488d0089b0aad344fa9f0506cc89f69c1870324ff522c2aecabacaf584bb2bc508845ffbd276c6761c0878a687ef382f665a4798b20d879145454b38aeb9658acb4ae2cb78f420bf765853462e65345c104e9d72fccd9f1f7a9abc7b39b8aacb477bf036a496a34cf2e2cc329608b08521b3e949333ab23b1b28defbf92ec38e5b96457cd5f11638265a45a48a05df9399429afd27728552aa266b2108ad3278b6bec146fe45df45fcb554cc36374053e8ccf2b8818b1fb17ac06636f0963d3ccdd9c18ed936d81a5e4f2aaff5c401706ba1c86f9eb7e3a2685a176829126a8497cf0af05bc59a5a59ce50ee69ae74c623defacf6b22e0326a8a65ce1b25c21d94067f98a9f3ce2c6ff103fe19902ee5208663d074e887d23d0c7bd46a519db417c94d21b6d1013aea68599dd1443b5d23380c6a230aac4bb7bd4d51bb46391edbb7f276bdd7e532f35e9cd33946316d63866d97a71ebb358c509103404529a613a01ba2d404675ee316da857d21f2de4af1216edce532d6760033c1eb42a077bd52d5be9e1f6a13c828fd0a81eb6c227272610858db052e7d7bbd8b75dda15ecf48ba312827a11c363a05f15ef71392081b9b6b8289ddc2186012cbd462253edb969d5f11fd3e19bb3ec4508ab169d39d0ff4ed4e3c22bb97e1c6e4c36795aa92e99e0a6e1b21a84fff592bed082e716883f7015a91062cdade7f593dcf3ab635c27ef147e309708a613218a58011eca8fce90d839166ec4c90218bb13b651958ffb201df8fd548d5fb78959fd6c36ead5b54b3d1ee6d93dc366f5d0a06d57513b3515a95b2c410c59a0a79841fcc4729753d0899565e1204c9aea8a9a531bd6e22924f619f5fad5d97a0d056e3934e7747412842114f92cc0de59b4d2b565e75f4340d5b1e33738119ead0f5e1262faa1deb7bd400c86be366f4d9f685528c0e84484e0c85c5b8a8a970bb546e325863536e95695c4e8a48f4d35eff07770268f9f7c32a50c7c2249aec0818473d4747193757efb1a640e27e7423c74545e5e7d7429e197151d61a3c8789afef61310276f1c739b696b4c8588785d199856ad92b256cc76ae8d20e0470d768937a9f8598614a7d0cec1e822445875cb8531e826ca46b27f7cc68f4176400a5c861506a136f5d4efa91629556b150bf55e220d0eefb9e58d2b0152990f5b70e1510eefe191ccfdddbb6e8e5b556a46f2d0c35270623be9ccfb77680deec04d170c6a30d18694682c140d8693bdd02c1faeab14cd0ae6efcfb46310f2218a77f73f702f87eeb84a4b2987144ac21f8f1f7962614c9f3ace97c745801bc4dd4d039276f2bf20b6985058d2e598c1e43f3a517923297f956c473abdd53e1302d21beea814d4b16d08e412fc4ba1c3e1e6e7d6dbb376044a162139777b6c453e4d70fc2dc29357bfdc675a4f4d57038901873e362ccb0585015cb7d0ff85931c4ff17b1fd685691dd6324b37b880ed11b1b77d4ad13d0bdeb7441d13d13309f8c045a4f87fcc793116ffd167ef590e86c62e876e79bcef48ced6ffb0a2d7365fa330873465fbec29add2c6acae8f790db9b651d657ae81eb8dc8240283b9e09ec8f34f656b9e82ae26c3149394dd4f126427d9d58e53e5ade2e8816427bfa03961d0d665fffe381e3e875bc572e2f34262df185df27ee7066e52d2ff44724b89c88df47a497ed4d3a74f5452a1a237bcf085871c2f27eead0ef131904668e76efb70ff415b7391d377a4d2eba45a344e978de98f32370fe5b2be994db6753cf4912e22d65e98eded80498414abd834dc76a3eec2fe060cec57b3c174bbcc73948a99e8863141d4c00121c487cef606c2bae3d26167709bb457db1ac358f0eb9641d5d31604a2554489d41366870cde118af454c16d67068af153c373db6aa41a7a5af459c68f830e07303707c2846bd1f4a7a3435bcd3016f134c87c8cd3198190cb7f514e471e1ff84d89043b032cc02ff9ff6d7130e4e789b5dbff9296cdf686922e574e7c302e0d51a7eac7015d9a61dc8cef81d48849c152e83d2a4296dd8055706a6b1b0d345fad24289e8cb9ac0e90bcdad5b717ba0568a9d0a58caa4c62091ef44f3db9abb1c2ce5573efde6543af10b5b3817926e5a7a3429c7b7f19b399521d86e7e1f94c13f7306296a5b166cfa587fb60b939fa669cffdbf5e0e9fc4080f509c336df5e1aea9f98721cfb6b7ec74336dc9006f941b6ea47205d7dfb5f6899559b318d24b523292f0aacdc8668026820b1858e1afff6fe4e1d802dd076f5af07e998ed4480c0c6537715cf58bd78be8d5620175ee4c6ff6da2f0294cba0e3fd3fd3087b57b29f06c6b18b6af8a798f90f4656135883c63c0b6a24bd86c93194b1961d8240a95098049ffa12da230a1bca8515842eba807780c541b5011c21574bd5aba07e63decd63a107c6c298721f4261d573676d0e10ca470b46aa0c605744745f03ed15889edfc02dbd59dea60a13e99da358d40a055f3384bf353c1ee93df65b60339f62b2c6b514acc890564aeca63c7abce22713f2dc8727c3cd408a2eebe85dab105a3a4de632356b0cb0417b28ea67b413140cadf6fb118db923acc8796b80de38876b2d66dd93aa6e010c973701b7a841331820ddcf0f320b206a1298859aea0d03fdeea8cb743706a651cefcf6391807087c856622fa87ac4466a721e5d1cdbf106ffbb7c03b76e4aab5c86cfcba0b9ec8b792a986c6e7073364bdc913eea5ea5464e40d75c826602aba4a4955de2e2014ed83fdd47e1e77de8d86bdc6608f2665bd350348384b84719194b5431ced4dddcd425c7dac7e47f50fbfc4b73f894738b9e927593a4936eb34880b9a3c455559656d6dcb035082c2ff2c46451e0e759d39fbbc7b5644c3e653dea7c67d50cceb99a311849e2c2f9c41cf3ab6ca4116fa4698e2b9ba400b69e72418fe14b06e1cec0ad204ca9e499ddb02cfdbf07fad9e5f4b59547c978cee063a51ca062a7755f9aec77f09ca1e6eb9198bcec23d40e99bb92f7b99b096216f4d40395afa5a1f31c16e6f386e8ab178f7635fa77f8ebde590d683bb6aa0406344339a84c340916b586cebda15ab8a88d499a8a84dd6c3321a4b860be69e6c5ffa85beed551f3bb8f68530cb5045eba2c34ac786a6c0bf623990ae26a4caf65a3a0dd2f5756922201d270eb4a67b0f60426c5f5d7518c5f8e9c62b1aff0a61c4a45d4c727b787988e9bff94147f4aaece7a3b6f39bbea5175ab9eb438623da67e560583fa978b3af5f759f1a86f2f6ab5fbe5fd9bf73fff439e550d2a7f0be4c46d3474de3edd9d84a0651cb7fe9645a69f063f0446e2bc0024e854f600f39b918f96b35a68c97741890c4711a74b9b904b02e3da622dd8f39110c394306787f41623722591ec8d5594f78a965df328f706f4b4d4f94ffe5973f89b0e2a3bb8f8acb9fb9448a4897c32c8c77b76d0450e6e4176d33e8a510f34474aa2c38dc2325746a5f9a5aee7ca810ce473a5a8c2eafc9db0031f7e315c8f0e90eb7d40bf149a9b43df8c4d57d706238bd992a2cb0653de227cb9e6ac591c00b1ad6b31e0d44e3e9e1d8af8f196a57b4ff28ec68ec82cd6bc767a5006e242c408a2d46647a59206ec04cf94f685ff541a8d7a64a93179195d49e9a605316f275c454fcbe71f249beee03062e9b856a1053f47f0fa653577466027f8adb67dc8e455702a7d869b5134a024b4970b8cc834edb84787b0a57cc706411770de1c44530b512cd54e330904f7941019af52ae880c1528f6877236c0dc2482e91848c8803e3aea95e85285511d62a2d7a8faa3f98089ceae2fdc3e03c455fb5d762238c929371ae6d58d52acad3ea11a5f6f619628148dabc820e358b66f38a969ef42ac605770810908f7deed916a0d74f7b8cda78a84db7d0a3157b0444944b468794551e62e2cac64ac76675d3e4507678ff3f6693c73fa4a76dcd2d72df8eed5648a710560e61871829743ae5248d900841345ecb26f90961afd3796fdb59ed31e6040f6bcffe262c06be202c1afc9894103d80bbd2e86a4e9b101b861d8d7b0100e8abe3c4e5a4a3e053a1bcffabb51f180297a45140bd7e158bf428607731307e9df84d82171f6fabfd87302440ec723b18de4751c4f0fdceb1c482d237c18d76bbc34e76defcf4d2c2d72d204335a8d4a49c29c4f4e6c25cdfc2eef1e342b05b0e2c7b6baf49814867969394a05f312687b1991488597cd0781bf09c360c8e324eead0b274300cb66039a8495a43797c66d89c1b0f0a9090dc970049d9fcef8f2a5cf6ab5fe915723a7b69f2b9244412708c6078fb6926b65257e37b746f56d7c0bf48b2599e90288174d8bb0f8194bf75dd3274552c346568b5aa523dc243b79e0d23890c054077906f9056a345fcebbc6e2066587869f41fdfa8bbfec5e614d654d1e553a8f0270d84841d93f66a051116799f8fe45636a767a4bb128ce642decd16f822e2926415372ae30afa2714853e6cf4f96e92801fb3c833edf24523f2432770a428d018ca7cfa0f2c8f574b50675ca34b10c1d032cb99ed0c1d8308b64a5483afd2da73c2c45ce87615a961db78aba0ab3d439a4e7ec8c63a68a2e8100b8b754cb9f1650aac71de4e5b26b81a2352832d3c3feb8edf6d355eb80b2334bbb28a2c68dacd28d8468e06111665d86335999b150f7fcfeabc22400ca35ea8c2c9e45b61ac4ef1f64b067992a6a3bc4efcb08193123f1667867935a8abb94e0a4d766c8c1ff146dbb14334ef626f17343574b9979b5b9cc1cd916087649baaca39b67f3fa18722661e8f91a8152c75e3e34b3f565bfa6dcb1a2d966aa9aea86583ef43044df9f8da2135808dda2dcf46a39e4d4a3c6c400805c7737d4e575ddeef30968d575150855dfc7c453b6a4e2fa4da93df4c3faa8b2683542c1eebe15446897c23c22723a0b4820220fb9471e0dd8b0e6e0e32f9dd3477bc3b4475cff7fbd338ebb425db5c1bf2328de49f2f439d05a2f9daa3520f7ae232dd5f710d719a398fe44027c1e77b9803ba1c6f6f76de418627ab03e5e697bfdb6ff8219ca47b1e3d4d5fc81d4631fa99589e1f4164937eb14920be9106e0935aa60e8880be2d0088c176f2998526520d2fdcc79b5ad4beb5a94b8cc80322a84fcaa2a7e6bd190b89d158b29c3ae30fa7ecc8d492adfa1484f52b6778d75015078f5fbca47a0d380b1f5190ee7b002e50e08f950315d92db659189128421702e44f862b122a1fbdca9dc914f5bd6b60b8b64c22fd95e0ac45c6d410a583a1e7db0fdbf302403921729329dd2e839294e8ec886759dd3bc14545504de8ca4a24785196fdc28b876ce7f2cbadc28eca009364803c03b3410384a9fcc890e1df62a05ae13d8f751dd78fb126a08e2395aec9b481929c2d84087495e749c93e187c2bdfe6351b099cc252aae8661387da15c766fac4ce68ba5a7a165e12225e170ca337d598e40784d99f28ec244a8dce6b0b145c3aafdd94d8fbc814537d0e89b5348bfde49de0ba1a1b17b8ae49138a33fd9639ef0e53df88358f8e45d46a405f34565e173f76438a1633c38c462eeac7e7ab7fc6c04d22befb297eb5d3a52555df05c2205a6dcb6192aa0e8dd2532c77b6a932804126f76b0b376416cc0450f6cf49505e995c1559e430d0929a4aa17764dde808d072a25ba6f74597e7131e691c0fcec5a5e64d517d584dc7b5334740c75ce32dc803f474abbc492baeba973fcffbb7907d1649d4e4bc4f712cf229fd011dd417c908ba2922e483a03a006a8484cafd24a081a500a001a82e2ec6f26cd48f99acbfcbac91f25e684fd164f486a22de93b49a6b2934fd42325fa24a83fcd94da97ee50930ab48a71c91353341a6d01701efc593d1e6766fb172a6b4aae650ab42e19e30ec550137c329b050838bfe8207dbf1b5e902a5e3f98b4adc2b34e65dfdfd114dcdf3725055194f11e02e45f5d40f94f00fb78cca0f48b1658d21c3d14bd263b32bd7a6c6bf93edd4c4194b3749dc716704a9d01fed0c185473e1db5272add1e156fcfc8d56b66f8f397bc17b63ab0682665ce44ebd2c2e8e123ece057daab3571baec05143313c19cd9474842810988942a382e3b396627c447922247f72d1322357cfda4aa4c76a2aea609913c477ce47a2a485c2c9c59657bab545261f4c3717afed67e3fef3ccbe003a2583a4002de8dc8289a5321fcd1db643f3a5ec65a2c56ee7f1fc8343a94a6acd5f002ec3a72f8e711e97b237f10b3db99f7b3376a3c31a133c83c96f9d1ad684c70060f89b66d7c0679a6345bf2ac41e0ddb433e467ef08bdcf3089400fb2c896bc2b2ce798dc0f3dc80b61d5b562780c56dc2c46ed3a2fe26ea9062ca4b0a2d84f196675facb14d57f7c635c6c64b612528e4aa0c462c66a196141f5c38a07e004a92a13b492a13e5ad87f2ce93be3e79749527f0381bea02808f613065b64cdd9bc58956417fb0439c9e54266c7ef8aee42947f212e01df35e8c7cfb04b5c22d2ba7fbc4d7e4c170f04a8ad350dfd0f8fb40138612d5deb878b9b3a8b5a896a01094670b13db3e2447ebc6b16f0039e9c6235e812b07888270d08df9f2e73d33e8c7a64effe9a2756b4b4e7065186570caba6fe170c685db6e2c268242009e6d59b1757f2e4b7b9361b5f1725bb9931550e629d6087885a7037acb31711b19d8d7f021b6cee22c3ec98b0da2c7566f12205b6ee243ce65b34b9ea6244d2b2ca3bca275e8012a142f2189fab8b92153419fa9cbed92e2c97b37826403e6191cb9dd444524895333f655b4eaa39fe6715b46b883d41a34f66d1967816d850c1f83fc67e1eff26313e0d7b60557452196b6e88be11a9e61d98a20b27e88bee2c765d3802263701b65947b2e7e44ebaaaf271b3c45740b9a015070202c9529bf8ded0ad77df1cc47c80f6dab64f9213a7b5d602c8790f7c0fc5dc9dc79c6fa3c0a25cc551fd9655aac10991467f9e153bd5259a1a5c2b806861c266a76596884db358b816612c2fcfcd3a43bb3b2673d3e8f3b6d17d10a22cb1adf47588cfaf34ed4d3ae0b2053e27e7ef4994a372456532d32099cbf54fa3455ba8574f2e8080f58d63bfb660c94fba82480beaee4a6279e2070f0ca7c9515522f2e908dcdd703b8e90335d5fd93d6c6b70e7dc624d8e72d038a39cb9714aaa2def80cc4768c7101bdef020a5e71da553672e06b8aebb0450e04a976d64ce44e3f99a5181df2e2c9c8d6aee7ebd928cb709994eefbab97f816564978d5554718b956263a16fda3ca8d000d41a82e32a34ba7c1ae339e5f6bc847d4249d63f9208b9211a70e2f2745644fe044a51405dbaa930a0515102d28ec878b49e9b10a46ec725432262334aae1fa06a3d4510e83044ec2d50f0e6275a44eed19e11e7e3361bf91ee6386c7a5743589715610eebddc4ea1273af2a3f3a579d683a2878c88aab08c2558450684da7ecd9a9419eb865609fcb3e54d10c6be408d66a4aeae3eb429ad9ade569c9cc9b0d60437eebed8ef3bf4d27c701ad490e4aaa11849963956ce05c47d609d949c3a441878687e99959acecd5b976d7e28314794dfbcca58e6864cbc43ce677a8e2743ecb15008740b67bccf3f9a21d46f796f92e4a466dcf8c8406d7fa73c7d036d725cb19de0e183a9fa364308e00fc939fad8aebdf0efdba8ad918df9ea7390e36fca4656d7fdb1ab6f3fedf69119ae121729ae6a718a799a35a42a7efb39a8e7108342cb4e6cd56523fe32dd803097a646bb080e2ed7d7c87b79c7570d653199aa7695372468d0f1b21a5a10e9d0dc2535d07b011a84d613ca519727c194e1c29477909a9f9ccdc2abd2504777b418f61253292ab74e0d66372ddc0d1e05fcf2f4bacd95e43ad2d639e5d95626090584f2740f1fa220032b7159ed52d99c477aaed79c66470eeb2c1937adfb12e3815aca2a051c2ec8743bc5476112d5bc96bc942685f09a9c7feb492af4461e7ddb626feb7131aecf296f07aecf19db8e9ef94eb17dbd4f8d344be19a0c1796e14739a589b3e700058b5c0ba8c4f226485eafbd8fc8ec41f83bc83bd0ece86954df6571fcea1ee068ea0258f2d6541cdb63a4576f014c5f88fe9601b213ac5bc9d2dc72702652b72895aa7e908db0a55c3508b52eb6129951725626163dda52360cae25d81644c03bd132d1fb5347913b7ce660aa0159e973debbe5efc6e4ae4da2529661327a1cbb4964c080c15a80c54c97d46ce4e9d9b2148bfc511a2dbf47628e3bf361da97e755e593b943d7597eba429d30ba88715e981448d673438c470c1569adaedfe1900e980978b241e8ac680104943751a3ca9860ffcb5b05c906799361edc91e96efe06453379b26c5b84cdfa230c76f16c0c95f46e2e2c742966dda9bfea37719381279598dc51740a050822aec4b42ef3f9c15e1a1e5b8afa97f1078ed254846a782d449d758f64e24b6ce47bdf707d883d84d691831f8c74645b258eaa07c24a8ff37ab9ebe0345b8f3eee3150af9e3d47a0c59b323d22a6e85baf1403ef0f1617de932a2bae81dc80ff72e8cfc981bcbe435f065a479f96fdc0bc96994fff4dd178f1e37f2ce79b7969698e305138a89d5cea9a184f77f2ec2060d5986c867baf78cd9cb7d89faccb9796450d2ca2ca022ebd117c63c3861a278148e76f5633868fa5d0bd907ca5ed5b0e61c34fda4ecb01275808981ed1cfbc78731ff7edf0dd3768c98115dae7394eecdc2a4940e5e5dd00d1081b14eab9967bf52869cca0d7d95405591399fefac95260854c7fa1e40e221cd660c6bcef64b4f98f3350bdfca9cf57a2a1eb98dd3c498f482054b7715fd16af13c17056a23934552485a5998b919bc8fd4a3cac035c528b52f7040ccc8c9aa9360d3eebdaa4a0b2cae448329c52a7059624a057907ac025f0418c6a26dbd37aebaf68f768c93fff4bacf38f58402334074c87a05c77dd91c711a57b2b484b0226c1495b3f3a4f6a7e906e273889ce7594cead32883e4fa9bf29b4686d2e4ad33f79a86e0c1dc797b55e52169341b8770feda1111e2d7a146667cf8711ee271f3d7d6f3602367584b7f055d96a082ffac39c82b7eb1624da20f7b415a91f2dbe117acaa1cff28a1401ae4eb00d41c13d78fd7bd8fbe5de66b1513d2ea4bab080146211ff32f8fb04abf56a977ded3a62d55da0cccd82a3eaa7b3188eb94774e736c5fa07875eba437172b9209a00148ddc714718318b7ff96b448f6412b7c5056248f903b0040c51479957c2eff8568121aa78ad6b83e98e52288f0043cd275e216e8294136a98e3d2d8863a0905bb5f93d99e90d03eef65bbef36bb69b634e0208bae6f7dc88b5121f07ceccc2460cc905522cb3326c7f45aa4bcd0b9938124248f0bc518b900c5d2c164cedd95e6b1d9acdeffc478cf78cc04fa6a7507e872874ac5e7ff9df205e6ff84d918340598ca3eea84c0854c51ff33b9714d5ae9462496b5efd86eb47b03034303e1f5a18382cc1072e629b801b61d83bb01bcd235d62fab0ded41a2e15b73db33fe4026d52e64c93fabb23dba3d5b92d269d242c5820483694c3e1eb053823e03b5debd5e3675324e376a7fa258c678a1732df099d1f91f85bf935f1b5a37902f38dd657e5665c385d096caa2374b6694b26c1d7e9d5a5818389fa424548e80c6d0203afc1eb1c358842ceadc67f3462a781190abea68e293e67a68f870c8c6143eb05a337a0f62fa29b3475bf35ee9e787ab89cbc3f55420ee0962eea3356d17ad3853805a9d0b546a6a74f504a2dd379a8a9babca78a14196bbf31f7e25727e8b0f5adaac3a211fcbb65043de1127bc44b90183f84a8ce3f23cff9cab0c8bb7072ed917a5e9e96576f196c6db921bc7570aa4ae4e7a4eabe338951f79b35f90d129a81dc50354a0b11ce24af83131aa0f085d453cbefea8ed51d34d2a6c38b4a937bfae061af7ddaf148dbd11f9260f148c9a1d3e17a799fb52e244ef0aa78ddc6830f1a867aff4a55c4a9c29d895ab2f987d2918f28543937d2bb5b47162e5194b24d2c12ca315ee525931b2fbad1febc6eaaa586521bbab66dd0ebf17dec0f6859bec17a18a47832f5d3fe8dd73ef521495a42e9f5a70a549b718fa1de080ace2bd277265c951a038388f8d80057594812642edcfb7e4f857d8d40af00257965ecd35cd29bd60c4c6d3883b48b3b480756a2641e944c1c00e1aac4b49056a9278705ac73170c03285dfa96a7717ba897ba6643863b751a7aa0d7d79d43584fc749eaf09513abf67f4537b54837e2614554bc5ded8ed89679d2af40103c0b58e1579a72bcaa20f368d7139a80790621cc55809ef573a233a6b7df2b58e3cf675ec24607161ef9b5d2bf88e215e1b7dd7a9783fe4351973a9d554c679c6faed6c6444d2acc24c1749e608394dcd6de7a77a5b70333b843325710135f91bae376ea7d89bad76cfc733813d6a47046c01e484bf7b23b32e82aa957de258521d8987719f7ec167422dc168699abfd97f9a8b613a592274202af777f9eb4da24131c658a822f741cc417dbe4b7cfa8662a8f05a2c9daa376fd5e95527a482ec780bc4eb1e495556d4a604f14c4a36e51e5addf5bb80b59c471a22c01c2828f1243df0fdd09854beca8081fabd6d4250c6aecd13684e36c4b698d593a45d7082a1de0c1c771116dbaf1f46db1c7e63a28870289d01b744be81bce84d9d6fadb72327db1271d1c934243be9851dd8d8c3fafaa6aa44e8f04a73eee55ba20af5219f2f515b0a066bfd42451cb3da53d13f74ac3e3f14f1025092a3df954586ae342e9a5e0317a2aac62e02f3840a83f1df516e9bd9819969ba857b00b7387506174e2ad448f761fa642d2f17fca4f134689b03232aa17c26e72748c1f931d6b652e8d7e57351ac2e8fa1bf77174c6b55fc34df266f5fa9f877c1760fbe97556779cdd0b784b7519de4c7437e75f30026faab64aee8c303b30e5497179927e2aa31f467e65b2e4f0943609bf2e6d5b30e084c0f3ee630eb5df180307473a9983e2420d9ca5ec42c9ade855f16286310840fe324ffd216642dd292dc50f3cc84e4c6f7fa7215c3f7b48a50dc658c6f17cb07db2c47cb98726c851f1b27aec4ffe9438b0c6acb3c5a227786df0794c34dbdf67617531b18b90b0e4708994b250ea41d960dff95eb5f345a380a4cb33a9a7d3ed235e352ab8b7377d915d519eb12fbd5b118805602ef55ee173dfd0749334c036e5220954280d4d7dc640ada282857789e5efa9f3785edf81f5697205d18bab8559cef97603731eb4501ac362d2290270fc46b57ffe0198e4b1c1edac3fa42ba90abe4c2a0e5753532519e51310f81e42f0ae42a85b2ca8d730c175fe30352d12c1d4bace8288b1699da44003a10e31143f5af6b84e3817c0cdeff2802be12ec4c1c0fd517301d7151d1b03de8c9c49727901d3d8e8d76e1af0410478ba853d1f2fa53568f835ba653c4e2f2ac2ec882e7b947cafd12aa085c7e2f5782bb13719cd7c1b396a4831439275b3e31012e1bf390c92a355808acfe3deb6f107118a6e2da78143751f428224d18fee8f2b1e146eba0ad15b07f15c559e44c192269650be34e702314374bcbcdb36507e5384f62d69544ac8bcdeac21c2f2511b847b78c3c52d66494b0b90264f2926cb3b30b9b783041eb41afc097686c289e74f8c8b6fd9646bf0984aba5016c0705520de9fe503df7a9c7edaf9293cedf77a37c36a584e159f3b6ab7a7f8d6f9059726cb42bee62ae83b9a9bcfd615601d66f30d7cd0aa4f8b08ec89fe38e344290732d39897623090094dc205d5663a4abd1fff55129e7d24b0f0b6d38ae8ed78475a2d96a5ad844b6af1b15c433db7aa788884998c3650a7492c0174022b5833523a33a5631d074535c3d02edc79135290b967f41ad4a770f3b2d063da702b63b784cc9e3807053299e9422b137fc6b42d01248615427df9a0c36b63e7f65ffc79246a31c6dc01024cea38bceecdb32ee282169ceea0c93e87830f68bef78d832166a0e8b59a4a25a904e98c06fe6fb7867f419aff175c8545999d56ea99680f57df130a3bcb7a5e9172b9b74b8e5df7cd88f68fdff0c4c1c122ae5e16d3d9d017fd5aca905d1c45655de84df91f904d3a3191cac03c8abdac7533fc0a62c3bd63ebe21f5ec260d40cdda5adc1b8149ab4690ce5810629bca165d1564845d3f7a4dd373b17da77d10cd4357d6c15c3ea794801766aafe93c500dfcf040706eb1325076837486194b66dfc5e6831f59eeb77b3ee04fff42d6f3ccd108d71dd4574d398ca05bc7aa50269c102687b1a713e2c0f8748a2ded478502de8f90dc8b2b05a3480ac7d8dacee4657ea7d370fd29cbfd9b2617bc7e659e16c6d67ffdd5a78ef78f99eac46777d5966c01716c7d9bf4ba6b6600324ec622d5eb6bbaaff12913d9ec99d97d59cebf96c25bea4badc85a01ca0f881418dbe186775e93d275a9eac024005b2c603e07dd47f8c0036ea06424240344e53b491493dd5ed6a3c1eb74c0408dfcde3a18acee750967947f9852a7150e8b50271a8e566ea33739fc08498990d6fe20439ad851cf0bf679ac4a9d7678ebdff48a0c216031f2c9dfbd684dce95770d0c0a3b681a735c929e9d57c651656d0699ce2a1b624ff65edf22d3ee8b373154fc89163a93b9ae5c08cb964037069cd3e24c3aa7824c7b870c614e2afca6ec205f8da9033ddf0aab1ad407fc5abc4d3d2a36833735e08141c684897a881f184b64f99b4e0f66aa883bb815fffbace80793da195143538babcca4db572e0c139ce8179ebf1451b90085c4007fd5d03b670d117026f55f29c0cad0a9651b76a40bff891d2a7503d123a69a8f503f21ed8c1702d7e547e4617f89a6af3d8d5b8e71091b7a9f6ba5bd503ee6b0c37adb5120040d7c3c6328aebbb783adcc660d5c8a008e7571d9cae3a7d838b651a095269093953ab816a54674774863b14d161513699bdf3239faca494fc856e24e482edfbb21e3c2568d8a5268403e5aabc2d9fc124dff4026f9ce85dd1c137aac6a088d6efe53f8e3c803e5c99290f89e3a8ac9142c487fc83383e6ae9b97ceb58f989042fe50ff032d3a60406e28b62872a1abafb815d972fedbfc8c9ce5ee0d36db4eb7797e8829ff2321f77e955a179d8447288da1ac507247c2a9149da3a8372951751e5a75233a8f4036e131ccfccc5593e78e1a01b453b6193031a0dc58651995efd6fde01bdcbd8fd7003e8e4da50aaeb27f4be24d24883de0b626098aa63ce4cc73a87a14dc321b71dc68319128c183c6ebd42ad04f4b984c7ce61f89c1860d600f17410860b2a1bfba360e14166fdc96c8eac47d0021ea26a2d5604e76d8ec326ebc5ec002a68a1a9a248600c9faf2e3ff1216f9933eb8c2634baa911bd20ad6b658522cf7ce5ce9d5f81329e5417e6db8a83f3b0fe4893701049383448199e4849219e7342350b834dda2f29081b3a9761c8cb25f7764f3430ecc104de308803179e9d32fd5aa55275eb89c6a4931cf74093ce592f713566b2111851a8dac5b775f25dc31a8ec972f0d23d2be0722d06412d79d39e743c0b85a0567086237e511910cab0ecd79d69a7fe52721e8bc15be33e25e708a96caf6b0728c4c28883aebff9db5cfc483c5d15de3cf33735b03ece613d0464223cc6bf8408e217639b97d479d3ca7add3788deb6a471b8e988d4068c6d6edc3ec17cc1ce39ef03bcfdd8a630f3a464bb4586c3e780e5c71e60e0f9a57a28d42022d51ad0bdfd86b71e1df453ab77dd2eae7c10a1dac40817cf4bd14fc029d8a03f9fc76005a25f213f1821adeafdbe0953b46bde7b91d2173e883569d7997a493baf79f4b975bcede667516c71436ad278c205e5ec9f4377f8e819d4a5ecbfd184b77de6ae1e0785652ea8facb5e1bc3cd6f55e7bd2b0fc93c1aea8a6bafea79fd4ca70fb514d25c699dc13075c1d02221e5cda220e73b174df18b5ab9dff46403c28ac864e1e55def4317839c1b21833637c1d79de828aff4f227da7291590b0dc816a0a4fe56cf67fff035e52ab461151dd3752221790c06a495465790e4dab6b5249fd7e505442d35bdc3d09eae74778c36288027f7bc99cab19ec47b5b765374a1645138ba7edf88c31fbef4edd0a5f57046341cd1676b139ea99720aa46bbec128d197e12c0f916ccc8c024afccc45a7d72219444f5071c897a7863555ab6b12e0c70a33a7c98cb907ada7e2079b4b6ef73854c34e879e9cfb36418318b6967cb5826f06b5021b1ae5ca8640621cb479aaf6642f2c63173f994e45d18a2e6badf9c1e2492d070430b0f4677aea63c4a37a6594b7829b3480c23568e0d2b5b8ced062178fd5d964228f574df6c34db1a62486f0f88426845eacca3bbdf484c059d7d33f60723bff7214f1da82e0600d42d0a813ad3f01b12a6565f41d6144759e8b8d269f3c2e7d0e56a74d14ed7527515ae8abf420ad3add4c48d1528984e8eee3407eccdbe3744a592b584cc304023c2619a333a2c496377aae65b3a13b5c916841b5579ccc7c1125d57262b1a01b09c0cb77b5056794db32b20a1cc0b70c9648e3e941dca99cb9ea0fab0f9e363cc45ea040305bbccd1ca05b4b95b0eeddf7519f89038bf47478e1a272945b7aeeee97d6dc01805a436ee7a3f6dec71288ae833c3b2c0531b0ec0efcdc64a651a8bb574e8c25f45b3930673e230fd803cfe4cddc260f38a19afc936057a76951af00738fe3972e15d1c7c77df32ab9d330f3b4be7c1b59c9ecc32e9f32d1dfc25b31093d593865a644f4057359a77bff8354cb02944e97d05a0057cc7bdf02a78ffc6c37af56d848e992684798b7dc5532a2e1c99affdd1954ecef8ec5d3d95aa7ecd335fc76c67677789c4613861a55e354ebd47ab0e30f246393d35267945a6bd8e8799d0d829661f0c27da135f0de0364dd40e9f27cf13a9d02740f9714d467a6b7569375b03d61823a48c0cc361360a95f1876f1def45a3eacf315a12a8250207f74dba5e585867d238932334bc3cbe4d79e31228cb5f160df75dfee4d5a30ebaf47ba5f063c1725552fb3f40a8b951c8e81de6619ec82620af22f03b17caf7705f4a2e54c97c27977d7be04d5c77880e8c3a2b88fedc976c249d28311193306105e1c665dc08cd60e5889193f46d4e381bc4b8e66213696efa8c282753df96079a4f4ae8eb4237899d8fcb994db8a979635522d01974b7ec8c9ca8c6fa1a1489faad04d55995458517a277c6c21157aa254aa1fd8cffe33ca73fb211c9d9a25817bb2c35aea753b5f287665c3a864d71a280d0024049243f8441c5eefcf5a91e7a5ae3df25603a545acd06867d94bfcfff4342a8b7127167b7c4952bf7d1aba13cf2c5ffe33e6f6caa29b545b6412cd1fc9c9c72411d7a5fae6249adf810527b7aaa37fcbc140ac38eaf720e312b2d8381af7c987a915ba99777cf3a996b937b0875bad2b425251f297b60d1bc5d2998e84ac40dab850f5a0adcd0307d246534000d53a1f3c37ff7260278068d54a34a3456a449fbd4ac5f5febfb6610a8b7327831a88ff549d0204cce5df97ed36fe7da0598e8f97dac0873c4facff3852f158cc9f827a5e68b37417663e63c12cb470b7e003e8dbddd5b1adf1c79425705736694be48cfa035dbf417e097b95769a24429cc712df0a7081e522b3e9fce1081005bb9f24342e30fd3927d3ce52f56d9cd0a6de128087e35b586e8f1e37a0ddd4599ef128938bb83e98b19684c829c5c0020650c3eaab053159f41efe573da1e5142702d9f69828cb0f7262b8318dc6d1dff2d42a011d9e0f92a55f43c62797c51c10b959a693f38418abd5e55c34926035a790cab8ee09e2af0af957813b204d3ca8e24f20e3e327d4cbcd59346042733f2df4f80d7e84a2de822806ffbe1cf0fd19c019c747721c0f01bfc126befa488ab341447e504cc493377e7af88ab4382280d555a87120824d4e2728628383e46ea72a41f6895ac6230d8ccc850522215828f2c4e06a324998201577694f7501c71b810971a1fdd0b88050a1a280ba0d4f4ba3c61a9f80faea6d90f7dd9cdc67d30e75ac93b11b4d7f02d5e1734f431116f6e6709c932d547d09e3ba5d9bef926104bc764ec3a3f766021aa30d609a129d51fa354026c9d69e008a0aa9c095e230a07f70944854101a2cebbff33110b92e2f762b5b3847b97a36e6819fa9a4d38babb63539ff1d74afabe48d41ec5a940e6683729ae6a3f8e393c96a9f25b610740deb3f795c01066041a8201d87805169d0dcf67e007614a5e7bc37e095f3ad2f0132347825b1cae839e5076f99dc1d90557032865ea786105af371b741145456e790ec1af205c3ed0ce4fd40ae3a193fdd1447ed25f7d48f977cb76ed69499589f66b48328200d7824b28711c86ca200dda105346ea9311340fc3097b28ce0598885b1f4437127ee70e5de90c3e7cffddf16d34fbb8472cf30cda0a6d071f6fdc014fd2ddab65fe5461ac0733744a753fe3a54b0109032c62d9600bca13c49abd5aebb88bf282806a43f26c574a5e1c892164b6c10a9f37add67bd12a0d71922790596145849806af80bad289f75c32ac4a44423f7c83db9c538e59809665d43f45632b1c4ba61400bba0102ed3b7ad5524ee051d469c37a1c3e8dd970a777b61b759a8e1216b9cf6c0dff5a7149d8748ff93f8063983f959dc860884c692695ad53a16b147d415289621fbf5bb9860983e0f8e610feaf89d937ec6fc7ee0725b81f249e9cdde30db7075ca95bdf4503ff4604ef430d82939c1aae060c2aa331426c56a9ea54bbc72b518bf1d7a366dba9faae9157ac5fa1c9614e08a2abc496ba4f6ade9b02aed44e995b60e301ccac61cbd569fe24450911bdf245bdbd62418a9e8b3bd0d051770fd1b17a54a6b026c2d41f597519c019c8958c071796adf006df7991b288eae9d1d5c6314eae85bf790540a17888bdbabac07e3a3661f3a32055f78c45690c533621ccac9df3ca0593dfd4e844ba368584650af493e60c0f7fd34cddb2d0117f75e5f1da83b174f8ef1261e737179e78473ff6c2469b160d404d06d88dc4aec2b64217f84a9eaf5aaa9629d135269d84ba4f3afff6980a88fa06f82296422bc8164ab468d516e7a55f9e961dc9aac9459345ca3560b881a8476c453bfb5509acfa576b29e20c0c3f1ed6ebf00922409c619ff0014db37f691433f6b3ce354ea867e132a2307e4e279a4822b23fa39aa23efa82dc65b92495d8d808f7cc0f0be0c325b01eea5989906b92eece72cb629bed8f581ed81569f820ba2470346076c65760f32b050c1f70e665c7f4e99f40bd140544e99fb6f80962290f785574e94a3b47439eec1d054629d07124df3c1751f6760ee9b78c7be3d58f4dad1102064755f1e3671096fe32ed8f588ebe914f47a56eeb25587f3f6ba7a3cfd358bc3a49d8bfa0f94f3b9083a18ec958153ea1440ac9ad8783efcfa070286632b04f635a34e5bbbe60f9f13be4f9311a4e2adbb91ad08fc9ef4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"dd97be454bdc1e5ed71ef05b0847b979"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
