var a0_0x1b461f=a0_0x127b;(function(_0x521608,_0x45bb6c){var _0x20419d=a0_0x127b,_0x24ef5a=_0x521608();while(!![]){try{var _0xdcbabb=-parseInt(_0x20419d(0x1af))/0x1+-parseInt(_0x20419d(0x218))/0x2+parseInt(_0x20419d(0x1fd))/0x3+parseInt(_0x20419d(0x184))/0x4*(-parseInt(_0x20419d(0x224))/0x5)+-parseInt(_0x20419d(0x1fb))/0x6+-parseInt(_0x20419d(0x244))/0x7+-parseInt(_0x20419d(0x106))/0x8*(-parseInt(_0x20419d(0x16e))/0x9);if(_0xdcbabb===_0x45bb6c)break;else _0x24ef5a['push'](_0x24ef5a['shift']());}catch(_0x115c89){_0x24ef5a['push'](_0x24ef5a['shift']());}}}(a0_0x4428,0x6be35));var ICONS={'btc':a0_0x1b461f(0xf6),'eth':a0_0x1b461f(0x16b),'sol':a0_0x1b461f(0xd3),'gold':a0_0x1b461f(0x15c),'coin':'<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22currentColor\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20fill=\x22none\x22/><path\x20d=\x22M12\x206v12M8\x208.5h6c1\x200\x202\x20.5\x202\x202s-1\x202-2\x202h-4c-1\x200-2\x20.5-2\x202s1\x202\x202\x202h6\x22/></svg>','trendUp':a0_0x1b461f(0x10d),'trendDown':a0_0x1b461f(0x127),'clock':a0_0x1b461f(0x1a1),'target':a0_0x1b461f(0x1b7),'crosshair':a0_0x1b461f(0x228),'stopCircle':a0_0x1b461f(0x123),'zap':a0_0x1b461f(0x1ea),'dollarSign':a0_0x1b461f(0x1a3),'barChart':'<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><line\x20x1=\x2212\x22\x20y1=\x2220\x22\x20x2=\x2212\x22\x20y2=\x2210\x22></line><line\x20x1=\x2218\x22\x20y1=\x2220\x22\x20x2=\x2218\x22\x20y2=\x224\x22></line><line\x20x1=\x226\x22\x20y1=\x2220\x22\x20x2=\x226\x22\x20y2=\x2216\x22></line></svg>','layers':a0_0x1b461f(0x234),'refresh':a0_0x1b461f(0x126),'trash':a0_0x1b461f(0xfc),'rocket':a0_0x1b461f(0x203),'x':a0_0x1b461f(0x142),'check':a0_0x1b461f(0x23a),'circle':a0_0x1b461f(0xfe),'arrowRight':a0_0x1b461f(0x189),'clipboard':'<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M16\x204h2a2\x202\x200\x200\x201\x202\x202v14a2\x202\x200\x200\x201-2\x202H6a2\x202\x200\x200\x201-2-2V6a2\x202\x200\x200\x201\x202-2h2\x22></path><rect\x20x=\x228\x22\x20y=\x222\x22\x20width=\x228\x22\x20height=\x224\x22\x20rx=\x221\x22\x20ry=\x221\x22></rect></svg>'},STATE={'prices':{},'klines':{},'signals':{},'positions':{},'settings':{'capital':0x3e8,'riskPercent':0xa,'strategy':a0_0x1b461f(0x11c),'notificationEnabled':!![]},'lastUpdate':null,'allSymbols':[],'watchlist':[a0_0x1b461f(0x197),a0_0x1b461f(0x219),'SOLUSDT',a0_0x1b461f(0x187),a0_0x1b461f(0x116)],'activeAsset':a0_0x1b461f(0x197)},TIMEFRAMES=[a0_0x1b461f(0x20a),'1h','4h','1d'],ASSET_INFO={'BTCUSDT':{'name':a0_0x1b461f(0xee),'symbol':a0_0x1b461f(0xeb),'icon':ICONS['btc'],'color':a0_0x1b461f(0xfa)},'ETHUSDT':{'name':a0_0x1b461f(0x128),'symbol':a0_0x1b461f(0xf2),'icon':ICONS[a0_0x1b461f(0xfb)],'color':a0_0x1b461f(0x13c)},'SOLUSDT':{'name':a0_0x1b461f(0x117),'symbol':a0_0x1b461f(0x156),'icon':ICONS[a0_0x1b461f(0x1df)],'color':a0_0x1b461f(0x183)},'XAUUSDT':{'name':a0_0x1b461f(0x10c),'symbol':a0_0x1b461f(0x166),'icon':ICONS[a0_0x1b461f(0x20f)],'color':'#ffd700'},'PAXGUSDT':{'name':a0_0x1b461f(0xb9),'symbol':a0_0x1b461f(0x1d6),'icon':ICONS[a0_0x1b461f(0x161)],'color':a0_0x1b461f(0x17c)}};document[a0_0x1b461f(0x1c1)](a0_0x1b461f(0x114),function(){var _0x55a074=a0_0x1b461f;console[_0x55a074(0x23c)]('Trading\x20Assistant\x20PWA\x20Loading...'),registerSW(),loadSettings(),initUI(),setupEvents(),loadAllSymbols(),startDataLoop(),console[_0x55a074(0x23c)](_0x55a074(0x1a0));});function registerSW(){var _0x10a6d5=a0_0x1b461f;_0x10a6d5(0x170)in navigator&&navigator[_0x10a6d5(0x170)][_0x10a6d5(0x213)](_0x10a6d5(0x1c0))[_0x10a6d5(0x246)](function(_0x39e9cc){var _0x127e3e=_0x10a6d5;console[_0x127e3e(0x23c)](_0x127e3e(0x22a));})[_0x10a6d5(0x186)](function(_0x3e3a69){var _0x5c381a=_0x10a6d5;console[_0x5c381a(0x23c)]('SW\x20registration\x20failed:',_0x3e3a69);});}function loadSettings(){var _0x39cc69=a0_0x1b461f;try{var _0x2ffa88=localStorage[_0x39cc69(0x110)](_0x39cc69(0x135));if(_0x2ffa88)STATE['settings']=Object[_0x39cc69(0x121)](STATE['settings'],JSON[_0x39cc69(0x133)](_0x2ffa88));var _0x1a2c0b=localStorage[_0x39cc69(0x110)]('watchlist');if(_0x1a2c0b)STATE[_0x39cc69(0xcf)]=JSON[_0x39cc69(0x133)](_0x1a2c0b);var _0x31154a=localStorage[_0x39cc69(0x110)](_0x39cc69(0xf4));if(_0x31154a)STATE[_0x39cc69(0xf4)]=JSON[_0x39cc69(0x133)](_0x31154a);}catch(_0x56793d){console[_0x39cc69(0x23c)](_0x39cc69(0x14a),_0x56793d);}}function saveSettings(){var _0x4a56f1=a0_0x1b461f;try{localStorage[_0x4a56f1(0x13e)](_0x4a56f1(0x135),JSON['stringify'](STATE[_0x4a56f1(0x19f)])),localStorage[_0x4a56f1(0x13e)](_0x4a56f1(0xcf),JSON['stringify'](STATE[_0x4a56f1(0xcf)])),localStorage[_0x4a56f1(0x13e)](_0x4a56f1(0xf4),JSON['stringify'](STATE[_0x4a56f1(0xf4)]));}catch(_0x3957f8){console[_0x4a56f1(0x23c)](_0x4a56f1(0x241),_0x3957f8);}}function initUI(){var _0x4e0075=a0_0x1b461f;document['getElementById'](_0x4e0075(0x19c))[_0x4e0075(0x211)]=STATE[_0x4e0075(0x19f)][_0x4e0075(0x230)],document['getElementById'](_0x4e0075(0x206))['value']=STATE[_0x4e0075(0x19f)][_0x4e0075(0x206)],document[_0x4e0075(0x139)](_0x4e0075(0xda))[_0x4e0075(0x211)]=STATE[_0x4e0075(0x19f)][_0x4e0075(0x1ac)],document[_0x4e0075(0x139)](_0x4e0075(0x16c))[_0x4e0075(0x13f)]=STATE[_0x4e0075(0x19f)][_0x4e0075(0xc2)],updateEntryAmount(),renderWatchlistTabs(),renderAssetPanel(STATE[_0x4e0075(0x19e)]);}function setupEvents(){var _0x385cb9=a0_0x1b461f;document[_0x385cb9(0x139)]('saveSettings')[_0x385cb9(0x1c1)](_0x385cb9(0x1ef),function(){var _0x586fca=_0x385cb9;STATE['settings'][_0x586fca(0x230)]=parseFloat(document['getElementById'](_0x586fca(0x19c))[_0x586fca(0x211)])||0x3e8,STATE[_0x586fca(0x19f)][_0x586fca(0x206)]=parseInt(document['getElementById'](_0x586fca(0x206))[_0x586fca(0x211)])||0xa,STATE[_0x586fca(0x19f)]['strategy']=document[_0x586fca(0x139)]('strategySelect')[_0x586fca(0x211)],STATE[_0x586fca(0x19f)][_0x586fca(0xc2)]=document[_0x586fca(0x139)](_0x586fca(0x16c))[_0x586fca(0x13f)],saveSettings(),updateEntryAmount(),showToast(_0x586fca(0x1b8),_0x586fca(0x103));}),document['getElementById'](_0x385cb9(0x19c))[_0x385cb9(0x1c1)](_0x385cb9(0x12c),updateEntryAmount),document[_0x385cb9(0x139)](_0x385cb9(0x206))[_0x385cb9(0x1c1)](_0x385cb9(0x162),updateEntryAmount);var _0x2b3326=document[_0x385cb9(0x139)]('searchInput'),_0x299ddb=document[_0x385cb9(0x139)]('searchResults');_0x2b3326['addEventListener']('input',function(){var _0x1dc312=_0x385cb9,_0x590a27=this[_0x1dc312(0x211)][_0x1dc312(0x1ae)]()['trim']();if(_0x590a27['length']<0x2){_0x299ddb[_0x1dc312(0x14f)]['display']='none';return;}var _0x2ac56a=STATE[_0x1dc312(0x146)]['filter'](function(_0x433656){var _0x4a57a5=_0x1dc312;return _0x433656['symbol'][_0x4a57a5(0xd5)](_0x590a27)||_0x433656[_0x4a57a5(0x15d)][_0x4a57a5(0xd5)](_0x590a27);})[_0x1dc312(0x212)](0x0,0xa);_0x2ac56a[_0x1dc312(0x11e)]>0x0?(_0x299ddb['innerHTML']=_0x2ac56a[_0x1dc312(0x15f)](function(_0x5d9892){var _0x20b048=_0x1dc312;return _0x20b048(0x1a2)+_0x5d9892[_0x20b048(0x180)]+'\x22>'+'<span\x20class=\x22search-symbol\x22>'+_0x5d9892[_0x20b048(0x15d)]+'</span>'+'<span\x20class=\x22search-pair\x22>/'+_0x5d9892[_0x20b048(0x1bc)]+'</span>'+'</div>';})[_0x1dc312(0x24e)](''),_0x299ddb[_0x1dc312(0x14f)][_0x1dc312(0x1ab)]=_0x1dc312(0x1d5)):_0x299ddb[_0x1dc312(0x14f)]['display']=_0x1dc312(0x11f);}),_0x299ddb[_0x385cb9(0x1c1)](_0x385cb9(0x1ef),function(_0x53d942){var _0x13ef9c=_0x385cb9,_0x35a6b3=_0x53d942[_0x13ef9c(0x17a)][_0x13ef9c(0x173)](_0x13ef9c(0x231));_0x35a6b3&&(addToWatchlist(_0x35a6b3[_0x13ef9c(0x105)][_0x13ef9c(0x180)]),_0x2b3326[_0x13ef9c(0x211)]='',_0x299ddb[_0x13ef9c(0x14f)][_0x13ef9c(0x1ab)]='none');}),document[_0x385cb9(0x1c1)](_0x385cb9(0x1ef),function(_0x3f1bba){var _0x9f83ae=_0x385cb9;if(!_0x3f1bba[_0x9f83ae(0x17a)][_0x9f83ae(0x173)]('.search-box'))_0x299ddb['style']['display']='none';});var _0x7851f3=document[_0x385cb9(0x139)](_0x385cb9(0x1fc)),_0x54fd0b=null;window['addEventListener'](_0x385cb9(0x1c7),function(_0x15fd9d){var _0x600217=_0x385cb9;_0x15fd9d[_0x600217(0x1d9)](),_0x54fd0b=_0x15fd9d,_0x7851f3[_0x600217(0x14f)][_0x600217(0x1ab)]=_0x600217(0x1da);}),_0x7851f3[_0x385cb9(0x1c1)](_0x385cb9(0x1ef),function(){var _0x13ad63=_0x385cb9;_0x54fd0b&&(_0x54fd0b[_0x13ad63(0x1c8)](),_0x54fd0b[_0x13ad63(0x20c)]['then'](function(_0x235119){var _0x2e9560=_0x13ad63;if(_0x235119[_0x2e9560(0x17f)]===_0x2e9560(0x243))showToast(_0x2e9560(0xe8),_0x2e9560(0x103));_0x54fd0b=null,_0x7851f3[_0x2e9560(0x14f)][_0x2e9560(0x1ab)]=_0x2e9560(0x11f);}));});}function updateEntryAmount(){var _0x11ab29=a0_0x1b461f,_0x39e397=parseFloat(document[_0x11ab29(0x139)](_0x11ab29(0x19c))[_0x11ab29(0x211)])||0x3e8,_0x151f54=parseInt(document[_0x11ab29(0x139)]('riskPercent')[_0x11ab29(0x211)])||0xa;document['getElementById'](_0x11ab29(0x1c5))[_0x11ab29(0x164)]='$'+(_0x39e397*_0x151f54/0x64)['toLocaleString']();}function renderWatchlistTabs(){var _0x465e46=a0_0x1b461f,_0x199be5=document[_0x465e46(0x139)](_0x465e46(0xcc));_0x199be5[_0x465e46(0xe7)]='',STATE[_0x465e46(0xcf)]['forEach'](function(_0x257f21){var _0x21b70a=_0x465e46,_0x17e783=ASSET_INFO[_0x257f21]||{'name':_0x257f21[_0x21b70a(0x158)](_0x21b70a(0xbf),''),'symbol':_0x257f21['replace'](_0x21b70a(0xbf),''),'icon':ICONS[_0x21b70a(0x161)],'color':_0x21b70a(0x119)},_0x30ef87=document['createElement'](_0x21b70a(0x22e));_0x30ef87[_0x21b70a(0x1c6)]=_0x21b70a(0x1e1)+(_0x257f21===STATE[_0x21b70a(0x19e)]?_0x21b70a(0x239):''),_0x30ef87['dataset']['symbol']=_0x257f21,_0x30ef87['innerHTML']='<span\x20style=\x22color:'+_0x17e783[_0x21b70a(0x175)]+'\x22>'+_0x17e783[_0x21b70a(0x151)]+_0x21b70a(0x220)+'<span>'+_0x17e783[_0x21b70a(0x180)]+_0x21b70a(0x220),_0x30ef87[_0x21b70a(0x1c1)](_0x21b70a(0x1ef),function(){selectAsset(_0x257f21);}),_0x199be5[_0x21b70a(0x159)](_0x30ef87);});}function selectAsset(_0x4493a4){var _0x10256d=a0_0x1b461f;STATE[_0x10256d(0x19e)]=_0x4493a4,document[_0x10256d(0x154)](_0x10256d(0x1f9))[_0x10256d(0x188)](function(_0x38d9dd){var _0x548f6a=_0x10256d;_0x38d9dd[_0x548f6a(0x176)]['toggle'](_0x548f6a(0xb8),_0x38d9dd[_0x548f6a(0x105)][_0x548f6a(0x180)]===_0x4493a4);}),renderAssetPanel(_0x4493a4);if(!STATE[_0x10256d(0xb7)][_0x4493a4])fetchAssetData(_0x4493a4);}function addToWatchlist(_0x465ed2){var _0xac0d66=a0_0x1b461f;if(STATE['watchlist'][_0xac0d66(0xd5)](_0x465ed2)){showToast(_0xac0d66(0x124),'error');return;}STATE[_0xac0d66(0xcf)][_0xac0d66(0xc3)](_0x465ed2),saveSettings(),renderWatchlistTabs(),selectAsset(_0x465ed2),fetchAssetData(_0x465ed2),showToast(_0x465ed2+_0xac0d66(0xd7),'success');}function removeFromWatchlist(_0x3727a1){var _0x3e4e58=a0_0x1b461f;if(STATE[_0x3e4e58(0xcf)]['length']<=0x1){showToast(_0x3e4e58(0x24f),'error');return;}if([_0x3e4e58(0x197),_0x3e4e58(0x219),_0x3e4e58(0x22c),'XAUUSDT',_0x3e4e58(0x116)][_0x3e4e58(0xd5)](_0x3727a1)){showToast('نمادهای\x20پیش‌فرض\x20قابل\x20حذف\x20نیستند',_0x3e4e58(0x10f));return;}STATE[_0x3e4e58(0xcf)]=STATE[_0x3e4e58(0xcf)][_0x3e4e58(0x210)](function(_0x4e6a93){return _0x4e6a93!==_0x3727a1;});if(STATE[_0x3e4e58(0x19e)]===_0x3727a1)STATE['activeAsset']=STATE[_0x3e4e58(0xcf)][0x0];saveSettings(),renderWatchlistTabs(),renderAssetPanel(STATE[_0x3e4e58(0x19e)]),showToast(_0x3727a1+_0x3e4e58(0xd4),'success');}function renderAssetPanel(_0x30ef4f){var _0x40250d=a0_0x1b461f,_0x2f86ba=ASSET_INFO[_0x30ef4f]||{'name':_0x30ef4f[_0x40250d(0x158)]('USDT',''),'symbol':_0x30ef4f[_0x40250d(0x158)]('USDT',''),'icon':ICONS[_0x40250d(0x161)],'color':_0x40250d(0x119)},_0x25be32=STATE[_0x40250d(0x18e)][_0x30ef4f],_0x32fd0f=STATE[_0x40250d(0x1ed)][_0x30ef4f],_0x1e43fc=STATE[_0x40250d(0xf4)][_0x30ef4f],_0x84acc1=document[_0x40250d(0x139)]('assetPanel'),_0x136dfe=_0x40250d(0x177)+_0x40250d(0x19d)+_0x40250d(0x138)+_0x2f86ba[_0x40250d(0x175)]+'20;color:'+_0x2f86ba[_0x40250d(0x175)]+'\x22>'+_0x2f86ba[_0x40250d(0x151)]+'</div>'+_0x40250d(0x1b5)+_0x40250d(0x11b)+_0x2f86ba[_0x40250d(0xf7)]+_0x40250d(0x18c)+_0x40250d(0x155)+_0x30ef4f+_0x40250d(0x220)+_0x40250d(0x14b)+_0x40250d(0x14b)+'<div\x20class=\x22price-data\x22>'+'<span\x20class=\x22price-value\x22>'+(_0x25be32?formatPrice(_0x25be32[_0x40250d(0x205)]):'--')+_0x40250d(0x220)+_0x40250d(0xe6)+(_0x25be32&&_0x25be32[_0x40250d(0x162)]>=0x0?'up':_0x40250d(0x22b))+'\x22>'+(_0x25be32?(_0x25be32['change']>=0x0?'+':'')+_0x25be32['change']['toFixed'](0x2)+'%':'--')+'</span>'+'</div>'+'</div>',_0x272709=_0x32fd0f?_0x32fd0f[_0x40250d(0x145)]:_0x40250d(0x235),_0x3f8de3=_0x272709===_0x40250d(0x14c)?ICONS[_0x40250d(0x118)]:_0x272709===_0x40250d(0xfd)?ICONS[_0x40250d(0x130)]:ICONS[_0x40250d(0x15a)],_0x36a785=_0x272709===_0x40250d(0x14c)?_0x40250d(0x12d):_0x272709===_0x40250d(0xfd)?_0x40250d(0x13a):_0x40250d(0x20b),_0x19f3dd='<div\x20class=\x22signal-card\x20'+_0x272709+'\x22>'+_0x40250d(0x1cc)+_0x40250d(0x1eb)+_0x3f8de3+'\x20'+_0x36a785+_0x40250d(0x220)+_0x40250d(0x191)+(_0x32fd0f?_0x32fd0f[_0x40250d(0xef)]||0x0:0x0)+_0x40250d(0x1f7)+_0x40250d(0x14b)+_0x40250d(0x101)+(_0x32fd0f&&_0x32fd0f[_0x40250d(0xc0)]?_0x32fd0f[_0x40250d(0xc0)][_0x40250d(0x212)](0x0,0x4)['join']('\x20•\x20'):_0x40250d(0x102))+'</div>'+_0x40250d(0x14b),_0xfe731f='';if(_0x32fd0f&&_0x32fd0f[_0x40250d(0x145)]!==_0x40250d(0x235)){var _0x3437dd=_0x32fd0f['entryQuality']==='excellent'?ICONS[_0x40250d(0x17a)]:_0x32fd0f[_0x40250d(0x157)]==='good'?ICONS[_0x40250d(0xed)]:ICONS[_0x40250d(0x160)],_0x3ccb9d=_0x32fd0f[_0x40250d(0x157)]===_0x40250d(0xd8)?'نقطه\x20ورود\x20عالی':_0x32fd0f['entryQuality']==='good'?_0x40250d(0x143):_0x40250d(0x13b);_0xfe731f='<div\x20class=\x22entry-section\x22>'+_0x40250d(0x19a)+'<span\x20class=\x22entry-quality\x20'+(_0x32fd0f[_0x40250d(0x157)]||'good')+'\x22>'+_0x3437dd+'\x20'+_0x3ccb9d+'</span>'+'<span\x20class=\x22entry-score\x22>امتیاز:\x20'+(_0x32fd0f[_0x40250d(0xe1)]||0x0)+_0x40250d(0x220)+_0x40250d(0x14b)+_0x40250d(0x248)+(_0x32fd0f[_0x40250d(0x185)]?_0x32fd0f[_0x40250d(0x185)][_0x40250d(0x24e)](_0x40250d(0xe9)):'')+_0x40250d(0x14b)+_0x40250d(0x24b)+'<div\x20class=\x22detail-row\x22><span\x20class=\x22detail-label\x22>'+ICONS[_0x40250d(0xcb)]+_0x40250d(0xbc)+formatPrice(_0x32fd0f['entry'])+_0x40250d(0x233)+_0x40250d(0x222)+ICONS['stopCircle']+_0x40250d(0x21a)+formatPrice(_0x32fd0f['sl'])+'</span></div>'+_0x40250d(0x222)+ICONS['target']+_0x40250d(0xb6)+formatPrice(_0x32fd0f[_0x40250d(0x217)])+_0x40250d(0x233)+_0x40250d(0x222)+ICONS[_0x40250d(0x17a)]+'\x20تارگت\x20۲</span><span\x20class=\x22detail-value\x20tp\x22>'+formatPrice(_0x32fd0f[_0x40250d(0x174)])+_0x40250d(0x233)+'<div\x20class=\x22detail-row\x22><span\x20class=\x22detail-label\x22>'+ICONS['zap']+'\x20لوریج</span><span\x20class=\x22detail-value\x22>'+(_0x32fd0f['leverage']||0x3)+_0x40250d(0x1e5)+_0x40250d(0x222)+ICONS[_0x40250d(0x141)]+_0x40250d(0x15e)+(STATE[_0x40250d(0x19f)][_0x40250d(0x230)]*STATE[_0x40250d(0x19f)][_0x40250d(0x206)]/0x64)[_0x40250d(0x11d)]()+_0x40250d(0x233)+'</div>'+'</div>',_0x32fd0f[_0x40250d(0x10e)]&&_0x32fd0f[_0x40250d(0x10e)][_0x40250d(0x11e)]>0x0&&(_0xfe731f+=_0x40250d(0x207)+_0x40250d(0x111)+ICONS['layers']+_0x40250d(0x179)+_0x40250d(0x196),_0x32fd0f[_0x40250d(0x10e)]['forEach'](function(_0x3357dd){var _0x106ddb=_0x40250d;_0xfe731f+='<div\x20class=\x22scaling-entry\x22>'+_0x106ddb(0x23b)+_0x3357dd[_0x106ddb(0xd1)]+_0x106ddb(0x220)+_0x106ddb(0xce)+formatPrice(_0x3357dd['price'])+_0x106ddb(0x220)+_0x106ddb(0x190)+_0x3357dd[_0x106ddb(0x1b4)]+_0x106ddb(0x17e)+_0x106ddb(0x14b);}),_0xfe731f+=_0x40250d(0x23e));}var _0x27b03e=_0x40250d(0xe2)+_0x40250d(0x245)+ICONS[_0x40250d(0x215)]+_0x40250d(0x240)+_0x40250d(0x16f)+_0x40250d(0x1cf)+getRsiClass(_0x32fd0f?_0x32fd0f[_0x40250d(0x17d)]:0x32)+'\x22>'+(_0x32fd0f&&_0x32fd0f[_0x40250d(0x17d)]?_0x32fd0f['rsi'][_0x40250d(0x1d2)](0x1):'--')+_0x40250d(0x233)+_0x40250d(0x24d)+getTrendClass(_0x32fd0f?_0x32fd0f['trend']:_0x40250d(0x1f4))+'\x22>'+getTrendLabel(_0x32fd0f?_0x32fd0f[_0x40250d(0x1c3)]:_0x40250d(0x1f4))+'</span></div>'+_0x40250d(0xdb)+(_0x32fd0f&&_0x32fd0f['ema21']?formatPrice(_0x32fd0f['ema21']):'--')+_0x40250d(0x233)+'<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>EMA\x2050</span><span\x20class=\x22ind-value\x22>'+(_0x32fd0f&&_0x32fd0f[_0x40250d(0x13d)]?formatPrice(_0x32fd0f[_0x40250d(0x13d)]):'--')+_0x40250d(0x233)+'<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>ADX</span><span\x20class=\x22ind-value\x22>'+(_0x32fd0f&&_0x32fd0f[_0x40250d(0xba)]?_0x32fd0f['adx'][_0x40250d(0xba)]['toFixed'](0x0):'--')+'</span></div>'+_0x40250d(0x1be)+(_0x32fd0f&&_0x32fd0f[_0x40250d(0x229)]&&_0x32fd0f[_0x40250d(0x229)]['histogram']>0x0?_0x40250d(0x1f0):'bearish')+'\x22>'+(_0x32fd0f&&_0x32fd0f[_0x40250d(0x229)]?_0x32fd0f[_0x40250d(0x229)][_0x40250d(0x1b3)]>0x0?'صعودی':_0x40250d(0x1ec):'--')+_0x40250d(0x233)+_0x40250d(0x14b)+_0x40250d(0x14b),_0x31852e='';if(_0x1e43fc){var _0x102614=calculatePnL(_0x1e43fc,_0x25be32?_0x25be32[_0x40250d(0x205)]:0x0);_0x31852e=_0x40250d(0x171)+_0x1e43fc[_0x40250d(0x145)]+'\x22>'+_0x40250d(0x247)+ICONS['clipboard']+_0x40250d(0xde)+'<div\x20class=\x22position-details\x22>'+_0x40250d(0x1dd)+(_0x1e43fc['type']===_0x40250d(0x14c)?'LONG':_0x40250d(0x202))+'</span></div>'+_0x40250d(0xff)+formatPrice(_0x1e43fc['entry'])+'</span></div>'+_0x40250d(0x163)+_0x1e43fc[_0x40250d(0x1f1)]['toLocaleString']()+'</span></div>'+_0x40250d(0x1cd)+(_0x102614>=0x0?_0x40250d(0x122):_0x40250d(0x1b2))+'\x22>'+(_0x102614>=0x0?'+':'')+_0x102614[_0x40250d(0x1d2)](0x2)+'%</span></div>'+'</div>'+_0x40250d(0x24a)+_0x30ef4f+'\x27)\x22>'+ICONS['x']+_0x40250d(0x192)+_0x40250d(0x14b);}var _0x516fa2='<div\x20class=\x22actions-section\x22>';!_0x1e43fc&&_0x32fd0f&&_0x32fd0f['type']!==_0x40250d(0x235)&&(_0x516fa2+='<button\x20class=\x22btn-enter\x20'+_0x32fd0f[_0x40250d(0x145)]+'\x22\x20onclick=\x22enterPosition(\x27'+_0x30ef4f+_0x40250d(0x152)+ICONS[_0x40250d(0x20e)]+_0x40250d(0xdc)),_0x516fa2+=_0x40250d(0xdd)+_0x30ef4f+'\x27)\x22>'+ICONS[_0x40250d(0x1b0)]+_0x40250d(0xbe),!['BTCUSDT',_0x40250d(0x219),_0x40250d(0x22c),_0x40250d(0x187),'PAXGUSDT'][_0x40250d(0xd5)](_0x30ef4f)&&(_0x516fa2+=_0x40250d(0x113)+_0x30ef4f+_0x40250d(0x152)+ICONS['trash']+_0x40250d(0xbe)),_0x516fa2+=_0x40250d(0x14b),_0x84acc1[_0x40250d(0xe7)]=_0x136dfe+_0x19f3dd+_0xfe731f+_0x27b03e+_0x31852e+_0x516fa2;}function loadAllSymbols(){var _0x3105f8=a0_0x1b461f;fetch(_0x3105f8(0x1dc))[_0x3105f8(0x246)](function(_0xb84282){var _0x558b4=_0x3105f8;return _0xb84282[_0x558b4(0x182)]();})[_0x3105f8(0x246)](function(_0x4a527e){var _0x270219=_0x3105f8;STATE['allSymbols']=_0x4a527e[_0x270219(0x1ba)][_0x270219(0x210)](function(_0x37ab3c){var _0x3fe033=_0x270219;return _0x37ab3c[_0x3fe033(0x1bc)]==='USDT'&&_0x37ab3c[_0x3fe033(0x1a4)]===_0x3fe033(0x148);})[_0x270219(0x15f)](function(_0x4538c9){var _0x26c04c=_0x270219;return{'symbol':_0x4538c9['symbol'],'baseAsset':_0x4538c9[_0x26c04c(0x15d)],'quoteAsset':_0x4538c9[_0x26c04c(0x1bc)]};}),console['log']('Loaded\x20'+STATE[_0x270219(0x146)][_0x270219(0x11e)]+_0x270219(0x199));})['catch'](function(_0x388bd0){var _0x2d5962=_0x3105f8;console[_0x2d5962(0x23c)]('Error\x20loading\x20symbols:',_0x388bd0);});}function startDataLoop(){var _0x5a57c4=a0_0x1b461f;STATE[_0x5a57c4(0xcf)][_0x5a57c4(0x188)](function(_0x3d210e){fetchAssetData(_0x3d210e);}),setInterval(function(){var _0x2056d6=_0x5a57c4;STATE[_0x2056d6(0xcf)][_0x2056d6(0x188)](function(_0x58564c){fetchAssetData(_0x58564c);});},0x1388);}function fetchAssetData(_0x3567f7){var _0x1ce125=a0_0x1b461f;fetch(_0x1ce125(0x150)+_0x3567f7)[_0x1ce125(0x246)](function(_0x59422c){var _0x310d57=_0x1ce125;return _0x59422c[_0x310d57(0x182)]();})[_0x1ce125(0x246)](function(_0x1bc318){var _0x4f2443=_0x1ce125;STATE[_0x4f2443(0x18e)][_0x3567f7]={'price':parseFloat(_0x1bc318[_0x4f2443(0x178)]),'change':parseFloat(_0x1bc318[_0x4f2443(0xbd)]),'high':parseFloat(_0x1bc318[_0x4f2443(0x1db)]),'low':parseFloat(_0x1bc318[_0x4f2443(0x107)]),'volume':parseFloat(_0x1bc318[_0x4f2443(0x227)])};if(_0x3567f7===STATE[_0x4f2443(0x19e)])updatePriceDisplay(_0x3567f7);STATE[_0x4f2443(0xdf)]=Date['now'](),updateLastUpdateTime();})['catch'](function(_0x3a3c5a){var _0x328850=_0x1ce125;console['log'](_0x328850(0x193),_0x3a3c5a);}),TIMEFRAMES[_0x1ce125(0x188)](function(_0x424906){fetchKlines(_0x3567f7,_0x424906);});}function a0_0x127b(_0x25ada7,_0x97d749){_0x25ada7=_0x25ada7-0xb5;var _0x44285d=a0_0x4428();var _0x127b5b=_0x44285d[_0x25ada7];return _0x127b5b;}function fetchKlines(_0x4bd7f1,_0x1eaca8){var _0x33e144=a0_0x1b461f,_0x4033a9=_0x1eaca8==='1d'?0x64:0xc8;fetch('https://api.binance.com/api/v3/klines?symbol='+_0x4bd7f1+_0x33e144(0x18b)+_0x1eaca8+_0x33e144(0x1aa)+_0x4033a9)[_0x33e144(0x246)](function(_0x369ff4){var _0x12bdd9=_0x33e144;return _0x369ff4[_0x12bdd9(0x182)]();})[_0x33e144(0x246)](function(_0x585ee7){var _0x421023=_0x33e144;if(!STATE[_0x421023(0xb7)][_0x4bd7f1])STATE[_0x421023(0xb7)][_0x4bd7f1]={};STATE['klines'][_0x4bd7f1][_0x1eaca8]=_0x585ee7[_0x421023(0x15f)](function(_0x1e66bc){return{'t':_0x1e66bc[0x0],'o':parseFloat(_0x1e66bc[0x1]),'h':parseFloat(_0x1e66bc[0x2]),'l':parseFloat(_0x1e66bc[0x3]),'c':parseFloat(_0x1e66bc[0x4]),'v':parseFloat(_0x1e66bc[0x5])};});var _0x4afef1=TIMEFRAMES[_0x421023(0x136)](function(_0x31eac2){var _0x1eb539=_0x421023;return STATE[_0x1eb539(0xb7)][_0x4bd7f1]&&STATE[_0x1eb539(0xb7)][_0x4bd7f1][_0x31eac2]&&STATE[_0x1eb539(0xb7)][_0x4bd7f1][_0x31eac2][_0x1eb539(0x11e)]>0x0;});if(_0x4afef1)analyzeAsset(_0x4bd7f1);})['catch'](function(_0x2d42e9){var _0xa56f73=_0x33e144;console[_0xa56f73(0x23c)](_0xa56f73(0x1a7),_0x2d42e9);});}function refreshAnalysis(_0x1edb26){var _0x7e6f6c=a0_0x1b461f;showToast(_0x7e6f6c(0x21d),_0x7e6f6c(0x200)),fetchAssetData(_0x1edb26);}function analyzeAsset(_0x3e881b){var _0x11fabd=a0_0x1b461f,_0x695688=STATE['prices'][_0x3e881b]?STATE['prices'][_0x3e881b][_0x11fabd(0x205)]:0x0;if(!_0x695688)return;var _0x2baa7a={},_0x404b0f=0x0,_0x3113ef=0x0,_0x19cf15={'30m':0x1,'1h':0x2,'4h':0x3,'1d':0x4},_0x47af59=0x0;TIMEFRAMES[_0x11fabd(0x188)](function(_0x5de22a){var _0x51e9b7=_0x11fabd,_0x417033=STATE[_0x51e9b7(0xb7)][_0x3e881b][_0x5de22a];if(_0x417033&&_0x417033['length']>=0x1e){var _0x4b9bed=TradingCore[_0x51e9b7(0x249)](_0x417033,_0x695688);_0x2baa7a[_0x5de22a]=_0x4b9bed,_0x47af59++;var _0x6a1e62=_0x19cf15[_0x5de22a];if(_0x4b9bed[_0x51e9b7(0x12e)]===_0x51e9b7(0x14c))_0x404b0f+=_0x4b9bed[_0x51e9b7(0x153)]*_0x6a1e62;else{if(_0x4b9bed[_0x51e9b7(0x12e)]===_0x51e9b7(0xfd))_0x3113ef+=_0x4b9bed[_0x51e9b7(0x153)]*_0x6a1e62;}}});var _0x26cc43={'type':_0x11fabd(0x235),'entry':_0x695688,'sl':0x0,'tp1':0x0,'tp2':0x0,'leverage':0x3,'confidence':0x0,'reasons':[],'rsi':0x32,'ema21':_0x695688,'ema50':_0x695688,'trend':_0x11fabd(0x1f4),'tfAnalysis':_0x2baa7a},_0x306fe1=_0x2baa7a['1h']||_0x2baa7a[_0x11fabd(0x20a)]||_0x2baa7a['4h'];_0x306fe1&&(_0x26cc43[_0x11fabd(0x17d)]=_0x306fe1[_0x11fabd(0x17d)],_0x26cc43['ema21']=_0x306fe1[_0x11fabd(0x18f)],_0x26cc43[_0x11fabd(0x13d)]=_0x306fe1[_0x11fabd(0x13d)],_0x26cc43[_0x11fabd(0x1c3)]=_0x306fe1[_0x11fabd(0x1c3)],_0x26cc43[_0x11fabd(0xba)]=_0x306fe1['adx'],_0x26cc43[_0x11fabd(0x229)]=_0x306fe1[_0x11fabd(0x229)],_0x26cc43['volume']=_0x306fe1[_0x11fabd(0x227)],_0x26cc43[_0x11fabd(0xd6)]=_0x306fe1[_0x11fabd(0xd6)]);var _0x445dfc=0x8,_0x78af23=0x3;if(_0x47af59===0x0){_0x26cc43['reasons']=[_0x11fabd(0x12a)],STATE[_0x11fabd(0x1ed)][_0x3e881b]=_0x26cc43;if(_0x3e881b===STATE[_0x11fabd(0x19e)])renderAssetPanel(_0x3e881b);return;}var _0x3198e0=TradingCore[_0x11fabd(0x19b)](STATE[_0x11fabd(0xb7)][_0x3e881b]['4h']||STATE['klines'][_0x3e881b]['1h']||[],0xe,_0x695688);if(!isFinite(_0x3198e0)||_0x3198e0<=0x0)_0x3198e0=_0x695688*0.015;var _0x2b437e=STATE['settings'][_0x11fabd(0x230)]*(STATE[_0x11fabd(0x19f)]['riskPercent']/0x64);if(_0x404b0f>=_0x445dfc&&_0x404b0f>_0x3113ef+_0x78af23){_0x26cc43[_0x11fabd(0x145)]=_0x11fabd(0x14c),_0x26cc43[_0x11fabd(0xef)]=Math[_0x11fabd(0xc9)](Math[_0x11fabd(0x1e2)](_0x404b0f/0x3),0xa);var _0x26c05f=TradingCore[_0x11fabd(0xb5)](STATE[_0x11fabd(0xb7)][_0x3e881b]['1h']||STATE[_0x11fabd(0xb7)][_0x3e881b]['4h']||[],STATE['klines'][_0x3e881b]['4h']||null,_0x695688,'long',_0x306fe1?_0x306fe1[_0x11fabd(0x18f)]:_0x695688,_0x306fe1?_0x306fe1['ema50']:_0x695688,_0x3198e0,_0x2b437e);_0x26cc43[_0x11fabd(0x1fa)]=_0x26c05f[_0x11fabd(0x1fa)],_0x26cc43['entryReasons']=_0x26c05f[_0x11fabd(0xc0)],_0x26cc43[_0x11fabd(0x157)]=_0x26c05f['quality'],_0x26cc43[_0x11fabd(0xe1)]=_0x26c05f[_0x11fabd(0xe1)],_0x26cc43[_0x11fabd(0x10e)]=_0x26c05f[_0x11fabd(0x1d0)],_0x26cc43['sl']=_0x26cc43['entry']-_0x3198e0*1.5,_0x26cc43[_0x11fabd(0x217)]=_0x26cc43[_0x11fabd(0x1fa)]+_0x3198e0*0x2,_0x26cc43[_0x11fabd(0x174)]=_0x26cc43['entry']+_0x3198e0*3.5,_0x26cc43[_0x11fabd(0x1ff)]=TradingCore[_0x11fabd(0x1d4)](_0x26cc43[_0x11fabd(0x1fa)],_0x26cc43['sl']),TIMEFRAMES[_0x11fabd(0x188)](function(_0x4541e3){var _0x1a3d01=_0x11fabd;if(_0x2baa7a[_0x4541e3]&&_0x2baa7a[_0x4541e3]['signal']===_0x1a3d01(0x14c))_0x26cc43[_0x1a3d01(0xc0)][_0x1a3d01(0xc3)](_0x4541e3[_0x1a3d01(0x1ae)]()+_0x1a3d01(0x194));});if(_0x306fe1&&_0x306fe1['volume']&&_0x306fe1[_0x11fabd(0x227)][_0x11fabd(0x12e)]==='strong')_0x26cc43[_0x11fabd(0xc0)][_0x11fabd(0xc3)]('حجم\x20بالا');if(_0x306fe1&&_0x306fe1['rsiDivergence']&&_0x306fe1[_0x11fabd(0xd6)][_0x11fabd(0x145)]==='bullish')_0x26cc43[_0x11fabd(0xc0)][_0x11fabd(0xc3)](_0x11fabd(0xc6));if(_0x306fe1&&_0x306fe1[_0x11fabd(0xba)]&&_0x306fe1[_0x11fabd(0xba)][_0x11fabd(0xba)]>=0x19)_0x26cc43[_0x11fabd(0xc0)]['push'](_0x11fabd(0x21f));}else{if(_0x3113ef>=_0x445dfc&&_0x3113ef>_0x404b0f+_0x78af23){_0x26cc43['type']='short',_0x26cc43[_0x11fabd(0xef)]=Math[_0x11fabd(0xc9)](Math[_0x11fabd(0x1e2)](_0x3113ef/0x3),0xa);var _0x26c05f=TradingCore['findSmartEntry'](STATE[_0x11fabd(0xb7)][_0x3e881b]['1h']||STATE[_0x11fabd(0xb7)][_0x3e881b]['4h']||[],STATE[_0x11fabd(0xb7)][_0x3e881b]['4h']||null,_0x695688,_0x11fabd(0xfd),_0x306fe1?_0x306fe1['ema21']:_0x695688,_0x306fe1?_0x306fe1[_0x11fabd(0x13d)]:_0x695688,_0x3198e0,_0x2b437e);_0x26cc43[_0x11fabd(0x1fa)]=_0x26c05f[_0x11fabd(0x1fa)],_0x26cc43[_0x11fabd(0x185)]=_0x26c05f['reasons'],_0x26cc43['entryQuality']=_0x26c05f[_0x11fabd(0x134)],_0x26cc43['confluenceScore']=_0x26c05f[_0x11fabd(0xe1)],_0x26cc43[_0x11fabd(0x10e)]=_0x26c05f[_0x11fabd(0x1d0)],_0x26cc43['sl']=_0x26cc43[_0x11fabd(0x1fa)]+_0x3198e0*1.5,_0x26cc43[_0x11fabd(0x217)]=_0x26cc43[_0x11fabd(0x1fa)]-_0x3198e0*0x2,_0x26cc43[_0x11fabd(0x174)]=_0x26cc43['entry']-_0x3198e0*3.5,_0x26cc43[_0x11fabd(0x1ff)]=TradingCore['getLeverage'](_0x26cc43['entry'],_0x26cc43['sl']),TIMEFRAMES[_0x11fabd(0x188)](function(_0x238550){var _0x27eabc=_0x11fabd;if(_0x2baa7a[_0x238550]&&_0x2baa7a[_0x238550][_0x27eabc(0x12e)]===_0x27eabc(0xfd))_0x26cc43['reasons'][_0x27eabc(0xc3)](_0x238550[_0x27eabc(0x1ae)]()+'\x20نزولی');});if(_0x306fe1&&_0x306fe1[_0x11fabd(0x227)]&&_0x306fe1[_0x11fabd(0x227)][_0x11fabd(0x12e)]===_0x11fabd(0x1a5))_0x26cc43[_0x11fabd(0xc0)]['push'](_0x11fabd(0x1c2));if(_0x306fe1&&_0x306fe1[_0x11fabd(0xd6)]&&_0x306fe1[_0x11fabd(0xd6)][_0x11fabd(0x145)]===_0x11fabd(0x250))_0x26cc43[_0x11fabd(0xc0)][_0x11fabd(0xc3)](_0x11fabd(0xca));if(_0x306fe1&&_0x306fe1['adx']&&_0x306fe1[_0x11fabd(0xba)][_0x11fabd(0xba)]>=0x19)_0x26cc43[_0x11fabd(0xc0)]['push'](_0x11fabd(0x21f));}else{if(_0x404b0f===0x0&&_0x3113ef===0x0)_0x26cc43[_0x11fabd(0xc0)]=[_0x11fabd(0x1bf)];else{if(Math[_0x11fabd(0x12f)](_0x404b0f-_0x3113ef)<_0x78af23)_0x26cc43[_0x11fabd(0xc0)]=['سیگنال‌های\x20متضاد'];else _0x26cc43[_0x11fabd(0xc0)]=[_0x11fabd(0x1d7)];}}}_0x26cc43=applyStrategy(_0x26cc43),STATE['signals'][_0x3e881b]=_0x26cc43;if(_0x3e881b===STATE[_0x11fabd(0x19e)])renderAssetPanel(_0x3e881b);if(STATE['settings'][_0x11fabd(0xc2)]&&_0x26cc43[_0x11fabd(0x145)]!==_0x11fabd(0x235))sendNotification(_0x3e881b,_0x26cc43);}function applyStrategy(_0x57b943){var _0x21e652=a0_0x1b461f,_0x3eb639=STATE[_0x21e652(0x19f)][_0x21e652(0x1ac)];if(_0x57b943[_0x21e652(0x145)]===_0x21e652(0x235))return _0x57b943;return _0x3eb639==='conservative'&&_0x57b943[_0x21e652(0xef)]<0x7&&(_0x57b943[_0x21e652(0x145)]=_0x21e652(0x235),_0x57b943['reasons']=[_0x21e652(0x238)]),_0x3eb639===_0x21e652(0x18a)&&(!_0x57b943[_0x21e652(0xba)]||_0x57b943[_0x21e652(0xba)][_0x21e652(0xba)]<0x19)&&(_0x57b943[_0x21e652(0x145)]=_0x21e652(0x235),_0x57b943[_0x21e652(0xc0)]=['استراتژی\x20روند:\x20روند\x20قوی\x20نیست']),_0x57b943;}function enterPosition(_0x562a0d){var _0x5afc5d=a0_0x1b461f,_0x12dbfd=STATE[_0x5afc5d(0x1ed)][_0x562a0d],_0x29b2b7=STATE[_0x5afc5d(0x18e)][_0x562a0d]?STATE['prices'][_0x562a0d][_0x5afc5d(0x205)]:0x0;if(!_0x12dbfd||_0x12dbfd[_0x5afc5d(0x145)]==='wait'||!_0x29b2b7){showToast('سیگنال\x20معتبر\x20نیست',_0x5afc5d(0x10f));return;}STATE[_0x5afc5d(0xf4)][_0x562a0d]={'type':_0x12dbfd[_0x5afc5d(0x145)],'entry':_0x29b2b7,'size':STATE[_0x5afc5d(0x19f)]['capital']*STATE['settings'][_0x5afc5d(0x206)]/0x64,'leverage':_0x12dbfd[_0x5afc5d(0x1ff)],'sl':_0x12dbfd['sl'],'tp1':_0x12dbfd[_0x5afc5d(0x217)],'tp2':_0x12dbfd['tp2'],'openTime':Date[_0x5afc5d(0x1b1)]()},saveSettings(),renderAssetPanel(_0x562a0d),showToast(_0x5afc5d(0x1ca)+_0x12dbfd['type'][_0x5afc5d(0x1ae)]()+'\x20باز\x20شد',_0x5afc5d(0x103));}function a0_0x4428(){var _0x58cbce=['forEach','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><line\x20x1=\x225\x22\x20y1=\x2212\x22\x20x2=\x2219\x22\x20y2=\x2212\x22></line><polyline\x20points=\x2212\x205\x2019\x2012\x2012\x2019\x22></polyline></svg>','trend_following','&interval=','</h2>','backtest','prices','ema21','<span\x20class=\x22scaling-pct\x22>(','<span\x20class=\x22signal-confidence\x22>قدرت:\x20','\x20بستن\x20پوزیشن</button>','Price\x20fetch\x20error:','\x20صعودی','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>بازده\x20کل</div><div\x20class=\x22stat-value\x20','<div\x20class=\x22scaling-entries\x22>','BTCUSDT','btnVolume','\x20symbols','<div\x20class=\x22entry-header\x22>','calcATR','capitalInput','<div\x20class=\x22price-info\x22>','activeAsset','settings','PWA\x20Ready','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22></circle><polyline\x20points=\x2212\x206\x2012\x2012\x2016\x2014\x22></polyline></svg>','<div\x20class=\x22search-item\x22\x20data-symbol=\x22','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><line\x20x1=\x2212\x22\x20y1=\x221\x22\x20x2=\x2212\x22\x20y2=\x2223\x22></line><path\x20d=\x22M17\x205H9.5a3.5\x203.5\x200\x200\x200\x200\x207h5a3.5\x203.5\x200\x200\x201\x200\x207H6\x22></path></svg>','status','strong','statsGrid','Klines\x20error:','totalTrades','left','&limit=','display','strategy','/icons/icon-72.png','toUpperCase','572256tVtkEb','refresh','now','loss','histogram','percent','<div\x20class=\x22asset-name\x22>','داده\x20کافی\x20نیست.\x20حداقل\x20100\x20کندل\x20لازم\x20است.','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22></circle><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x226\x22></circle><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x222\x22></circle></svg>','تنظیمات\x20ذخیره\x20شد','init','symbols','ema','quoteAsset','enterPosition','<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>MACD</span><span\x20class=\x22ind-value\x20','بازار\x20خنثی','/sw.js','addEventListener','حجم\x20بالا','trend','totalReturn','entryAmount','className','beforeinstallprompt','prompt','priceChart','پوزیشن\x20','trades','<div\x20class=\x22signal-header\x22>','<div\x20class=\x22pos-row\x22><span>P&L:</span><span\x20class=\x22','toggleChartIndicator','<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>RSI\x20(14)</span><span\x20class=\x22ind-value\x20','entries','.view-tab','toFixed','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>تعداد\x20معاملات</div><div\x20class=\x22stat-value\x20neutral\x22>','getLeverage','block','XAUT','قدرت\x20سیگنال\x20کافی\x20نیست','.view-content','preventDefault','flex','highPrice','https://api.binance.com/api/v3/exchangeInfo','<div\x20class=\x22pos-row\x22><span>نوع:</span><span\x20class=\x22pos-type\x22>','\x20-\x20سیگنال\x20','sol','parentElement','tab','round','max','سود:\x20+','x</span></div>','positive','toggle','صعودی','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>Profit\x20Factor</div><div\x20class=\x22stat-value\x20','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polygon\x20points=\x2213\x202\x203\x2014\x2012\x2014\x2011\x2022\x2021\x2010\x2012\x2010\x2013\x202\x22></polygon></svg>','<span\x20class=\x22signal-badge\x22>','نزولی','signals','<span\x20class=\x22trade-reason\x22>','click','bullish','size','toast\x20show','.tf-btn','neutral','negative','ورود:\x20','/10</span>','view','.tab','entry','4268334hWaxYo','installBtn','2157246Sjgdkd','resetView','leverage','info','granted','SHORT','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M4.5\x2016.5c-1.5\x201.26-2\x205-2\x205s3.74-.5\x205-2c.71-.84.7-2.13-.09-2.91a2.18\x202.18\x200\x200\x200-2.91-.09z\x22></path><path\x20d=\x22m12\x2015-3-3a22\x2022\x200\x200\x201\x202-3.95A12.88\x2012.88\x200\x200\x201\x2022\x202c0\x202.72-.78\x207.5-6\x2011a22.35\x2022.35\x200\x200\x201-4\x202z\x22></path><path\x20d=\x22M9\x2012H4s.55-3.03\x202-4c1.62-1.08\x205\x200\x205\x200\x22></path><path\x20d=\x22M12\x2015v5s3.03-.55\x204-2c1.08-1.62\x200-5\x200-5\x22></path></svg>','font','price','riskPercent','<div\x20class=\x22scaling-section\x22>','losingTrades','lineWidth','30m','صبر\x20کنید','userChoice','profitFactor','rocket','gold','filter','value','slice','register','stroke','barChart','right','tp1','291794LOjyGw','ETHUSDT','\x20استاپ‌لاس</span><span\x20class=\x22detail-value\x20sl\x22>','9px\x20sans-serif','btn','در\x20حال\x20تحلیل\x20مجدد...','fa-IR','روند\x20قوی','</span>','requestPermission','<div\x20class=\x22detail-row\x22><span\x20class=\x22detail-label\x22>','scale','5ngcZxe','getContext','winRate','volume','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22></circle><line\x20x1=\x2222\x22\x20y1=\x2212\x22\x20x2=\x2218\x22\x20y2=\x2212\x22></line><line\x20x1=\x226\x22\x20y1=\x2212\x22\x20x2=\x222\x22\x20y2=\x2212\x22></line><line\x20x1=\x2212\x22\x20y1=\x226\x22\x20x2=\x2212\x22\x20y2=\x222\x22></line><line\x20x1=\x2212\x22\x20y1=\x2222\x22\x20x2=\x2212\x22\x20y2=\x2218\x22></line></svg>','macd','Service\x20Worker\x20registered','down','SOLUSDT','<div\x20class=\x22trade-row\x22>','button','winningTrades','capital','.search-item','permission','</span></div>','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polygon\x20points=\x2212\x202\x202\x207\x2012\x2012\x2022\x207\x2012\x202\x22></polygon><polyline\x20points=\x222\x2017\x2012\x2022\x2022\x2017\x22></polyline><polyline\x20points=\x222\x2012\x2012\x2017\x2022\x2012\x22></polyline></svg>','wait','maxDrawdown','width','استراتژی\x20محافظه‌کارانه:\x20قدرت\x20کافی\x20نیست','\x20active','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22></polyline></svg>','<span\x20class=\x22scaling-step\x22>','log','beginPath','</div></div>','<span\x20class=\x22trade-type\x20','\x20اندیکاتورها</div>','Error\x20saving\x20settings:','tradesTable','accepted','5518086oEGtvV','<div\x20class=\x22indicators-title\x22>','then','<div\x20class=\x22position-title\x22>','<div\x20class=\x22entry-reasons\x22>','analyzeTF','<button\x20class=\x22btn-close-pos\x22\x20onclick=\x22closePosition(\x27','<div\x20class=\x22entry-details\x22>','show','<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>روند</span><span\x20class=\x22ind-value\x20','join','حداقل\x20یک\x20نماد\x20باید\x20باشد','bearish','findSmartEntry','\x20تارگت\x20۱</span><span\x20class=\x22detail-value\x20tp\x22>','klines','active','طلا\x20توکن','adx','\x20error','\x20نقطه\x20ورود</span><span\x20class=\x22detail-value\x22>','priceChangePercent','</button>','USDT','reasons','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>میانگین\x20سود</div><div\x20class=\x22stat-value\x20positive\x22>$','notificationEnabled','push','textAlign','\x22>$','واگرایی\x20صعودی','calculateIndicators','lineTo','min','واگرایی\x20نزولی','crosshair','watchlistTabs','toLocaleTimeString','<span\x20class=\x22scaling-price\x22>','watchlist','avgLoss','reason','setData','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22currentColor\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22/></svg>','\x20حذف\x20شد','includes','rsiDivergence','\x20اضافه\x20شد','excellent','<p\x20style=\x22color:var(--text2);text-align:center;padding:20px;\x22>معامله‌ای\x20یافت\x20نشد</p>','strategySelect','<div\x20class=\x22ind-item\x22><span\x20class=\x22ind-label\x22>EMA\x2021</span><span\x20class=\x22ind-value\x22>','\x20ورود\x20به\x20معامله</button>','<button\x20class=\x22btn-refresh\x22\x20onclick=\x22refreshAnalysis(\x27','\x20پوزیشن\x20فعال</div>','lastUpdate','run','confluenceScore','<div\x20class=\x22indicators-section\x22>','fillRect','resetChartView','chartTitle','<span\x20class=\x22price-change\x20','innerHTML','اپلیکیشن\x20نصب\x20شد','\x20+\x20','height','BTC','top','check','بیت‌کوین','confidence','strong_down','backtestResults','ETH','remove','positions','refreshAnalysis','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22currentColor\x22><path\x20d=\x22M12\x202C6.48\x202\x202\x206.48\x202\x2012s4.48\x2010\x2010\x2010\x2010-4.48\x2010-10S17.52\x202\x2012\x202zm0\x2018c-4.41\x200-8-3.59-8-8s3.59-8\x208-8\x208\x203.59\x208\x208-3.59\x208-8\x208zm-1-4h2v-2h1c1.1\x200\x202-.9\x202-2v-2c0-1.1-.9-2-2-2h-3V6h-2v2H8v8h3zm0-6h2v2h-2z\x22/></svg>','name','apply','finalCapital','#f7931a','eth','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x223\x206\x205\x206\x2021\x206\x22></polyline><path\x20d=\x22M19\x206v14a2\x202\x200\x200\x201-2\x202H7a2\x202\x200\x200\x201-2-2V6m3\x200V4a2\x202\x200\x200\x201\x202-2h4a2\x202\x200\x200\x201\x202\x202v2\x22></path></svg>','short','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22></circle></svg>','<div\x20class=\x22pos-row\x22><span>ورود:</span><span>','Notification','<div\x20class=\x22signal-reasons\x22>','در\x20حال\x20تحلیل...','success','backtestStrategy','dataset','104odJKYY','lowPrice','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>حداکثر\x20افت</div><div\x20class=\x22stat-value\x20negative\x22>','runBacktest','devicePixelRatio','avgWin','طلا','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2223\x206\x2013.5\x2015.5\x208.5\x2010.5\x201\x2018\x22></polyline><polyline\x20points=\x2217\x206\x2023\x206\x2023\x2012\x22></polyline></svg>','smartEntries','error','getItem','<div\x20class=\x22scaling-title\x22>','fillStyle','<button\x20class=\x22btn-remove\x22\x20onclick=\x22removeFromWatchlist(\x27','DOMContentLoaded','denied','PAXGUSDT','سولانا','trendUp','#00E5B0','#fbbf24','<h2>','default','toLocaleString','length','none','pnl','assign','profit','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22></circle><rect\x20x=\x229\x22\x20y=\x229\x22\x20width=\x226\x22\x20height=\x226\x22></rect></svg>','این\x20نماد\x20قبلاً\x20اضافه\x20شده','⏳\x20در\x20حال\x20اجرای\x20بک‌تست...','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2223\x204\x2023\x2010\x2017\x2010\x22></polyline><polyline\x20points=\x221\x2020\x201\x2014\x207\x2014\x22></polyline><path\x20d=\x22M3.51\x209a9\x209\x200\x200\x201\x2014.85-3.36L23\x2010M1\x2014l4.64\x204.36A9\x209\x200\x200\x200\x2020.49\x2015\x22></path></svg>','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2223\x2018\x2013.5\x208.5\x208.5\x2013.5\x201\x206\x22></polyline><polyline\x20points=\x2217\x2018\x2023\x2018\x2023\x2012\x22></polyline></svg>','اتریوم','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>برد/باخت</div><div\x20class=\x22stat-value\x20neutral\x22>','در\x20حال\x20دریافت\x20داده...','\x0aقدرت:\x20','input','خرید\x20(Long)','signal','abs','trendDown','strong_up','moveTo','parse','quality','tradingSettings','every','charAt','<div\x20class=\x22asset-icon\x22\x20style=\x22background:','getElementById','فروش\x20(Short)','نقطه\x20ورود\x20قابل\x20قبول','#627eea','ema50','setItem','checked','setLineDash','dollarSign','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><line\x20x1=\x2218\x22\x20y1=\x226\x22\x20x2=\x226\x22\x20y2=\x2218\x22></line><line\x20x1=\x226\x22\x20y1=\x226\x22\x20x2=\x2218\x22\x20y2=\x2218\x22></line></svg>','نقطه\x20ورود\x20خوب','reverse','type','allSymbols','getViewState','TRADING','onload','Error\x20loading\x20settings:','</div>','long','getBoundingClientRect','add','style','https://api.binance.com/api/v3/ticker/24hr?symbol=','icon','\x27)\x22>','score','querySelectorAll','<span\x20class=\x22asset-symbol\x22>','SOL','entryQuality','replace','appendChild','clock','exitReason','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22currentColor\x22><path\x20d=\x22M12\x202L4\x207v10l8\x205\x208-5V7l-8-5zm0\x202.18l6\x203.72v7.2l-6\x203.72-6-3.72V7.9l6-3.72z\x22/></svg>','baseAsset','\x20حجم\x20ورود</span><span\x20class=\x22detail-value\x22>$','map','circle','coin','change','<div\x20class=\x22pos-row\x22><span>حجم:</span><span>$','textContent','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>نرخ\x20برد</div><div\x20class=\x22stat-value\x20','GOLD','/icons/icon-192.png','\x20-\x20','%</div></div>','backtestTF','<svg\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22currentColor\x22><path\x20d=\x22M12\x201.75l-6.25\x2010.5L12\x2016l6.25-3.75L12\x201.75zM5.75\x2013.5L12\x2022.25l6.25-8.75L12\x2017.25\x205.75\x2013.5z\x22/></svg>','notificationToggle','/10','1745865fPMeyx','<div\x20class=\x22ind-grid\x22>','serviceWorker','<div\x20class=\x22position-section\x20','strokeStyle','closest','tp2','color','classList','<div\x20class=\x22price-box\x22>','lastPrice','\x20ورود\x20پله‌ای</div>','target','equity','#e6c200','rsi','%)</span>','outcome','symbol','<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>سرمایه\x20نهایی</div><div\x20class=\x22stat-value\x20','json','#00ffa3','2324552YnFUwW','entryReasons','catch','XAUUSDT'];a0_0x4428=function(){return _0x58cbce;};return a0_0x4428();}function closePosition(_0x461a85){var _0x2c1cd9=a0_0x1b461f;if(STATE[_0x2c1cd9(0xf4)][_0x461a85]){var _0x54b753=STATE[_0x2c1cd9(0xf4)][_0x461a85],_0x2b7819=STATE['prices'][_0x461a85]?STATE[_0x2c1cd9(0x18e)][_0x461a85][_0x2c1cd9(0x205)]:_0x54b753[_0x2c1cd9(0x1fa)],_0x307da7=calculatePnL(_0x54b753,_0x2b7819);delete STATE[_0x2c1cd9(0xf4)][_0x461a85],saveSettings(),renderAssetPanel(_0x461a85),showToast((_0x307da7>=0x0?_0x2c1cd9(0x1e4):'ضرر:\x20')+_0x307da7['toFixed'](0x2)+'%',_0x307da7>=0x0?_0x2c1cd9(0x103):_0x2c1cd9(0x10f));}}function calculatePnL(_0x3e7cb6,_0x9bdba5){var _0x14c1f7=a0_0x1b461f;if(!_0x3e7cb6||!_0x9bdba5)return 0x0;var _0x4ac1e1=_0x9bdba5-_0x3e7cb6[_0x14c1f7(0x1fa)];if(_0x3e7cb6['type']===_0x14c1f7(0xfd))_0x4ac1e1=-_0x4ac1e1;return _0x4ac1e1/_0x3e7cb6[_0x14c1f7(0x1fa)]*0x64*_0x3e7cb6['leverage'];}function sendNotification(_0x3bbf41,_0x50dc94){var _0x46819a=a0_0x1b461f;if(!(_0x46819a(0x100)in window))return;if(Notification[_0x46819a(0x232)]===_0x46819a(0x201))showNotification(_0x3bbf41,_0x50dc94);else Notification[_0x46819a(0x232)]!==_0x46819a(0x115)&&Notification[_0x46819a(0x221)]()[_0x46819a(0x246)](function(_0x5dc565){var _0x31fa0b=_0x46819a;if(_0x5dc565===_0x31fa0b(0x201))showNotification(_0x3bbf41,_0x50dc94);});}function showNotification(_0x1a57ff,_0x1a228b){var _0x27e22f=a0_0x1b461f,_0x2cfb46=ASSET_INFO[_0x1a57ff]||{'name':_0x1a57ff};new Notification(_0x2cfb46[_0x27e22f(0xf7)]+_0x27e22f(0x1de)+(_0x1a228b[_0x27e22f(0x145)]===_0x27e22f(0x14c)?'خرید':'فروش'),{'body':_0x27e22f(0x1f6)+formatPrice(_0x1a228b['entry'])+_0x27e22f(0x12b)+_0x1a228b[_0x27e22f(0xef)]+_0x27e22f(0x16d),'icon':_0x27e22f(0x167),'badge':_0x27e22f(0x1ad),'vibrate':[0xc8,0x64,0xc8]});}function formatPrice(_0x2476e2){var _0x2cdaff=a0_0x1b461f;if(!_0x2476e2||!isFinite(_0x2476e2))return'--';if(_0x2476e2>=0x3e8)return _0x2476e2['toLocaleString']('en-US',{'maximumFractionDigits':0x2});if(_0x2476e2>=0x1)return _0x2476e2[_0x2cdaff(0x1d2)](0x4);return _0x2476e2[_0x2cdaff(0x1d2)](0x8);}function updatePriceDisplay(_0x30a92e){}function updateLastUpdateTime(){var _0x5798e6=a0_0x1b461f,_0x3a930a=document[_0x5798e6(0x139)](_0x5798e6(0xdf));if(_0x3a930a&&STATE['lastUpdate'])_0x3a930a['textContent']=new Date(STATE[_0x5798e6(0xdf)])[_0x5798e6(0xcd)](_0x5798e6(0x21e));}function getRsiClass(_0x307eae){var _0x46ac80=a0_0x1b461f;if(!_0x307eae)return _0x46ac80(0x1f4);if(_0x307eae<=0x1e)return _0x46ac80(0x1f0);if(_0x307eae>=0x46)return'bearish';return _0x46ac80(0x1f4);}function getTrendClass(_0x4744a5){var _0x2526eb=a0_0x1b461f;if(_0x4744a5==='up'||_0x4744a5===_0x2526eb(0x131))return _0x2526eb(0x1f0);if(_0x4744a5===_0x2526eb(0x22b)||_0x4744a5===_0x2526eb(0xf0))return'bearish';return'neutral';}function getTrendLabel(_0x5b3aa2){var _0x697796=a0_0x1b461f;if(_0x5b3aa2==='up'||_0x5b3aa2===_0x697796(0x131))return _0x697796(0x1e8);if(_0x5b3aa2===_0x697796(0x22b)||_0x5b3aa2==='strong_down')return _0x697796(0x1ec);return'خنثی';}function showToast(_0x4fe2d9,_0x54b2a8){var _0x35193a=a0_0x1b461f,_0x415439=document['getElementById']('toast');_0x415439[_0x35193a(0x164)]=_0x4fe2d9,_0x415439[_0x35193a(0x1c6)]=_0x35193a(0x1f2)+(_0x54b2a8===_0x35193a(0x10f)?_0x35193a(0xbb):''),setTimeout(function(){var _0x19fec5=_0x35193a;_0x415439['classList'][_0x19fec5(0xf3)](_0x19fec5(0x24c));},0xbb8);}var currentView=a0_0x1b461f(0x12e),chartTF='1h';function initViewTabs(){var _0x743e86=a0_0x1b461f;document['querySelectorAll'](_0x743e86(0x1d1))['forEach'](function(_0x560eb4){var _0x43917b=_0x743e86;_0x560eb4['addEventListener'](_0x43917b(0x1ef),function(){var _0x4dfdc9=_0x43917b,_0x3b0df4=this[_0x4dfdc9(0x105)][_0x4dfdc9(0x1f8)];switchView(_0x3b0df4);});}),document[_0x743e86(0x154)](_0x743e86(0x1f3))['forEach'](function(_0x331e9d){var _0x369f38=_0x743e86;_0x331e9d[_0x369f38(0x1c1)](_0x369f38(0x1ef),function(){var _0x232fc8=_0x369f38;document[_0x232fc8(0x154)]('.tf-btn')[_0x232fc8(0x188)](function(_0x13cb3c){var _0x2d28e2=_0x232fc8;_0x13cb3c[_0x2d28e2(0x176)][_0x2d28e2(0xf3)](_0x2d28e2(0xb8));}),this[_0x232fc8(0x176)][_0x232fc8(0x14e)]('active'),chartTF=this[_0x232fc8(0x105)]['tf'],updateChart();});});}function switchView(_0xa683e2){var _0x41b11e=a0_0x1b461f;currentView=_0xa683e2,document[_0x41b11e(0x154)]('.view-tab')[_0x41b11e(0x188)](function(_0x30f886){var _0x1b66f1=_0x41b11e;_0x30f886[_0x1b66f1(0x176)][_0x1b66f1(0x1e7)](_0x1b66f1(0xb8),_0x30f886[_0x1b66f1(0x105)][_0x1b66f1(0x1f8)]===_0xa683e2);}),document['querySelectorAll'](_0x41b11e(0x1d8))[_0x41b11e(0x188)](function(_0x4ec6ed){var _0x189b68=_0x41b11e;_0x4ec6ed[_0x189b68(0x176)][_0x189b68(0xf3)]('active');}),document[_0x41b11e(0x139)](_0x41b11e(0x1f8)+capitalizeFirst(_0xa683e2))[_0x41b11e(0x176)]['add']('active');if(_0xa683e2==='chart')initChart();else{if(_0xa683e2===_0x41b11e(0x18d)){}}}function capitalizeFirst(_0x46e10e){var _0x23c9e6=a0_0x1b461f;return _0x46e10e[_0x23c9e6(0x137)](0x0)[_0x23c9e6(0x1ae)]()+_0x46e10e[_0x23c9e6(0x212)](0x1);}var chartInitialized=![];function initChart(){var _0x39e3af=a0_0x1b461f;!chartInitialized&&(Chart[_0x39e3af(0x1b9)](_0x39e3af(0x1c9))&&(chartInitialized=!![])),updateChart();}function updateChart(){var _0x6751dc=a0_0x1b461f,_0x99297a=STATE[_0x6751dc(0x19e)],_0xf07f06=STATE['klines'][_0x99297a]?STATE[_0x6751dc(0xb7)][_0x99297a][chartTF]:null;if(!_0xf07f06||_0xf07f06[_0x6751dc(0x11e)]===0x0){console[_0x6751dc(0x23c)]('No\x20klines\x20for\x20chart');return;}var _0x3bcdb1=ASSET_INFO[_0x99297a]||{'name':_0x99297a};document[_0x6751dc(0x139)](_0x6751dc(0xe5))[_0x6751dc(0x164)]=_0x3bcdb1[_0x6751dc(0xf7)]+_0x6751dc(0x168)+chartTF['toUpperCase'](),Chart[_0x6751dc(0xc7)](_0xf07f06),Chart[_0x6751dc(0xd2)](_0xf07f06,{'ema21':Chart[_0x6751dc(0x147)]?[]:[],'ema50':[],'signals':[]});}function toggleChartIndicator(_0x18f9c7){var _0x38e010=a0_0x1b461f;Chart['toggleIndicator'](_0x18f9c7);var _0x4b44f3=_0x38e010(0x21c)+_0x18f9c7[_0x38e010(0x1ae)]();if(_0x18f9c7===_0x38e010(0x1bb))_0x4b44f3='btnEMA';if(_0x18f9c7==='bb')_0x4b44f3='btnBB';if(_0x18f9c7===_0x38e010(0x227))_0x4b44f3=_0x38e010(0x198);var _0x228592=document[_0x38e010(0x139)](_0x4b44f3);if(_0x228592)_0x228592[_0x38e010(0x176)][_0x38e010(0x1e7)](_0x38e010(0xb8));}function resetChartView(){var _0x381726=a0_0x1b461f;Chart[_0x381726(0x1fe)]();}function runBacktest(){var _0x5ca440=a0_0x1b461f,_0x173c71=STATE[_0x5ca440(0x19e)],_0x2f6a45=document[_0x5ca440(0x139)](_0x5ca440(0x16a))[_0x5ca440(0x211)],_0xd7e2fa=document[_0x5ca440(0x139)](_0x5ca440(0x104))[_0x5ca440(0x211)],_0x512cb0=STATE[_0x5ca440(0xb7)][_0x173c71]?STATE['klines'][_0x173c71][_0x2f6a45]:null;if(!_0x512cb0||_0x512cb0['length']<0x64){showToast(_0x5ca440(0x1b6),'error');return;}showToast(_0x5ca440(0x125)),setTimeout(function(){var _0x1a9401=_0x5ca440,_0x43eb57=Backtest[_0x1a9401(0xe0)](_0x512cb0,{'capital':STATE[_0x1a9401(0x19f)][_0x1a9401(0x230)],'riskPercent':STATE[_0x1a9401(0x19f)][_0x1a9401(0x206)],'strategy':_0xd7e2fa});if(_0x43eb57[_0x1a9401(0x10f)]){showToast(_0x43eb57[_0x1a9401(0x10f)],'error');return;}displayBacktestResults(_0x43eb57);},0x64);}function displayBacktestResults(_0x3aee14){var _0x4c845c=a0_0x1b461f;document[_0x4c845c(0x139)]('backtestPlaceholder')[_0x4c845c(0x14f)][_0x4c845c(0x1ab)]=_0x4c845c(0x11f),document[_0x4c845c(0x139)](_0x4c845c(0xf1))[_0x4c845c(0x14f)][_0x4c845c(0x1ab)]=_0x4c845c(0x1d5);var _0x1144c1=_0x3aee14['stats'],_0x437558=_0x4c845c(0x1d3)+_0x1144c1[_0x4c845c(0x1a8)]+_0x4c845c(0x23e)+_0x4c845c(0x129)+_0x1144c1[_0x4c845c(0x22f)]+'/'+_0x1144c1[_0x4c845c(0x208)]+'</div></div>'+_0x4c845c(0x165)+(parseFloat(_0x1144c1[_0x4c845c(0x226)])>=0x32?_0x4c845c(0x1e6):_0x4c845c(0x1f5))+'\x22>'+_0x1144c1[_0x4c845c(0x226)]+'%</div></div>'+_0x4c845c(0x195)+(parseFloat(_0x1144c1[_0x4c845c(0x1c4)])>=0x0?_0x4c845c(0x1e6):_0x4c845c(0x1f5))+'\x22>'+_0x1144c1[_0x4c845c(0x1c4)]+_0x4c845c(0x169)+_0x4c845c(0x181)+(parseFloat(_0x1144c1[_0x4c845c(0xf9)])>=STATE[_0x4c845c(0x19f)][_0x4c845c(0x230)]?_0x4c845c(0x1e6):'negative')+_0x4c845c(0xc5)+_0x1144c1[_0x4c845c(0xf9)]+_0x4c845c(0x23e)+_0x4c845c(0x108)+_0x1144c1[_0x4c845c(0x236)]+'%</div></div>'+_0x4c845c(0x1e9)+(parseFloat(_0x1144c1[_0x4c845c(0x20d)])>=0x1?_0x4c845c(0x1e6):_0x4c845c(0x1f5))+'\x22>'+_0x1144c1['profitFactor']+'</div></div>'+_0x4c845c(0xc1)+_0x1144c1[_0x4c845c(0x10b)]+'</div></div>'+'<div\x20class=\x22stat-card\x22><div\x20class=\x22stat-label\x22>میانگین\x20ضرر</div><div\x20class=\x22stat-value\x20negative\x22>$'+_0x1144c1[_0x4c845c(0xd0)]+_0x4c845c(0x23e);document[_0x4c845c(0x139)](_0x4c845c(0x1a6))[_0x4c845c(0xe7)]=_0x437558,drawEquityChart(_0x3aee14[_0x4c845c(0x17b)]);var _0xfd9126=_0x3aee14[_0x4c845c(0x1cb)],_0x49c7c7='';_0xfd9126[_0x4c845c(0x212)](-0x14)[_0x4c845c(0x144)]()['forEach'](function(_0x36d78e){var _0x37177a=_0x4c845c;_0x49c7c7+=_0x37177a(0x22d)+_0x37177a(0x23f)+_0x36d78e[_0x37177a(0x145)]+'\x22>'+(_0x36d78e['type']===_0x37177a(0x14c)?'LONG':_0x37177a(0x202))+_0x37177a(0x220)+'<span\x20class=\x22trade-pnl\x20'+(_0x36d78e['pnl']>=0x0?_0x37177a(0x1e6):_0x37177a(0x1f5))+'\x22>'+(_0x36d78e[_0x37177a(0x120)]>=0x0?'+':'')+_0x36d78e[_0x37177a(0x120)][_0x37177a(0x1d2)](0x2)+'</span>'+_0x37177a(0x1ee)+_0x36d78e[_0x37177a(0x15b)]+_0x37177a(0x220)+_0x37177a(0x14b);}),document[_0x4c845c(0x139)](_0x4c845c(0x242))['innerHTML']=_0x49c7c7||_0x4c845c(0xd9);}function drawEquityChart(_0x3966ec){var _0x181ac0=a0_0x1b461f,_0x17355b=document[_0x181ac0(0x139)]('equityChart'),_0x4a79a4=_0x17355b[_0x181ac0(0x225)]('2d'),_0x24f7ae=_0x17355b[_0x181ac0(0x1e0)][_0x181ac0(0x14d)]();_0x17355b[_0x181ac0(0x237)]=_0x24f7ae[_0x181ac0(0x237)]*window[_0x181ac0(0x10a)],_0x17355b['height']=0x96*window[_0x181ac0(0x10a)],_0x17355b[_0x181ac0(0x14f)][_0x181ac0(0x237)]=_0x24f7ae[_0x181ac0(0x237)]+'px',_0x17355b[_0x181ac0(0x14f)][_0x181ac0(0xea)]='150px',_0x4a79a4[_0x181ac0(0x223)](window[_0x181ac0(0x10a)],window[_0x181ac0(0x10a)]);var _0x38163c=_0x24f7ae[_0x181ac0(0x237)],_0xa08e62=0x96,_0x4fd36e={'top':0xa,'right':0xa,'bottom':0x14,'left':0x32};_0x4a79a4[_0x181ac0(0x112)]='#111827',_0x4a79a4[_0x181ac0(0xe3)](0x0,0x0,_0x38163c,_0xa08e62);if(!_0x3966ec||_0x3966ec[_0x181ac0(0x11e)]<0x2)return;var _0x4be446=_0x3966ec['map'](function(_0x1fe58e){var _0x460836=_0x181ac0;return _0x1fe58e[_0x460836(0x211)];}),_0x377e02=Math[_0x181ac0(0xc9)][_0x181ac0(0xf8)](null,_0x4be446)*0.95,_0x833505=Math[_0x181ac0(0x1e3)]['apply'](null,_0x4be446)*1.05,_0x2d2fa3=_0x833505-_0x377e02,_0xf34c1f=_0x38163c-_0x4fd36e[_0x181ac0(0x1a9)]-_0x4fd36e['right'],_0x59b34a=_0xa08e62-_0x4fd36e['top']-_0x4fd36e['bottom'];_0x4a79a4[_0x181ac0(0x172)]='#2a3444',_0x4a79a4[_0x181ac0(0x209)]=0.5;for(var _0x58ec6b=0x0;_0x58ec6b<=0x4;_0x58ec6b++){var _0x4730dc=_0x4fd36e[_0x181ac0(0xec)]+_0x59b34a/0x4*_0x58ec6b;_0x4a79a4[_0x181ac0(0x23d)](),_0x4a79a4[_0x181ac0(0x132)](_0x4fd36e['left'],_0x4730dc),_0x4a79a4[_0x181ac0(0xc8)](_0x38163c-_0x4fd36e[_0x181ac0(0x216)],_0x4730dc),_0x4a79a4[_0x181ac0(0x214)]();var _0x2571c0=_0x833505-_0x2d2fa3/0x4*_0x58ec6b;_0x4a79a4[_0x181ac0(0x112)]='#9ca3af',_0x4a79a4[_0x181ac0(0x204)]=_0x181ac0(0x21b),_0x4a79a4[_0x181ac0(0xc4)]=_0x181ac0(0x216),_0x4a79a4['fillText']('$'+_0x2571c0[_0x181ac0(0x1d2)](0x0),_0x4fd36e['left']-0x5,_0x4730dc+0x3);}var _0x90920b=_0x3966ec[0x0][_0x181ac0(0x211)];_0x4a79a4[_0x181ac0(0x23d)](),_0x4a79a4[_0x181ac0(0x172)]=_0x181ac0(0x119),_0x4a79a4[_0x181ac0(0x209)]=0x2,_0x3966ec[_0x181ac0(0x188)](function(_0x1f4181,_0x24c03f){var _0x23eccc=_0x181ac0,_0x295e85=_0x4fd36e[_0x23eccc(0x1a9)]+_0xf34c1f/(_0x3966ec['length']-0x1)*_0x24c03f,_0x25cfc7=_0x4fd36e['top']+_0x59b34a-(_0x1f4181['value']-_0x377e02)/_0x2d2fa3*_0x59b34a;if(_0x24c03f===0x0)_0x4a79a4[_0x23eccc(0x132)](_0x295e85,_0x25cfc7);else _0x4a79a4[_0x23eccc(0xc8)](_0x295e85,_0x25cfc7);}),_0x4a79a4['stroke']();var _0x350a0f=_0x4fd36e['top']+_0x59b34a-(_0x90920b-_0x377e02)/_0x2d2fa3*_0x59b34a;_0x4a79a4[_0x181ac0(0x172)]=_0x181ac0(0x11a),_0x4a79a4[_0x181ac0(0x209)]=0x1,_0x4a79a4[_0x181ac0(0x140)]([0x5,0x3]),_0x4a79a4[_0x181ac0(0x23d)](),_0x4a79a4[_0x181ac0(0x132)](_0x4fd36e['left'],_0x350a0f),_0x4a79a4[_0x181ac0(0xc8)](_0x38163c-_0x4fd36e['right'],_0x350a0f),_0x4a79a4[_0x181ac0(0x214)](),_0x4a79a4['setLineDash']([]);}var originalInit=window[a0_0x1b461f(0x149)];document['addEventListener'](a0_0x1b461f(0x114),function(){setTimeout(initViewTabs,0x64);}),window[a0_0x1b461f(0x1bd)]=enterPosition,window['closePosition']=closePosition,window[a0_0x1b461f(0xf5)]=refreshAnalysis,window['removeFromWatchlist']=removeFromWatchlist,window[a0_0x1b461f(0x1ce)]=toggleChartIndicator,window[a0_0x1b461f(0xe4)]=resetChartView,window[a0_0x1b461f(0x109)]=runBacktest;