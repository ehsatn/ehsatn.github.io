var a0_0x5e4e7a=a0_0x4579;(function(_0x55c124,_0x23922a){var _0x2e44ca=a0_0x4579,_0x585431=_0x55c124();while(!![]){try{var _0x19ee76=parseInt(_0x2e44ca(0x18c))/0x1*(parseInt(_0x2e44ca(0x1c7))/0x2)+parseInt(_0x2e44ca(0x190))/0x3*(-parseInt(_0x2e44ca(0x171))/0x4)+-parseInt(_0x2e44ca(0x1ab))/0x5+-parseInt(_0x2e44ca(0x1a7))/0x6*(parseInt(_0x2e44ca(0x182))/0x7)+-parseInt(_0x2e44ca(0x188))/0x8+parseInt(_0x2e44ca(0x197))/0x9*(-parseInt(_0x2e44ca(0x1a0))/0xa)+parseInt(_0x2e44ca(0x17a))/0xb*(parseInt(_0x2e44ca(0x1bd))/0xc);if(_0x19ee76===_0x23922a)break;else _0x585431['push'](_0x585431['shift']());}catch(_0x13bfd9){_0x585431['push'](_0x585431['shift']());}}}(a0_0x15be,0x48ab4));function calcRSI(_0x5a5526,_0x5cd13e){var _0x5905a7=a0_0x4579;if(!_0x5a5526||_0x5a5526[_0x5905a7(0x16d)]<_0x5cd13e+0x1)return 0x32;_0x5cd13e=_0x5cd13e||0xe;var _0x5744cb=0x0,_0x34e98c=0x0;for(var _0x5a0583=0x1;_0x5a0583<=_0x5cd13e;_0x5a0583++){var _0x28cc20=_0x5a5526[_0x5a0583]-_0x5a5526[_0x5a0583-0x1];if(_0x28cc20>0x0)_0x5744cb+=_0x28cc20;else _0x34e98c-=_0x28cc20;}var _0x2dca37=_0x5744cb/_0x5cd13e,_0xa07fb9=_0x34e98c/_0x5cd13e;for(var _0x2d6ee5=_0x5cd13e+0x1;_0x2d6ee5<_0x5a5526[_0x5905a7(0x16d)];_0x2d6ee5++){var _0x28cc20=_0x5a5526[_0x2d6ee5]-_0x5a5526[_0x2d6ee5-0x1];_0x28cc20>0x0?(_0x2dca37=(_0x2dca37*(_0x5cd13e-0x1)+_0x28cc20)/_0x5cd13e,_0xa07fb9=_0xa07fb9*(_0x5cd13e-0x1)/_0x5cd13e):(_0x2dca37=_0x2dca37*(_0x5cd13e-0x1)/_0x5cd13e,_0xa07fb9=(_0xa07fb9*(_0x5cd13e-0x1)-_0x28cc20)/_0x5cd13e);}if(_0xa07fb9===0x0)return 0x64;var _0x177672=_0x2dca37/_0xa07fb9;return 0x64-0x64/(0x1+_0x177672);}function calcEMA(_0xeb5d10,_0x513467){var _0xb283e=a0_0x4579;if(!_0xeb5d10||_0xeb5d10[_0xb283e(0x16d)]<_0x513467)return _0xeb5d10?_0xeb5d10[_0xeb5d10[_0xb283e(0x16d)]-0x1]:0x0;var _0x2fcf6f=0x2/(_0x513467+0x1),_0x2acc62=_0xeb5d10[_0xb283e(0x198)](0x0,_0x513467)[_0xb283e(0x1b9)](function(_0x40e1a3,_0x589ec2){return _0x40e1a3+_0x589ec2;},0x0)/_0x513467;for(var _0x2e0e35=_0x513467;_0x2e0e35<_0xeb5d10[_0xb283e(0x16d)];_0x2e0e35++){_0x2acc62=(_0xeb5d10[_0x2e0e35]-_0x2acc62)*_0x2fcf6f+_0x2acc62;}return _0x2acc62;}function calcMACD(_0x5700dc){var _0x15e13b=a0_0x4579;if(!_0x5700dc||_0x5700dc[_0x15e13b(0x16d)]<0x1a)return{'line':0x0,'signal':0x0,'histogram':0x0};var _0x4c41e4=calcEMA(_0x5700dc,0xc),_0x3e1f44=calcEMA(_0x5700dc,0x1a),_0x1e97d6=_0x4c41e4-_0x3e1f44,_0x1d63b4=[],_0x40b050=_0x5700dc[_0x15e13b(0x198)](0x0,0xc)[_0x15e13b(0x1b9)](function(_0x4d8358,_0x483fc7){return _0x4d8358+_0x483fc7;},0x0)/0xc,_0x3f5315=_0x5700dc['slice'](0x0,0x1a)['reduce'](function(_0x7a001,_0x4cd092){return _0x7a001+_0x4cd092;},0x0)/0x1a,_0x19dd9a=0x2/0xd,_0x19b2f4=0x2/0x1b;for(var _0xd49170=0x1a;_0xd49170<_0x5700dc[_0x15e13b(0x16d)];_0xd49170++){_0x40b050=(_0x5700dc[_0xd49170]-_0x40b050)*_0x19dd9a+_0x40b050,_0x3f5315=(_0x5700dc[_0xd49170]-_0x3f5315)*_0x19b2f4+_0x3f5315,_0x1d63b4[_0x15e13b(0x1b4)](_0x40b050-_0x3f5315);}if(_0x1d63b4[_0x15e13b(0x16d)]<0x9)return{'line':_0x1e97d6,'signal':0x0,'histogram':_0x1e97d6};var _0x1545e3=_0x1d63b4[_0x15e13b(0x198)](0x0,0x9)[_0x15e13b(0x1b9)](function(_0x12f269,_0xa02524){return _0x12f269+_0xa02524;},0x0)/0x9,_0x5ae0bf=0x2/0xa;for(var _0x17b3d1=0x9;_0x17b3d1<_0x1d63b4[_0x15e13b(0x16d)];_0x17b3d1++){_0x1545e3=(_0x1d63b4[_0x17b3d1]-_0x1545e3)*_0x5ae0bf+_0x1545e3;}return{'line':_0x1e97d6,'signal':_0x1545e3,'histogram':_0x1e97d6-_0x1545e3};}function calcBB(_0x29ea08,_0x458606,_0x261cd6){var _0x3d8fcb=a0_0x4579;if(!_0x29ea08||_0x29ea08[_0x3d8fcb(0x16d)]<_0x458606){var _0x22a794=_0x29ea08?_0x29ea08[_0x29ea08[_0x3d8fcb(0x16d)]-0x1]:0x0;return{'upper':_0x22a794*1.02,'middle':_0x22a794,'lower':_0x22a794*0.98};}_0x458606=_0x458606||0x14,_0x261cd6=_0x261cd6||0x2;var _0x5e14df=_0x29ea08[_0x3d8fcb(0x198)](-_0x458606),_0x30c2a7=_0x5e14df[_0x3d8fcb(0x1b9)](function(_0x3ee324,_0x1dc8bd){return _0x3ee324+_0x1dc8bd;},0x0)/_0x458606,_0x49d6a3=_0x5e14df[_0x3d8fcb(0x177)](function(_0x38b45f){var _0x115521=_0x3d8fcb;return Math[_0x115521(0x172)](_0x38b45f-_0x30c2a7,0x2);}),_0x4081fb=_0x49d6a3[_0x3d8fcb(0x1b9)](function(_0x2a586f,_0x59cca){return _0x2a586f+_0x59cca;},0x0)/_0x458606,_0x509897=Math[_0x3d8fcb(0x1be)](_0x4081fb);return{'upper':_0x30c2a7+_0x509897*_0x261cd6,'middle':_0x30c2a7,'lower':_0x30c2a7-_0x509897*_0x261cd6};}function calcATR(_0x5d9d1c,_0xb83e20,_0x22d31e){var _0x25c59f=a0_0x4579;if(!_0x5d9d1c||_0x5d9d1c[_0x25c59f(0x16d)]<_0xb83e20+0x1)return _0x22d31e?_0x22d31e*0.02:0x0;var _0x55c8b7=[];for(var _0x4fd5ee=0x1;_0x4fd5ee<_0x5d9d1c[_0x25c59f(0x16d)];_0x4fd5ee++){var _0x3d68d5=_0x5d9d1c[_0x4fd5ee]['h']||0x0,_0x2eb4f9=_0x5d9d1c[_0x4fd5ee]['l']||0x0,_0x27fb98=_0x5d9d1c[_0x4fd5ee-0x1]['c']||0x0;if(!isFinite(_0x3d68d5)||!isFinite(_0x2eb4f9)||!isFinite(_0x27fb98))continue;var _0xa5c583=Math['max'](_0x3d68d5-_0x2eb4f9,Math[_0x25c59f(0x1af)](_0x3d68d5-_0x27fb98),Math['abs'](_0x2eb4f9-_0x27fb98));isFinite(_0xa5c583)&&_0xa5c583>0x0&&_0x55c8b7[_0x25c59f(0x1b4)](_0xa5c583);}if(_0x55c8b7[_0x25c59f(0x16d)]<_0xb83e20)return _0x22d31e?_0x22d31e*0.02:0x0;var _0x236fac=_0x55c8b7[_0x25c59f(0x198)](0x0,_0xb83e20)[_0x25c59f(0x1b9)](function(_0x3c6129,_0x4b3e71){return _0x3c6129+_0x4b3e71;},0x0)/_0xb83e20;for(var _0x458e38=_0xb83e20;_0x458e38<_0x55c8b7['length'];_0x458e38++){_0x236fac=(_0x236fac*(_0xb83e20-0x1)+_0x55c8b7[_0x458e38])/_0xb83e20;}return isFinite(_0x236fac)?_0x236fac:_0x22d31e?_0x22d31e*0.02:0x0;}function calcADX(_0xb7f469,_0x25684c){var _0xd236eb=a0_0x4579;if(!_0xb7f469||!Array['isArray'](_0xb7f469)||_0xb7f469[_0xd236eb(0x16d)]<_0x25684c*0x2)return{'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0xd236eb(0x180)};_0x25684c=_0x25684c||0xe;var _0xbd161e={'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0xd236eb(0x180)};try{var _0x3bf4c8=[],_0x4d98ea=[],_0x31f27d=[];for(var _0x55e55f=0x1;_0x55e55f<_0xb7f469['length'];_0x55e55f++){var _0x4cc1bc=_0xb7f469[_0x55e55f-0x1]['c']||0x0,_0x4ad259=_0xb7f469[_0x55e55f]['h']||0x0,_0x31ce96=_0xb7f469[_0x55e55f]['l']||0x0,_0x494395=_0xb7f469[_0x55e55f-0x1]['h']||_0x4ad259,_0x501e28=_0xb7f469[_0x55e55f-0x1]['l']||_0x31ce96;if(!isFinite(_0x4cc1bc)||!isFinite(_0x4ad259)||!isFinite(_0x31ce96))continue;var _0x2bcf66=Math[_0xd236eb(0x17d)](_0x4ad259-_0x31ce96,Math['abs'](_0x4ad259-_0x4cc1bc),Math[_0xd236eb(0x1af)](_0x31ce96-_0x4cc1bc));_0x3bf4c8[_0xd236eb(0x1b4)](isFinite(_0x2bcf66)&&_0x2bcf66>0x0?_0x2bcf66:0x0);var _0x394a40=_0x4ad259-_0x494395,_0x33ae5d=_0x501e28-_0x31ce96;if(_0x394a40>_0x33ae5d&&_0x394a40>0x0)_0x4d98ea[_0xd236eb(0x1b4)](_0x394a40),_0x31f27d[_0xd236eb(0x1b4)](0x0);else _0x33ae5d>_0x394a40&&_0x33ae5d>0x0?(_0x4d98ea[_0xd236eb(0x1b4)](0x0),_0x31f27d[_0xd236eb(0x1b4)](_0x33ae5d)):(_0x4d98ea[_0xd236eb(0x1b4)](0x0),_0x31f27d[_0xd236eb(0x1b4)](0x0));}if(_0x3bf4c8[_0xd236eb(0x16d)]<_0x25684c*0x2||_0x4d98ea['length']<_0x25684c*0x2)return _0xbd161e;var _0x2e398f=0x0,_0x4f402b=0x0,_0x35f59c=0x0;for(var _0x3ea4bf=0x0;_0x3ea4bf<_0x25684c;_0x3ea4bf++){_0x2e398f+=_0x3bf4c8[_0x3ea4bf],_0x4f402b+=_0x4d98ea[_0x3ea4bf],_0x35f59c+=_0x31f27d[_0x3ea4bf];}var _0x522c94=[];for(var _0xb55d64=_0x25684c;_0xb55d64<_0x3bf4c8[_0xd236eb(0x16d)];_0xb55d64++){_0x2e398f=_0x2e398f-_0x2e398f/_0x25684c+_0x3bf4c8[_0xb55d64],_0x4f402b=_0x4f402b-_0x4f402b/_0x25684c+_0x4d98ea[_0xb55d64],_0x35f59c=_0x35f59c-_0x35f59c/_0x25684c+_0x31f27d[_0xb55d64];var _0x5f15bf=_0x2e398f>0x0?_0x4f402b/_0x2e398f*0x64:0x0,_0x12a794=_0x2e398f>0x0?_0x35f59c/_0x2e398f*0x64:0x0,_0x57d65e=_0x5f15bf+_0x12a794,_0x3f55c5=_0x57d65e>0x0?Math['abs'](_0x5f15bf-_0x12a794)/_0x57d65e*0x64:0x0;_0x522c94['push']({'dx':_0x3f55c5,'diPlus':_0x5f15bf,'diMinus':_0x12a794});}if(_0x522c94[_0xd236eb(0x16d)]<_0x25684c)return _0xbd161e;var _0x16291f=0x0;for(var _0x2bc88c=0x0;_0x2bc88c<_0x25684c;_0x2bc88c++){_0x16291f+=_0x522c94[_0x2bc88c]['dx'];}_0x16291f/=_0x25684c;for(var _0x4f5530=_0x25684c;_0x4f5530<_0x522c94[_0xd236eb(0x16d)];_0x4f5530++){_0x16291f=(_0x16291f*(_0x25684c-0x1)+_0x522c94[_0x4f5530]['dx'])/_0x25684c;}var _0x10bc01=_0x522c94[_0x522c94[_0xd236eb(0x16d)]-0x1];_0xbd161e['adx']=isFinite(_0x16291f)?Math[_0xd236eb(0x1b6)](_0x16291f*0xa)/0xa:0x19,_0xbd161e[_0xd236eb(0x1a5)]=isFinite(_0x10bc01[_0xd236eb(0x1a5)])?Math[_0xd236eb(0x1b6)](_0x10bc01[_0xd236eb(0x1a5)]*0xa)/0xa:0x0,_0xbd161e[_0xd236eb(0x1c0)]=isFinite(_0x10bc01[_0xd236eb(0x1c0)])?Math['round'](_0x10bc01[_0xd236eb(0x1c0)]*0xa)/0xa:0x0;if(_0xbd161e['adx']>=0x19&&_0xbd161e[_0xd236eb(0x1a5)]>_0xbd161e[_0xd236eb(0x1c0)])_0xbd161e[_0xd236eb(0x17f)]='strong_up';else{if(_0xbd161e[_0xd236eb(0x1c8)]>=0x19&&_0xbd161e[_0xd236eb(0x1c0)]>_0xbd161e[_0xd236eb(0x1a5)])_0xbd161e['trend']=_0xd236eb(0x18d);else{if(_0xbd161e[_0xd236eb(0x1a5)]>_0xbd161e[_0xd236eb(0x1c0)])_0xbd161e[_0xd236eb(0x17f)]='up';else _0xbd161e[_0xd236eb(0x1c0)]>_0xbd161e[_0xd236eb(0x1a5)]&&(_0xbd161e['trend']=_0xd236eb(0x19a));}}_0xbd161e[_0xd236eb(0x1c8)]=Math[_0xd236eb(0x17d)](0x0,Math[_0xd236eb(0x1ba)](0x64,_0xbd161e[_0xd236eb(0x1c8)])),_0xbd161e[_0xd236eb(0x1a5)]=Math[_0xd236eb(0x17d)](0x0,Math[_0xd236eb(0x1ba)](0x64,_0xbd161e[_0xd236eb(0x1a5)])),_0xbd161e[_0xd236eb(0x1c0)]=Math['max'](0x0,Math[_0xd236eb(0x1ba)](0x64,_0xbd161e[_0xd236eb(0x1c0)]));}catch(_0x3e6d1a){console[_0xd236eb(0x1bf)]('⚠️\x20ADX\x20calc\x20error:',_0x3e6d1a['message']);}return _0xbd161e;}function analyzeVolume(_0x1748c3,_0x16e9e2){var _0x1d13e3=a0_0x4579;if(!_0x1748c3||_0x1748c3[_0x1d13e3(0x16d)]<0x14||!_0x16e9e2)return{'strength':0x0,'signal':_0x1d13e3(0x180),'avgVolume':0x0};var _0x5807f0=_0x1748c3[_0x1d13e3(0x198)](-0x14)['map'](function(_0x339fef){return _0x339fef['v']||0x0;}),_0x50e551=_0x5807f0['reduce'](function(_0x3f13ad,_0x2af4d8){return _0x3f13ad+_0x2af4d8;},0x0)/_0x5807f0['length'];if(_0x50e551===0x0)return{'strength':0x0,'signal':'neutral','avgVolume':0x0};var _0x29e494=_0x16e9e2/_0x50e551,_0x533dbf=0x0,_0x4d7d8e=_0x1d13e3(0x180);if(_0x29e494>=0x2)_0x533dbf=0x2,_0x4d7d8e='strong';else{if(_0x29e494>=1.5)_0x533dbf=0x1,_0x4d7d8e=_0x1d13e3(0x191);else _0x29e494<0.5&&(_0x533dbf=-0x1,_0x4d7d8e=_0x1d13e3(0x1b0));}return{'strength':_0x533dbf,'signal':_0x4d7d8e,'avgVolume':_0x50e551,'ratio':_0x29e494};}function detectDivergence(_0x2288f0,_0x481c9d,_0x23cb21){var _0x525b4f=a0_0x4579;if(!_0x2288f0||!Array[_0x525b4f(0x174)](_0x2288f0)||_0x2288f0[_0x525b4f(0x16d)]<0x1e)return{'type':_0x525b4f(0x1c2),'strength':0x0,'hidden':![]};if(!_0x481c9d||!Array['isArray'](_0x481c9d)||_0x481c9d[_0x525b4f(0x16d)]<0x1e)return{'type':_0x525b4f(0x1c2),'strength':0x0,'hidden':![]};var _0x342bf5=Math['min'](0x32,_0x2288f0[_0x525b4f(0x16d)],_0x481c9d[_0x525b4f(0x16d)]),_0x3b68b8=[],_0x574836=[];for(var _0x362639=_0x2288f0[_0x525b4f(0x16d)]-_0x342bf5;_0x362639<_0x2288f0[_0x525b4f(0x16d)];_0x362639++){var _0x1d3ca6=_0x362639-(_0x2288f0['length']-_0x342bf5);_0x2288f0[_0x362639]['c']&&isFinite(_0x2288f0[_0x362639]['c'])&&(_0x3b68b8[_0x525b4f(0x1b4)]({'value':_0x2288f0[_0x362639]['c'],'index':_0x362639}),_0x481c9d[_0x1d3ca6]!==undefined&&isFinite(_0x481c9d[_0x1d3ca6])&&_0x574836[_0x525b4f(0x1b4)]({'value':_0x481c9d[_0x1d3ca6],'index':_0x1d3ca6}));}if(_0x3b68b8[_0x525b4f(0x16d)]<0x14||_0x574836['length']<0x14)return{'type':_0x525b4f(0x1c2),'strength':0x0,'hidden':![]};var _0x410c2e=[],_0x57b289=[];for(var _0x53d8e1=0x2;_0x53d8e1<_0x3b68b8['length']-0x2;_0x53d8e1++){_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]>_0x3b68b8[_0x53d8e1-0x1]['value']&&_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]>_0x3b68b8[_0x53d8e1-0x2][_0x525b4f(0x1c9)]&&_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]>_0x3b68b8[_0x53d8e1+0x1]['value']&&_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]>_0x3b68b8[_0x53d8e1+0x2][_0x525b4f(0x1c9)]&&_0x410c2e[_0x525b4f(0x1b4)](_0x3b68b8[_0x53d8e1]),_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]<_0x3b68b8[_0x53d8e1-0x1][_0x525b4f(0x1c9)]&&_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]<_0x3b68b8[_0x53d8e1-0x2][_0x525b4f(0x1c9)]&&_0x3b68b8[_0x53d8e1][_0x525b4f(0x1c9)]<_0x3b68b8[_0x53d8e1+0x1][_0x525b4f(0x1c9)]&&_0x3b68b8[_0x53d8e1]['value']<_0x3b68b8[_0x53d8e1+0x2][_0x525b4f(0x1c9)]&&_0x57b289[_0x525b4f(0x1b4)](_0x3b68b8[_0x53d8e1]);}if(_0x57b289[_0x525b4f(0x16d)]>=0x2)for(var _0x4be776=_0x57b289[_0x525b4f(0x16d)]-0x1;_0x4be776>=0x1;_0x4be776--){var _0x380b9d=_0x57b289[_0x4be776],_0x223a6d=_0x57b289[_0x4be776-0x1],_0x21cab8=_0x380b9d[_0x525b4f(0x185)]-(_0x2288f0['length']-_0x342bf5),_0x3e7402=_0x223a6d[_0x525b4f(0x185)]-(_0x2288f0['length']-_0x342bf5);if(_0x21cab8>=0x0&&_0x21cab8<_0x574836[_0x525b4f(0x16d)]&&_0x3e7402>=0x0&&_0x3e7402<_0x574836[_0x525b4f(0x16d)]){var _0x324d55=_0x574836[_0x21cab8],_0x3f2eda=_0x574836[_0x3e7402];if(_0x380b9d['value']<_0x223a6d[_0x525b4f(0x1c9)]&&_0x324d55[_0x525b4f(0x1c9)]>_0x3f2eda[_0x525b4f(0x1c9)]){var _0x178fd0=Math[_0x525b4f(0x1ba)](0x3,Math[_0x525b4f(0x1af)]((_0x380b9d[_0x525b4f(0x1c9)]-_0x223a6d['value'])/_0x223a6d[_0x525b4f(0x1c9)]*0x64)+0x1);return{'type':_0x525b4f(0x1b7),'strength':Math['floor'](_0x178fd0),'hidden':![]};}if(_0x380b9d[_0x525b4f(0x1c9)]>_0x223a6d[_0x525b4f(0x1c9)]&&_0x324d55[_0x525b4f(0x1c9)]<_0x3f2eda[_0x525b4f(0x1c9)])return{'type':_0x525b4f(0x1b7),'strength':0x1,'hidden':!![]};}}if(_0x410c2e[_0x525b4f(0x16d)]>=0x2)for(var _0x543cd1=_0x410c2e[_0x525b4f(0x16d)]-0x1;_0x543cd1>=0x1;_0x543cd1--){var _0x4ccfef=_0x410c2e[_0x543cd1],_0x4057d4=_0x410c2e[_0x543cd1-0x1],_0x21cab8=_0x4ccfef[_0x525b4f(0x185)]-(_0x2288f0['length']-_0x342bf5),_0x3e7402=_0x4057d4[_0x525b4f(0x185)]-(_0x2288f0[_0x525b4f(0x16d)]-_0x342bf5);if(_0x21cab8>=0x0&&_0x21cab8<_0x574836[_0x525b4f(0x16d)]&&_0x3e7402>=0x0&&_0x3e7402<_0x574836[_0x525b4f(0x16d)]){var _0x324d55=_0x574836[_0x21cab8],_0x3f2eda=_0x574836[_0x3e7402];if(_0x4ccfef[_0x525b4f(0x1c9)]>_0x4057d4[_0x525b4f(0x1c9)]&&_0x324d55[_0x525b4f(0x1c9)]<_0x3f2eda['value']){var _0x178fd0=Math[_0x525b4f(0x1ba)](0x3,Math[_0x525b4f(0x1af)]((_0x4ccfef[_0x525b4f(0x1c9)]-_0x4057d4[_0x525b4f(0x1c9)])/_0x4057d4[_0x525b4f(0x1c9)]*0x64)+0x1);return{'type':_0x525b4f(0x1ac),'strength':Math[_0x525b4f(0x186)](_0x178fd0),'hidden':![]};}if(_0x4ccfef[_0x525b4f(0x1c9)]<_0x4057d4[_0x525b4f(0x1c9)]&&_0x324d55[_0x525b4f(0x1c9)]>_0x3f2eda[_0x525b4f(0x1c9)])return{'type':_0x525b4f(0x1ac),'strength':0x1,'hidden':!![]};}}return{'type':'none','strength':0x0,'hidden':![]};}function detectCandlestickPatterns(_0x3e92ec){var _0xaaa6e5=a0_0x4579;if(!_0x3e92ec||!Array[_0xaaa6e5(0x174)](_0x3e92ec)||_0x3e92ec['length']<0x3)return{'patterns':[],'bullish':0x0,'bearish':0x0};var _0x3c6a52=[],_0x104276=0x0,_0x2ce7ec=0x0;try{var _0x1ab84a=Math[_0xaaa6e5(0x1ba)](0x3,_0x3e92ec[_0xaaa6e5(0x16d)]);for(var _0x166672=_0x3e92ec['length']-_0x1ab84a;_0x166672<_0x3e92ec['length'];_0x166672++){if(_0x166672<0x2)continue;var _0x413593=_0x3e92ec[_0x166672],_0x5eaf9e=_0x3e92ec[_0x166672-0x1],_0x537c22=_0x3e92ec[_0x166672-0x2];if(!_0x413593||!_0x5eaf9e||!_0x413593['o']||!_0x413593['c']||!_0x413593['h']||!_0x413593['l'])continue;if(!_0x5eaf9e['o']||!_0x5eaf9e['c']||!_0x5eaf9e['h']||!_0x5eaf9e['l'])continue;var _0x8c2bf0=Math[_0xaaa6e5(0x1af)](_0x413593['c']-_0x413593['o']),_0x304fea=_0x413593['h']-_0x413593['l'],_0x30a57b=Math[_0xaaa6e5(0x1af)](_0x5eaf9e['c']-_0x5eaf9e['o']),_0x4c8cd0=_0x413593['c']>=_0x413593['o'],_0x287ba4=_0x5eaf9e['c']>=_0x5eaf9e['o'];_0x8c2bf0<_0x304fea*0.1&&_0x3c6a52[_0xaaa6e5(0x1b4)]({'type':_0xaaa6e5(0x1c4),'index':_0x166672,'bullish':null});if(_0x166672===_0x3e92ec[_0xaaa6e5(0x16d)]-0x1){var _0x5341a9=Math[_0xaaa6e5(0x1ba)](_0x413593['o'],_0x413593['c'])-_0x413593['l'],_0x59c2dd=_0x413593['h']-Math['max'](_0x413593['o'],_0x413593['c']);_0x5341a9>_0x8c2bf0*0x2&&_0x59c2dd<_0x8c2bf0*0.3&&_0x304fea>0x0&&(_0x3c6a52['push']({'type':_0xaaa6e5(0x194),'index':_0x166672,'bullish':!![]}),_0x104276+=0x2),_0x59c2dd>_0x8c2bf0*0x2&&_0x5341a9<_0x8c2bf0*0.3&&_0x304fea>0x0&&(_0x3c6a52[_0xaaa6e5(0x1b4)]({'type':_0xaaa6e5(0x1ae),'index':_0x166672,'bullish':![]}),_0x2ce7ec+=0x2);}_0x166672===_0x3e92ec['length']-0x1&&(!_0x287ba4&&_0x4c8cd0&&_0x413593['o']<_0x5eaf9e['c']&&_0x413593['c']>_0x5eaf9e['o']&&_0x8c2bf0>_0x30a57b*1.1&&(_0x3c6a52['push']({'type':_0xaaa6e5(0x199),'index':_0x166672,'bullish':!![]}),_0x104276+=0x3),_0x287ba4&&!_0x4c8cd0&&_0x413593['o']>_0x5eaf9e['c']&&_0x413593['c']<_0x5eaf9e['o']&&_0x8c2bf0>_0x30a57b*1.1&&(_0x3c6a52[_0xaaa6e5(0x1b4)]({'type':_0xaaa6e5(0x1a3),'index':_0x166672,'bullish':![]}),_0x2ce7ec+=0x3));if(_0x166672>=0x2&&_0x166672===_0x3e92ec['length']-0x1&&_0x537c22){var _0x48c4d1=_0x537c22,_0x5a339a=_0x5eaf9e,_0x7106be=_0x413593;if(_0x48c4d1['c']&&_0x48c4d1['o']&&_0x5a339a['c']&&_0x5a339a['o']&&_0x7106be['c']&&_0x7106be['o']){var _0x5aec7b=_0x48c4d1['c']<_0x48c4d1['o'],_0x42fb25=Math[_0xaaa6e5(0x1af)](_0x5a339a['c']-_0x5a339a['o'])<Math['abs'](_0x48c4d1['c']-_0x48c4d1['o'])*0.5,_0x5f161b=_0x7106be['c']>_0x7106be['o'];_0x5aec7b&&_0x42fb25&&_0x5f161b&&_0x7106be['c']>(_0x48c4d1['o']+_0x48c4d1['c'])/0x2&&(_0x3c6a52['push']({'type':'morning_star','index':_0x166672,'bullish':!![]}),_0x104276+=0x3);var _0x43d4c2=_0x48c4d1['c']>_0x48c4d1['o'],_0x27fd57=_0x7106be['c']<_0x7106be['o'];_0x43d4c2&&_0x42fb25&&_0x27fd57&&_0x7106be['c']<(_0x48c4d1['o']+_0x48c4d1['c'])/0x2&&(_0x3c6a52[_0xaaa6e5(0x1b4)]({'type':'evening_star','index':_0x166672,'bullish':![]}),_0x2ce7ec+=0x3);}}}}catch(_0x16a1c8){console['log'](_0xaaa6e5(0x1b1),_0x16a1c8[_0xaaa6e5(0x1c5)]);}return{'patterns':_0x3c6a52,'bullish':_0x104276,'bearish':_0x2ce7ec,'strongest':_0x3c6a52[_0xaaa6e5(0x16d)]>0x0?_0x3c6a52[_0x3c6a52[_0xaaa6e5(0x16d)]-0x1]:null};}function detectMarketRegime(_0x262eec,_0x4a0ca6){var _0x2bfa7d=a0_0x4579;if(!_0x262eec||!Array[_0x2bfa7d(0x174)](_0x262eec)||_0x262eec[_0x2bfa7d(0x16d)]<0x32||!_0x4a0ca6||!isFinite(_0x4a0ca6))return{'regime':_0x2bfa7d(0x193),'strength':0x0,'volatility':_0x2bfa7d(0x1a8)};var _0x509ca0={'regime':'ranging','strength':0x0,'volatility':'medium'};try{var _0x27c596=calcATR(_0x262eec,0xe,_0x4a0ca6),_0x1113b4=_0x27c596/_0x4a0ca6*0x64;if(_0x1113b4>0x3)_0x509ca0['volatility']=_0x2bfa7d(0x189);else _0x1113b4<0x1&&(_0x509ca0[_0x2bfa7d(0x1ca)]='low');var _0x4c800c=_0x262eec[_0x2bfa7d(0x177)](function(_0x580aef){return _0x580aef['c'];})[_0x2bfa7d(0x1c6)](function(_0x3c31cd){var _0x3824a2=_0x2bfa7d;return typeof _0x3c31cd===_0x3824a2(0x179)&&isFinite(_0x3c31cd)&&_0x3c31cd>0x0;});if(_0x4c800c[_0x2bfa7d(0x16d)]<0x32)return _0x509ca0;var _0x262ebe=calcEMA(_0x4c800c,0x14),_0xfadc0b=calcEMA(_0x4c800c,0x32),_0x3f5f4f=calcADX(_0x262eec,0xe);if(_0x3f5f4f[_0x2bfa7d(0x1c8)]>=0x19){if(_0x4a0ca6>_0x262ebe&&_0x262ebe>_0xfadc0b&&_0x3f5f4f[_0x2bfa7d(0x17f)]['includes']('up'))_0x509ca0[_0x2bfa7d(0x195)]=_0x2bfa7d(0x1a2),_0x509ca0[_0x2bfa7d(0x184)]=_0x3f5f4f[_0x2bfa7d(0x1c8)];else _0x4a0ca6<_0x262ebe&&_0x262ebe<_0xfadc0b&&_0x3f5f4f['trend']['includes'](_0x2bfa7d(0x19a))&&(_0x509ca0['regime']=_0x2bfa7d(0x18a),_0x509ca0['strength']=_0x3f5f4f[_0x2bfa7d(0x1c8)]);}else _0x509ca0[_0x2bfa7d(0x195)]=_0x2bfa7d(0x1a1),_0x509ca0[_0x2bfa7d(0x184)]=0x64-_0x3f5f4f['adx'];}catch(_0x204d03){console[_0x2bfa7d(0x1bf)]('⚠️\x20Market\x20regime\x20error:',_0x204d03['message']);}return _0x509ca0;}function calcFibonacci(_0x16f768,_0x24c174){var _0x5d5d6c=a0_0x4579;if(!_0x16f768||_0x16f768[_0x5d5d6c(0x16d)]<_0x24c174)return null;var _0x808244=_0x16f768['slice'](-_0x24c174),_0x12a0e1=-Infinity,_0x509f9a=Infinity,_0xf78246=0x0,_0x1418ed=0x0;for(var _0x346b3e=0x0;_0x346b3e<_0x808244[_0x5d5d6c(0x16d)];_0x346b3e++){_0x808244[_0x346b3e]['h']>_0x12a0e1&&(_0x12a0e1=_0x808244[_0x346b3e]['h'],_0xf78246=_0x346b3e),_0x808244[_0x346b3e]['l']<_0x509f9a&&(_0x509f9a=_0x808244[_0x346b3e]['l'],_0x1418ed=_0x346b3e);}if(_0x12a0e1===_0x509f9a||!isFinite(_0x12a0e1)||!isFinite(_0x509f9a))return null;var _0x399c0d=_0x12a0e1-_0x509f9a,_0x21ef30=_0x1418ed<_0xf78246,_0x532064={0x0:_0x21ef30?_0x12a0e1:_0x509f9a,0.236:_0x21ef30?_0x12a0e1-_0x399c0d*0.236:_0x509f9a+_0x399c0d*0.236,0.382:_0x21ef30?_0x12a0e1-_0x399c0d*0.382:_0x509f9a+_0x399c0d*0.382,0.5:_0x21ef30?_0x12a0e1-_0x399c0d*0.5:_0x509f9a+_0x399c0d*0.5,0.618:_0x21ef30?_0x12a0e1-_0x399c0d*0.618:_0x509f9a+_0x399c0d*0.618,0.786:_0x21ef30?_0x12a0e1-_0x399c0d*0.786:_0x509f9a+_0x399c0d*0.786,0x1:_0x21ef30?_0x509f9a:_0x12a0e1};return{'high':_0x12a0e1,'low':_0x509f9a,'isUptrend':_0x21ef30,'levels':_0x532064};}function detectOrderBlocks(_0x1c0508,_0x28d28a){var _0x56a31b=a0_0x4579;if(!_0x1c0508||_0x1c0508[_0x56a31b(0x16d)]<_0x28d28a+0x5)return[];var _0x12301c=[],_0x5fbc74=_0x1c0508[_0x56a31b(0x198)](-(_0x28d28a+0x5));for(var _0x105b9d=0x2;_0x105b9d<_0x5fbc74[_0x56a31b(0x16d)]-0x2;_0x105b9d++){var _0x92d1a2=_0x5fbc74[_0x105b9d],_0x34040f=_0x5fbc74[_0x105b9d+0x1],_0x1ac1a9=_0x5fbc74[_0x105b9d+0x2];if(!_0x92d1a2||!_0x34040f||!_0x1ac1a9)continue;var _0x402287=Math[_0x56a31b(0x1af)](_0x92d1a2['c']-_0x92d1a2['o']),_0xc0780=Math[_0x56a31b(0x1af)](_0x34040f['c']-_0x34040f['o']),_0x47b7ca=Math[_0x56a31b(0x1af)](_0x1ac1a9['c']-_0x1ac1a9['o']);_0x92d1a2['c']<_0x92d1a2['o']&&_0x34040f['c']>_0x34040f['o']&&_0x1ac1a9['c']>_0x1ac1a9['o']&&_0xc0780+_0x47b7ca>_0x402287*0x2&&_0x12301c[_0x56a31b(0x1b4)]({'type':_0x56a31b(0x1b7),'high':_0x92d1a2['h'],'low':_0x92d1a2['l'],'strength':Math[_0x56a31b(0x1ba)](0x3,Math[_0x56a31b(0x186)]((_0xc0780+_0x47b7ca)/_0x402287))}),_0x92d1a2['c']>_0x92d1a2['o']&&_0x34040f['c']<_0x34040f['o']&&_0x1ac1a9['c']<_0x1ac1a9['o']&&_0xc0780+_0x47b7ca>_0x402287*0x2&&_0x12301c[_0x56a31b(0x1b4)]({'type':_0x56a31b(0x1ac),'high':_0x92d1a2['h'],'low':_0x92d1a2['l'],'strength':Math[_0x56a31b(0x1ba)](0x3,Math[_0x56a31b(0x186)]((_0xc0780+_0x47b7ca)/_0x402287))});}return _0x12301c[_0x56a31b(0x198)](-0x3);}function detectFVG(_0x3f3d73,_0x4b6c71){var _0x12d589=a0_0x4579;if(!_0x3f3d73||_0x3f3d73[_0x12d589(0x16d)]<_0x4b6c71)return[];var _0x469ad4=[],_0x47931d=_0x3f3d73[_0x12d589(0x198)](-_0x4b6c71);for(var _0xd34b34=0x2;_0xd34b34<_0x47931d[_0x12d589(0x16d)];_0xd34b34++){var _0x4533a5=_0x47931d[_0xd34b34-0x2],_0x197c41=_0x47931d[_0xd34b34];if(!_0x4533a5||!_0x197c41)continue;_0x197c41['l']>_0x4533a5['h']&&_0x469ad4[_0x12d589(0x1b4)]({'type':'bullish','high':_0x197c41['l'],'low':_0x4533a5['h'],'filled':![]}),_0x197c41['h']<_0x4533a5['l']&&_0x469ad4['push']({'type':_0x12d589(0x1ac),'high':_0x4533a5['l'],'low':_0x197c41['h'],'filled':![]});}return _0x469ad4[_0x12d589(0x198)](-0x3);}function calcVWAP(_0x51c426,_0x33dfe0){var _0x95611=a0_0x4579;if(!_0x51c426||_0x51c426[_0x95611(0x16d)]<_0x33dfe0)return null;var _0x1206fc=_0x51c426[_0x95611(0x198)](-_0x33dfe0),_0x1d6191=0x0,_0x3415d0=0x0;for(var _0x13ee9c=0x0;_0x13ee9c<_0x1206fc[_0x95611(0x16d)];_0x13ee9c++){var _0xce3959=_0x1206fc[_0x13ee9c],_0x76492b=(_0xce3959['h']+_0xce3959['l']+_0xce3959['c'])/0x3,_0x29c0ce=_0xce3959['v']||0x1;_0x1d6191+=_0x76492b*_0x29c0ce,_0x3415d0+=_0x29c0ce;}if(_0x3415d0===0x0)return null;var _0x3c7e17=_0x1d6191/_0x3415d0,_0x5b5570=0x0;for(var _0x3bb91f=0x0;_0x3bb91f<_0x1206fc[_0x95611(0x16d)];_0x3bb91f++){var _0x2287d3=(_0x1206fc[_0x3bb91f]['h']+_0x1206fc[_0x3bb91f]['l']+_0x1206fc[_0x3bb91f]['c'])/0x3;_0x5b5570+=Math['pow'](_0x2287d3-_0x3c7e17,0x2);}var _0x1bbdef=Math[_0x95611(0x1be)](_0x5b5570/_0x1206fc[_0x95611(0x16d)]);return{'vwap':_0x3c7e17,'upperBand1':_0x3c7e17+_0x1bbdef,'lowerBand1':_0x3c7e17-_0x1bbdef,'upperBand2':_0x3c7e17+_0x1bbdef*0x2,'lowerBand2':_0x3c7e17-_0x1bbdef*0x2};}function a0_0x15be(){var _0x2bdab2=['fair','2574621JZMtfO','slice','bullish_engulfing','down','toFixed','lower','vwap','ورود\x20دوم\x20(DCA)','entries','10yLCkmK','ranging','trending_up','bearish_engulfing','score','diPlus','sort','6IHVyTF','medium','confluenceScore','quality','1183735BFtGrW','bearish','entry','shooting_star','abs','weak','⚠️\x20Pattern\x20detection\x20error:','sources','ورود\x20کامل','push','long','round','bullish','VWAP','reduce','min','reasons','type','717480MNIFKn','sqrt','log','diMinus','source','none','low','doji','message','filter','2RFhzuW','adx','value','volatility','excellent','EMA50','good','length','ورود\x20چهارم\x20(اگر\x20رسید)','levels','ورود\x20سوم','413464eiSfED','pow','Order\x20Block','isArray','price','VWAP\x20-1σ','map','confirmations','number','209DZzrVG','ورود\x20کامل\x20(سرمایه\x20کم)','undefined','max','Fib\x20','trend','neutral','strong_up','2448579uxeEZf','4H\x20TF','strength','index','floor','histogram','724536OdBRBA','high','trending_down','upper','538286VYJuoQ','strong_down','short','ورود\x20سوم\x20(اگر\x20رسید)','12khsHbv','above_average','ورود\x20اول','unknown','hammer','regime'];a0_0x15be=function(){return _0x2bdab2;};return a0_0x15be();}function findConfluenceZones(_0x28a2ff,_0x22e9b5,_0x456467,_0x57cca2,_0x543d84,_0x4a8ab7,_0x43ee67,_0x31dd9b,_0x47e2dd){var _0x430395=a0_0x4579,_0x3bdf1f=[],_0x30e57b=_0x47e2dd*0.3,_0x27728f=[];if(_0x456467&&_0x456467['levels']){var _0x14a809=[0.382,0.5,0.618,0.786];for(var _0x17c4ad=0x0;_0x17c4ad<_0x14a809[_0x430395(0x16d)];_0x17c4ad++){var _0x1190b5=_0x456467[_0x430395(0x16f)][_0x14a809[_0x17c4ad]];_0x1190b5&&isFinite(_0x1190b5)&&_0x27728f[_0x430395(0x1b4)]({'price':_0x1190b5,'source':_0x430395(0x17e)+(_0x14a809[_0x17c4ad]*0x64)[_0x430395(0x19b)](0x1)+'%','weight':_0x14a809[_0x17c4ad]===0.618?0x2:0x1});}}if(_0x57cca2&&_0x57cca2['length']>0x0)for(var _0x72876f=0x0;_0x72876f<_0x57cca2[_0x430395(0x16d)];_0x72876f++){var _0x2c6a42=_0x57cca2[_0x72876f];if(_0x22e9b5===_0x430395(0x1b5)&&_0x2c6a42[_0x430395(0x1bc)]===_0x430395(0x1b7)||_0x22e9b5==='short'&&_0x2c6a42['type']==='bearish'){var _0x39c0ea=(_0x2c6a42[_0x430395(0x189)]+_0x2c6a42[_0x430395(0x1c3)])/0x2;_0x27728f['push']({'price':_0x39c0ea,'source':_0x430395(0x173),'weight':_0x2c6a42[_0x430395(0x184)]});}}if(_0x543d84&&_0x543d84[_0x430395(0x16d)]>0x0)for(var _0x1a2458=0x0;_0x1a2458<_0x543d84[_0x430395(0x16d)];_0x1a2458++){var _0x4c7c0c=_0x543d84[_0x1a2458];if(_0x22e9b5===_0x430395(0x1b5)&&_0x4c7c0c[_0x430395(0x1bc)]===_0x430395(0x1b7)||_0x22e9b5===_0x430395(0x18e)&&_0x4c7c0c[_0x430395(0x1bc)]===_0x430395(0x1ac)){var _0x53ff35=(_0x4c7c0c['high']+_0x4c7c0c[_0x430395(0x1c3)])/0x2;_0x27728f[_0x430395(0x1b4)]({'price':_0x53ff35,'source':'FVG','weight':0x1});}}_0x4a8ab7&&_0x4a8ab7['vwap']&&(_0x27728f[_0x430395(0x1b4)]({'price':_0x4a8ab7[_0x430395(0x19d)],'source':_0x430395(0x1b8),'weight':0x2}),_0x22e9b5===_0x430395(0x1b5)?_0x27728f[_0x430395(0x1b4)]({'price':_0x4a8ab7['lowerBand1'],'source':_0x430395(0x176),'weight':0x1}):_0x27728f['push']({'price':_0x4a8ab7['upperBand1'],'source':'VWAP\x20+1σ','weight':0x1}));_0x43ee67&&isFinite(_0x43ee67)&&_0x27728f['push']({'price':_0x43ee67,'source':'EMA21','weight':0x1});_0x31dd9b&&isFinite(_0x31dd9b)&&_0x27728f[_0x430395(0x1b4)]({'price':_0x31dd9b,'source':_0x430395(0x16b),'weight':0x2});_0x27728f=_0x27728f[_0x430395(0x1c6)](function(_0xe5a4b2){var _0xa48026=_0x430395;return _0xe5a4b2['price']&&isFinite(_0xe5a4b2[_0xa48026(0x175)])&&_0xe5a4b2['price']>0x0;});_0x22e9b5==='long'?_0x27728f=_0x27728f[_0x430395(0x1c6)](function(_0x3cf011){var _0x5032dc=_0x430395;return _0x3cf011[_0x5032dc(0x175)]<=_0x28a2ff+_0x30e57b;}):_0x27728f=_0x27728f['filter'](function(_0xa9ee52){var _0x251f92=_0x430395;return _0xa9ee52[_0x251f92(0x175)]>=_0x28a2ff-_0x30e57b;});_0x27728f[_0x430395(0x1a6)](function(_0x5922dd,_0x22d62c){var _0x227457=_0x430395;return _0x5922dd[_0x227457(0x175)]-_0x22d62c[_0x227457(0x175)];});var _0x17c4ad=0x0;while(_0x17c4ad<_0x27728f['length']){var _0x1aaa0a={'price':_0x27728f[_0x17c4ad]['price'],'sources':[_0x27728f[_0x17c4ad][_0x430395(0x1c1)]],'score':_0x27728f[_0x17c4ad]['weight'],'confirmations':0x1},_0x72876f=_0x17c4ad+0x1;while(_0x72876f<_0x27728f[_0x430395(0x16d)]&&Math['abs'](_0x27728f[_0x72876f][_0x430395(0x175)]-_0x1aaa0a['price'])<=_0x30e57b){_0x1aaa0a[_0x430395(0x175)]=(_0x1aaa0a[_0x430395(0x175)]*_0x1aaa0a[_0x430395(0x178)]+_0x27728f[_0x72876f][_0x430395(0x175)])/(_0x1aaa0a[_0x430395(0x178)]+0x1),_0x1aaa0a[_0x430395(0x1b2)]['push'](_0x27728f[_0x72876f][_0x430395(0x1c1)]),_0x1aaa0a[_0x430395(0x1a4)]+=_0x27728f[_0x72876f]['weight'],_0x1aaa0a[_0x430395(0x178)]++,_0x72876f++;}_0x3bdf1f[_0x430395(0x1b4)](_0x1aaa0a),_0x17c4ad=_0x72876f;}return _0x3bdf1f[_0x430395(0x1a6)](function(_0x4552ca,_0xffe6e3){var _0x4fe8a8=_0x430395;return _0xffe6e3[_0x4fe8a8(0x1a4)]-_0x4552ca[_0x4fe8a8(0x1a4)];}),_0x3bdf1f[_0x430395(0x198)](0x0,0x5);}function findSmartEntry(_0x53c961,_0x15e489,_0x3f3f09,_0x1fbe3b,_0x188834,_0x111b9a,_0x44804c,_0x55d73c){var _0x3f654=a0_0x4579,_0x1d5631={'entry':_0x3f3f09,'entries':[],'quality':_0x3f654(0x16c),'reasons':[],'confluenceScore':0x0};if(!_0x53c961||_0x53c961[_0x3f654(0x16d)]<0x32||!isFinite(_0x3f3f09)||_0x3f3f09<=0x0)return _0x1d5631[_0x3f654(0x1bb)][_0x3f654(0x1b4)]('داده\x20کافی\x20نیست'),_0x1d5631;var _0x3588aa=calcFibonacci(_0x53c961,0x32),_0x22bbc1=_0x15e489?calcFibonacci(_0x15e489,0x1e):null,_0x1d0dc3=detectOrderBlocks(_0x53c961,0x1e),_0x59dd68=detectFVG(_0x53c961,0x14),_0x396934=calcVWAP(_0x53c961,0x18),_0x107d15=findConfluenceZones(_0x3f3f09,_0x1fbe3b,_0x3588aa,_0x1d0dc3,_0x59dd68,_0x396934,_0x188834,_0x111b9a,_0x44804c);if(_0x22bbc1){var _0x312188=findConfluenceZones(_0x3f3f09,_0x1fbe3b,_0x22bbc1,[],[],null,null,null,_0x44804c);for(var _0x1dca51=0x0;_0x1dca51<_0x312188['length'];_0x1dca51++){_0x312188[_0x1dca51][_0x3f654(0x1a4)]+=0x2,_0x312188[_0x1dca51][_0x3f654(0x1b2)]['push'](_0x3f654(0x183)),_0x107d15[_0x3f654(0x1b4)](_0x312188[_0x1dca51]);}_0x107d15[_0x3f654(0x1a6)](function(_0x4a6645,_0x13f0a8){var _0x2f3c43=_0x3f654;return _0x13f0a8[_0x2f3c43(0x1a4)]-_0x4a6645[_0x2f3c43(0x1a4)];});}if(_0x107d15[_0x3f654(0x16d)]===0x0)return _0x1d5631[_0x3f654(0x1ad)]=_0x1fbe3b===_0x3f654(0x1b5)?Math[_0x3f654(0x1ba)](_0x3f3f09,_0x188834):Math[_0x3f654(0x17d)](_0x3f3f09,_0x188834),_0x1d5631['reasons']['push']('ورود\x20در\x20EMA21'),_0x1d5631[_0x3f654(0x1aa)]=_0x3f654(0x16c),_0x1d5631[_0x3f654(0x19f)]=calculateSmartScaling(_0x1d5631[_0x3f654(0x1ad)],_0x1fbe3b,_0x44804c,_0x55d73c),_0x1d5631;var _0x34cd5a=_0x107d15[0x0];_0x1d5631[_0x3f654(0x1ad)]=_0x34cd5a[_0x3f654(0x175)],_0x1d5631[_0x3f654(0x1a9)]=_0x34cd5a[_0x3f654(0x1a4)],_0x1d5631[_0x3f654(0x1bb)]=_0x34cd5a[_0x3f654(0x1b2)];if(_0x34cd5a[_0x3f654(0x178)]>=0x3||_0x34cd5a['score']>=0x5)_0x1d5631[_0x3f654(0x1aa)]=_0x3f654(0x16a);else _0x34cd5a[_0x3f654(0x178)]>=0x2||_0x34cd5a['score']>=0x3?_0x1d5631[_0x3f654(0x1aa)]=_0x3f654(0x16c):_0x1d5631[_0x3f654(0x1aa)]=_0x3f654(0x196);return _0x1d5631['entries']=calculateSmartScaling(_0x1d5631[_0x3f654(0x1ad)],_0x1fbe3b,_0x44804c,_0x55d73c,_0x107d15),_0x1d5631;}function a0_0x4579(_0x39b65f,_0x1a6316){_0x39b65f=_0x39b65f-0x16a;var _0x15bed8=a0_0x15be();var _0x45797f=_0x15bed8[_0x39b65f];return _0x45797f;}function calculateSmartScaling(_0xa4223e,_0x2f9c8a,_0x3d32bd,_0x51c436,_0x56398d){var _0x322418=a0_0x4579,_0x16dda0=[];if(!isFinite(_0xa4223e)||_0xa4223e<=0x0||!isFinite(_0x3d32bd)||_0x3d32bd<=0x0)return[{'price':_0xa4223e,'percent':0x64,'reason':_0x322418(0x1b3)}];_0x51c436=_0x51c436||0x3e8;if(_0x51c436<0x1f4)_0x16dda0['push']({'price':_0xa4223e,'percent':0x64,'reason':_0x322418(0x17b)});else{if(_0x51c436<0x7d0){_0x16dda0[_0x322418(0x1b4)]({'price':_0xa4223e,'percent':0x3c,'reason':_0x322418(0x192)});var _0x33f093=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.3:_0xa4223e+_0x3d32bd*0.3;_0x16dda0['push']({'price':_0x33f093,'percent':0x28,'reason':_0x322418(0x19e)});}else{if(_0x51c436<0x2710){_0x16dda0['push']({'price':_0xa4223e,'percent':0x32,'reason':_0x322418(0x192)});var _0x33f093=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.25:_0xa4223e+_0x3d32bd*0.25;_0x16dda0[_0x322418(0x1b4)]({'price':_0x33f093,'percent':0x1e,'reason':'ورود\x20دوم'});var _0x44cb25;_0x56398d&&_0x56398d[_0x322418(0x16d)]>0x1?_0x44cb25=_0x56398d[0x1]['price']:_0x44cb25=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.5:_0xa4223e+_0x3d32bd*0.5,_0x16dda0['push']({'price':_0x44cb25,'percent':0x14,'reason':_0x322418(0x18f)});}else{_0x16dda0[_0x322418(0x1b4)]({'price':_0xa4223e,'percent':0x28,'reason':_0x322418(0x192)});var _0x33f093=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.2:_0xa4223e+_0x3d32bd*0.2;_0x16dda0['push']({'price':_0x33f093,'percent':0x19,'reason':'ورود\x20دوم'});var _0x44cb25=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.4:_0xa4223e+_0x3d32bd*0.4;_0x16dda0[_0x322418(0x1b4)]({'price':_0x44cb25,'percent':0x14,'reason':_0x322418(0x170)});var _0x2f2311=_0x2f9c8a===_0x322418(0x1b5)?_0xa4223e-_0x3d32bd*0.6:_0xa4223e+_0x3d32bd*0.6;_0x16dda0[_0x322418(0x1b4)]({'price':_0x2f2311,'percent':0xf,'reason':_0x322418(0x16e)});}}}return _0x16dda0;}function analyzeTF(_0x47a764,_0x5981a6){var _0x2e9115=a0_0x4579;if(!_0x47a764||!Array[_0x2e9115(0x174)](_0x47a764)||_0x47a764[_0x2e9115(0x16d)]<0x32)return{'signal':_0x2e9115(0x180),'score':0x0,'rsi':0x32,'ema21':_0x5981a6,'ema50':_0x5981a6,'trend':_0x2e9115(0x180)};if(!_0x5981a6||!isFinite(_0x5981a6)||_0x5981a6<=0x0)return{'signal':_0x2e9115(0x180),'score':0x0,'rsi':0x32,'ema21':0x0,'ema50':0x0,'trend':_0x2e9115(0x180)};var _0x42de7b=_0x47a764['map'](function(_0x1a5d8a){return _0x1a5d8a['c'];})['filter'](function(_0x1404db){var _0x2dc3b1=_0x2e9115;return typeof _0x1404db===_0x2dc3b1(0x179)&&isFinite(_0x1404db)&&_0x1404db>0x0;});if(_0x42de7b[_0x2e9115(0x16d)]<0x32)return{'signal':_0x2e9115(0x180),'score':0x0,'rsi':0x32,'ema21':_0x5981a6,'ema50':_0x5981a6,'trend':_0x2e9115(0x180)};var _0x31110d=calcRSI(_0x42de7b,0xe),_0x4255b=calcEMA(_0x42de7b,0x15),_0x10ba28=calcEMA(_0x42de7b,0x32),_0x368825=calcMACD(_0x42de7b),_0x343e2e=calcBB(_0x42de7b,0x14,0x2),_0x7821f3=calcADX(_0x47a764,0xe);if(!isFinite(_0x31110d))_0x31110d=0x32;if(!isFinite(_0x4255b)||_0x4255b<=0x0)_0x4255b=_0x5981a6;if(!isFinite(_0x10ba28)||_0x10ba28<=0x0)_0x10ba28=_0x5981a6;if(!_0x368825||!isFinite(_0x368825[_0x2e9115(0x187)]))_0x368825={'histogram':0x0,'line':0x0,'signal':0x0};(!_0x343e2e||!isFinite(_0x343e2e[_0x2e9115(0x18b)])||!isFinite(_0x343e2e[_0x2e9115(0x19c)]))&&(_0x343e2e={'upper':_0x5981a6*1.02,'lower':_0x5981a6*0.98,'middle':_0x5981a6});if(!_0x7821f3||!isFinite(_0x7821f3[_0x2e9115(0x1c8)]))_0x7821f3={'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0x2e9115(0x180)};var _0x175a78=_0x47a764[_0x47a764[_0x2e9115(0x16d)]-0x1]?_0x47a764[_0x47a764[_0x2e9115(0x16d)]-0x1]['v']:0x0,_0x1b6708=analyzeVolume(_0x47a764,_0x175a78),_0x2eceed=detectCandlestickPatterns(_0x47a764),_0x1b6761=detectMarketRegime(_0x47a764,_0x5981a6),_0x130206=[];for(var _0x18b342=0x0;_0x18b342<_0x42de7b[_0x2e9115(0x16d)];_0x18b342++){if(_0x18b342>=0xe){var _0x48a9ff=_0x42de7b[_0x2e9115(0x198)](0x0,_0x18b342+0x1);_0x130206['push'](calcRSI(_0x48a9ff,0xe));}else _0x130206['push'](0x32);}var _0x52fda1=detectDivergence(_0x47a764,_0x130206,'RSI'),_0x562948=_0x2e9115(0x180);if(_0x5981a6>_0x4255b&&_0x4255b>_0x10ba28)_0x562948='up';else{if(_0x5981a6<_0x4255b&&_0x4255b<_0x10ba28)_0x562948=_0x2e9115(0x19a);}var _0x2f91e0=0x0,_0x430423=0x0;if(_0x31110d<=0x1e)_0x2f91e0+=0x3;else{if(_0x31110d<=0x28)_0x2f91e0+=0x1;else{if(_0x31110d>=0x46)_0x430423+=0x3;else{if(_0x31110d>=0x3c)_0x430423+=0x1;}}}if(_0x562948==='up')_0x2f91e0+=0x2;else{if(_0x562948===_0x2e9115(0x19a))_0x430423+=0x2;}if(_0x368825[_0x2e9115(0x187)]>0x0)_0x2f91e0+=0x2;else{if(_0x368825[_0x2e9115(0x187)]<0x0)_0x430423+=0x2;}var _0x10b315=(_0x5981a6-_0x343e2e['lower'])/(_0x343e2e[_0x2e9115(0x18b)]-_0x343e2e[_0x2e9115(0x19c)]);if(_0x343e2e[_0x2e9115(0x18b)]!==_0x343e2e['lower']&&isFinite(_0x10b315)){if(_0x10b315<=0.15)_0x2f91e0+=0x2;else{if(_0x10b315>=0.85)_0x430423+=0x2;}}if(_0x7821f3[_0x2e9115(0x1c8)]>=0x19){if(_0x7821f3[_0x2e9115(0x17f)]===_0x2e9115(0x181))_0x2f91e0+=0x2;else{if(_0x7821f3['trend']===_0x2e9115(0x18d))_0x430423+=0x2;}}else _0x7821f3[_0x2e9115(0x1c8)]<0x14&&(_0x2f91e0=Math[_0x2e9115(0x17d)](0x0,_0x2f91e0-0x1),_0x430423=Math['max'](0x0,_0x430423-0x1));if(_0x1b6708[_0x2e9115(0x184)]>0x0){if(_0x2f91e0>_0x430423)_0x2f91e0+=_0x1b6708['strength'];else{if(_0x430423>_0x2f91e0)_0x430423+=_0x1b6708[_0x2e9115(0x184)];}}else _0x1b6708[_0x2e9115(0x184)]<0x0&&(_0x2f91e0=Math['max'](0x0,_0x2f91e0-0x1),_0x430423=Math[_0x2e9115(0x17d)](0x0,_0x430423-0x1));if(_0x52fda1[_0x2e9115(0x1bc)]==='bullish')_0x2f91e0+=Math[_0x2e9115(0x1ba)](0x2,_0x52fda1[_0x2e9115(0x184)]);else _0x52fda1[_0x2e9115(0x1bc)]==='bearish'&&(_0x430423+=Math[_0x2e9115(0x1ba)](0x2,_0x52fda1[_0x2e9115(0x184)]));if(_0x2eceed[_0x2e9115(0x1b7)]>0x0)_0x2f91e0+=Math['min'](0x2,_0x2eceed[_0x2e9115(0x1b7)]);if(_0x2eceed[_0x2e9115(0x1ac)]>0x0)_0x430423+=Math[_0x2e9115(0x1ba)](0x2,_0x2eceed[_0x2e9115(0x1ac)]);var _0x360b02=_0x2e9115(0x180),_0x55ace9=0x0;if(_0x2f91e0>=0x5&&_0x2f91e0>_0x430423+0x3)_0x360b02=_0x2e9115(0x1b5),_0x55ace9=_0x2f91e0;else _0x430423>=0x5&&_0x430423>_0x2f91e0+0x3&&(_0x360b02=_0x2e9115(0x18e),_0x55ace9=_0x430423);return{'signal':_0x360b02,'score':_0x55ace9,'rsi':_0x31110d,'ema21':_0x4255b,'ema50':_0x10ba28,'trend':_0x562948,'bb':_0x343e2e,'macd':_0x368825,'adx':_0x7821f3,'volume':_0x1b6708,'rsiDivergence':_0x52fda1,'patterns':_0x2eceed,'marketRegime':_0x1b6761};}function getLeverage(_0x28cbc6,_0xd00af3){var _0x1407ef=a0_0x4579;if(!_0x28cbc6||!_0xd00af3||_0x28cbc6===_0xd00af3)return 0x3;var _0x5c0fe1=Math[_0x1407ef(0x1af)](_0x28cbc6-_0xd00af3)/_0x28cbc6*0x64;if(_0x5c0fe1>=0x5)return 0x2;if(_0x5c0fe1>=0x3)return 0x3;if(_0x5c0fe1>=0x2)return 0x4;return 0x5;}typeof window!==a0_0x5e4e7a(0x17c)&&(window['TradingCore']={'calcRSI':calcRSI,'calcEMA':calcEMA,'calcMACD':calcMACD,'calcBB':calcBB,'calcATR':calcATR,'calcADX':calcADX,'analyzeVolume':analyzeVolume,'detectDivergence':detectDivergence,'detectCandlestickPatterns':detectCandlestickPatterns,'detectMarketRegime':detectMarketRegime,'findSmartEntry':findSmartEntry,'calculateSmartScaling':calculateSmartScaling,'analyzeTF':analyzeTF,'getLeverage':getLeverage,'calcFibonacci':calcFibonacci,'detectOrderBlocks':detectOrderBlocks,'detectFVG':detectFVG,'calcVWAP':calcVWAP});