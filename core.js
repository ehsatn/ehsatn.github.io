var a0_0x2f2757=a0_0x233c;(function(_0x43c8e2,_0x179a70){var _0x19c628=a0_0x233c,_0x2930f3=_0x43c8e2();while(!![]){try{var _0x4658ee=parseInt(_0x19c628(0x8c))/0x1*(parseInt(_0x19c628(0xcb))/0x2)+parseInt(_0x19c628(0x7a))/0x3+parseInt(_0x19c628(0xa3))/0x4*(-parseInt(_0x19c628(0x87))/0x5)+parseInt(_0x19c628(0xac))/0x6*(-parseInt(_0x19c628(0xca))/0x7)+-parseInt(_0x19c628(0x7e))/0x8*(parseInt(_0x19c628(0xd6))/0x9)+parseInt(_0x19c628(0x85))/0xa*(-parseInt(_0x19c628(0xd9))/0xb)+parseInt(_0x19c628(0x7f))/0xc;if(_0x4658ee===_0x179a70)break;else _0x2930f3['push'](_0x2930f3['shift']());}catch(_0x17f126){_0x2930f3['push'](_0x2930f3['shift']());}}}(a0_0x30a4,0xe2000));function calcRSI(_0x47ed9e,_0x95bcf1){var _0x2799b0=a0_0x233c;if(!_0x47ed9e||_0x47ed9e[_0x2799b0(0xc5)]<_0x95bcf1+0x1)return 0x32;_0x95bcf1=_0x95bcf1||0xe;var _0x4ca5b0=0x0,_0x4796aa=0x0;for(var _0x58ea00=0x1;_0x58ea00<=_0x95bcf1;_0x58ea00++){var _0xe111e2=_0x47ed9e[_0x58ea00]-_0x47ed9e[_0x58ea00-0x1];if(_0xe111e2>0x0)_0x4ca5b0+=_0xe111e2;else _0x4796aa-=_0xe111e2;}var _0x596a7e=_0x4ca5b0/_0x95bcf1,_0x1ce1b3=_0x4796aa/_0x95bcf1;for(var _0x322676=_0x95bcf1+0x1;_0x322676<_0x47ed9e[_0x2799b0(0xc5)];_0x322676++){var _0xe111e2=_0x47ed9e[_0x322676]-_0x47ed9e[_0x322676-0x1];_0xe111e2>0x0?(_0x596a7e=(_0x596a7e*(_0x95bcf1-0x1)+_0xe111e2)/_0x95bcf1,_0x1ce1b3=_0x1ce1b3*(_0x95bcf1-0x1)/_0x95bcf1):(_0x596a7e=_0x596a7e*(_0x95bcf1-0x1)/_0x95bcf1,_0x1ce1b3=(_0x1ce1b3*(_0x95bcf1-0x1)-_0xe111e2)/_0x95bcf1);}if(_0x1ce1b3===0x0)return 0x64;var _0x3b9ed4=_0x596a7e/_0x1ce1b3;return 0x64-0x64/(0x1+_0x3b9ed4);}function calcEMA(_0x4c4701,_0x69b7e){var _0x13ff52=a0_0x233c;if(!_0x4c4701||_0x4c4701[_0x13ff52(0xc5)]<_0x69b7e)return _0x4c4701?_0x4c4701[_0x4c4701[_0x13ff52(0xc5)]-0x1]:0x0;var _0x7100bf=0x2/(_0x69b7e+0x1),_0x377af6=_0x4c4701[_0x13ff52(0xba)](0x0,_0x69b7e)['reduce'](function(_0x5afc11,_0x29c6b8){return _0x5afc11+_0x29c6b8;},0x0)/_0x69b7e;for(var _0x51ed98=_0x69b7e;_0x51ed98<_0x4c4701[_0x13ff52(0xc5)];_0x51ed98++){_0x377af6=(_0x4c4701[_0x51ed98]-_0x377af6)*_0x7100bf+_0x377af6;}return _0x377af6;}function calcMACD(_0x5d4307){var _0x4ceec6=a0_0x233c;if(!_0x5d4307||_0x5d4307[_0x4ceec6(0xc5)]<0x1a)return{'line':0x0,'signal':0x0,'histogram':0x0};var _0xfbd9a7=0x2/0xd,_0x5c8b26=0x2/0x1b,_0x475413=0x2/0xa,_0x3c241a=_0x5d4307[_0x4ceec6(0xba)](0x0,0xc)[_0x4ceec6(0x83)](function(_0x37bcb4,_0x2574c8){return _0x37bcb4+_0x2574c8;},0x0)/0xc;for(var _0x2aa7e2=0xc;_0x2aa7e2<0x1a;_0x2aa7e2++){_0x3c241a=(_0x5d4307[_0x2aa7e2]-_0x3c241a)*_0xfbd9a7+_0x3c241a;}var _0x2ae7e0=_0x5d4307['slice'](0x0,0x1a)[_0x4ceec6(0x83)](function(_0x1fdeb1,_0x1abcc5){return _0x1fdeb1+_0x1abcc5;},0x0)/0x1a,_0x43cd19=[];for(var _0x148cc1=0x1a;_0x148cc1<_0x5d4307[_0x4ceec6(0xc5)];_0x148cc1++){_0x3c241a=(_0x5d4307[_0x148cc1]-_0x3c241a)*_0xfbd9a7+_0x3c241a,_0x2ae7e0=(_0x5d4307[_0x148cc1]-_0x2ae7e0)*_0x5c8b26+_0x2ae7e0,_0x43cd19['push'](_0x3c241a-_0x2ae7e0);}var _0x2a26c7=_0x3c241a-_0x2ae7e0;if(_0x43cd19[_0x4ceec6(0xc5)]<0x9)return{'line':_0x2a26c7,'signal':0x0,'histogram':_0x2a26c7};var _0x584e68=_0x43cd19['slice'](0x0,0x9)[_0x4ceec6(0x83)](function(_0x224fb2,_0x4d5673){return _0x224fb2+_0x4d5673;},0x0)/0x9;for(var _0x5c5ded=0x9;_0x5c5ded<_0x43cd19[_0x4ceec6(0xc5)];_0x5c5ded++){_0x584e68=(_0x43cd19[_0x5c5ded]-_0x584e68)*_0x475413+_0x584e68;}return{'line':_0x2a26c7,'signal':_0x584e68,'histogram':_0x2a26c7-_0x584e68};}function calcBB(_0x2aba5f,_0x588708,_0x3e4656){var _0x84fe66=a0_0x233c;if(!_0x2aba5f||_0x2aba5f[_0x84fe66(0xc5)]<_0x588708){var _0x4d39f3=_0x2aba5f?_0x2aba5f[_0x2aba5f[_0x84fe66(0xc5)]-0x1]:0x0;return{'upper':_0x4d39f3*1.02,'middle':_0x4d39f3,'lower':_0x4d39f3*0.98};}_0x588708=_0x588708||0x14,_0x3e4656=_0x3e4656||0x2;var _0x3e775e=_0x2aba5f['slice'](-_0x588708),_0x220ede=_0x3e775e[_0x84fe66(0x83)](function(_0xf984ac,_0x4e54d1){return _0xf984ac+_0x4e54d1;},0x0)/_0x588708,_0x24b035=_0x3e775e['map'](function(_0x3833de){var _0x2c0ce4=_0x84fe66;return Math[_0x2c0ce4(0x8b)](_0x3833de-_0x220ede,0x2);}),_0x535957=_0x24b035[_0x84fe66(0x83)](function(_0x450efa,_0x10c5bd){return _0x450efa+_0x10c5bd;},0x0)/_0x588708,_0x174f32=Math[_0x84fe66(0xd3)](_0x535957);return{'upper':_0x220ede+_0x174f32*_0x3e4656,'middle':_0x220ede,'lower':_0x220ede-_0x174f32*_0x3e4656};}function calcATR(_0x82bc2e,_0x522eab,_0x4c3701){var _0xc4b65d=a0_0x233c;if(!_0x82bc2e||_0x82bc2e[_0xc4b65d(0xc5)]<_0x522eab+0x1)return _0x4c3701?_0x4c3701*0.02:0x0;var _0xde0cd4=[];for(var _0x37d371=0x1;_0x37d371<_0x82bc2e[_0xc4b65d(0xc5)];_0x37d371++){var _0x3a6e37=_0x82bc2e[_0x37d371]['h']||0x0,_0x584f7f=_0x82bc2e[_0x37d371]['l']||0x0,_0x39312c=_0x82bc2e[_0x37d371-0x1]['c']||0x0;if(!isFinite(_0x3a6e37)||!isFinite(_0x584f7f)||!isFinite(_0x39312c))continue;var _0x4152a7=Math[_0xc4b65d(0xcc)](_0x3a6e37-_0x584f7f,Math['abs'](_0x3a6e37-_0x39312c),Math[_0xc4b65d(0xb2)](_0x584f7f-_0x39312c));isFinite(_0x4152a7)&&_0x4152a7>0x0&&_0xde0cd4[_0xc4b65d(0xbe)](_0x4152a7);}if(_0xde0cd4[_0xc4b65d(0xc5)]<_0x522eab)return _0x4c3701?_0x4c3701*0.02:0x0;var _0x2aa96c=_0xde0cd4[_0xc4b65d(0xba)](0x0,_0x522eab)['reduce'](function(_0x1e6c2d,_0x37b9b3){return _0x1e6c2d+_0x37b9b3;},0x0)/_0x522eab;for(var _0x10cb11=_0x522eab;_0x10cb11<_0xde0cd4[_0xc4b65d(0xc5)];_0x10cb11++){_0x2aa96c=(_0x2aa96c*(_0x522eab-0x1)+_0xde0cd4[_0x10cb11])/_0x522eab;}return isFinite(_0x2aa96c)?_0x2aa96c:_0x4c3701?_0x4c3701*0.02:0x0;}function calcADX(_0x56f6cf,_0xa39cd8){var _0x2d1153=a0_0x233c;if(!_0x56f6cf||!Array[_0x2d1153(0xdb)](_0x56f6cf)||_0x56f6cf[_0x2d1153(0xc5)]<_0xa39cd8*0x2)return{'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0x2d1153(0xcd)};_0xa39cd8=_0xa39cd8||0xe;var _0x17d345={'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0x2d1153(0xcd)};try{var _0x6da2df=[],_0x3b6403=[],_0x2d5d43=[];for(var _0x2a0714=0x1;_0x2a0714<_0x56f6cf[_0x2d1153(0xc5)];_0x2a0714++){var _0x4ae2d8=_0x56f6cf[_0x2a0714-0x1]['c']||0x0,_0x5c33ae=_0x56f6cf[_0x2a0714]['h']||0x0,_0x378be4=_0x56f6cf[_0x2a0714]['l']||0x0,_0x472b1b=_0x56f6cf[_0x2a0714-0x1]['h']||_0x5c33ae,_0x2bc557=_0x56f6cf[_0x2a0714-0x1]['l']||_0x378be4;if(!isFinite(_0x4ae2d8)||!isFinite(_0x5c33ae)||!isFinite(_0x378be4))continue;var _0x3d55b3=Math[_0x2d1153(0xcc)](_0x5c33ae-_0x378be4,Math[_0x2d1153(0xb2)](_0x5c33ae-_0x4ae2d8),Math[_0x2d1153(0xb2)](_0x378be4-_0x4ae2d8));_0x6da2df['push'](isFinite(_0x3d55b3)&&_0x3d55b3>0x0?_0x3d55b3:0x0);var _0x3df0b7=_0x5c33ae-_0x472b1b,_0x2cf801=_0x2bc557-_0x378be4;if(_0x3df0b7>_0x2cf801&&_0x3df0b7>0x0)_0x3b6403[_0x2d1153(0xbe)](_0x3df0b7),_0x2d5d43[_0x2d1153(0xbe)](0x0);else _0x2cf801>_0x3df0b7&&_0x2cf801>0x0?(_0x3b6403[_0x2d1153(0xbe)](0x0),_0x2d5d43[_0x2d1153(0xbe)](_0x2cf801)):(_0x3b6403[_0x2d1153(0xbe)](0x0),_0x2d5d43['push'](0x0));}if(_0x6da2df[_0x2d1153(0xc5)]<_0xa39cd8*0x2||_0x3b6403[_0x2d1153(0xc5)]<_0xa39cd8*0x2)return _0x17d345;var _0x67bf59=0x0,_0x11523f=0x0,_0x4b0a74=0x0;for(var _0x2052ab=0x0;_0x2052ab<_0xa39cd8;_0x2052ab++){_0x67bf59+=_0x6da2df[_0x2052ab],_0x11523f+=_0x3b6403[_0x2052ab],_0x4b0a74+=_0x2d5d43[_0x2052ab];}var _0x3a69d0=[];for(var _0x19ceb=_0xa39cd8;_0x19ceb<_0x6da2df[_0x2d1153(0xc5)];_0x19ceb++){_0x67bf59=_0x67bf59-_0x67bf59/_0xa39cd8+_0x6da2df[_0x19ceb],_0x11523f=_0x11523f-_0x11523f/_0xa39cd8+_0x3b6403[_0x19ceb],_0x4b0a74=_0x4b0a74-_0x4b0a74/_0xa39cd8+_0x2d5d43[_0x19ceb];var _0x5717cf=_0x67bf59>0x0?_0x11523f/_0x67bf59*0x64:0x0,_0x426fa6=_0x67bf59>0x0?_0x4b0a74/_0x67bf59*0x64:0x0,_0xf9d370=_0x5717cf+_0x426fa6,_0x4f05ad=_0xf9d370>0x0?Math[_0x2d1153(0xb2)](_0x5717cf-_0x426fa6)/_0xf9d370*0x64:0x0;_0x3a69d0[_0x2d1153(0xbe)]({'dx':_0x4f05ad,'diPlus':_0x5717cf,'diMinus':_0x426fa6});}if(_0x3a69d0[_0x2d1153(0xc5)]<_0xa39cd8)return _0x17d345;var _0x3160dd=0x0;for(var _0x1b5b28=0x0;_0x1b5b28<_0xa39cd8;_0x1b5b28++){_0x3160dd+=_0x3a69d0[_0x1b5b28]['dx'];}_0x3160dd/=_0xa39cd8;for(var _0x1558a5=_0xa39cd8;_0x1558a5<_0x3a69d0[_0x2d1153(0xc5)];_0x1558a5++){_0x3160dd=(_0x3160dd*(_0xa39cd8-0x1)+_0x3a69d0[_0x1558a5]['dx'])/_0xa39cd8;}var _0x4fa79d=_0x3a69d0[_0x3a69d0[_0x2d1153(0xc5)]-0x1];_0x17d345[_0x2d1153(0xaf)]=isFinite(_0x3160dd)?Math['round'](_0x3160dd*0xa)/0xa:0x19,_0x17d345[_0x2d1153(0xb4)]=isFinite(_0x4fa79d[_0x2d1153(0xb4)])?Math[_0x2d1153(0x9f)](_0x4fa79d[_0x2d1153(0xb4)]*0xa)/0xa:0x0,_0x17d345['diMinus']=isFinite(_0x4fa79d[_0x2d1153(0xd4)])?Math[_0x2d1153(0x9f)](_0x4fa79d[_0x2d1153(0xd4)]*0xa)/0xa:0x0;if(_0x17d345[_0x2d1153(0xaf)]>=0x19&&_0x17d345[_0x2d1153(0xb4)]>_0x17d345[_0x2d1153(0xd4)])_0x17d345['trend']=_0x2d1153(0xdd);else{if(_0x17d345[_0x2d1153(0xaf)]>=0x19&&_0x17d345['diMinus']>_0x17d345['diPlus'])_0x17d345[_0x2d1153(0x91)]=_0x2d1153(0x98);else{if(_0x17d345[_0x2d1153(0xb4)]>_0x17d345[_0x2d1153(0xd4)])_0x17d345[_0x2d1153(0x91)]='up';else _0x17d345['diMinus']>_0x17d345[_0x2d1153(0xb4)]&&(_0x17d345[_0x2d1153(0x91)]=_0x2d1153(0xb8));}}_0x17d345[_0x2d1153(0xaf)]=Math[_0x2d1153(0xcc)](0x0,Math[_0x2d1153(0xc4)](0x64,_0x17d345[_0x2d1153(0xaf)])),_0x17d345[_0x2d1153(0xb4)]=Math['max'](0x0,Math[_0x2d1153(0xc4)](0x64,_0x17d345[_0x2d1153(0xb4)])),_0x17d345[_0x2d1153(0xd4)]=Math['max'](0x0,Math[_0x2d1153(0xc4)](0x64,_0x17d345[_0x2d1153(0xd4)]));}catch(_0x41c41b){console[_0x2d1153(0x9b)]('⚠️\x20ADX\x20calc\x20error:',_0x41c41b['message']);}return _0x17d345;}function analyzeVolume(_0x549d6c,_0x407c50){var _0x450c0e=a0_0x233c;if(!_0x549d6c||_0x549d6c['length']<0x14||!_0x407c50)return{'strength':0x0,'signal':_0x450c0e(0xcd),'avgVolume':0x0};var _0x29deae=_0x549d6c['slice'](-0x14)[_0x450c0e(0x9d)](function(_0x5c6733){return _0x5c6733['v']||0x0;}),_0x163d9e=_0x29deae['reduce'](function(_0x55570f,_0x5477bb){return _0x55570f+_0x5477bb;},0x0)/_0x29deae[_0x450c0e(0xc5)];if(_0x163d9e===0x0)return{'strength':0x0,'signal':_0x450c0e(0xcd),'avgVolume':0x0};var _0x11dd61=_0x407c50/_0x163d9e,_0x5a1331=0x0,_0xddb039=_0x450c0e(0xcd);if(_0x11dd61>=0x2)_0x5a1331=0x2,_0xddb039=_0x450c0e(0xd1);else{if(_0x11dd61>=1.5)_0x5a1331=0x1,_0xddb039=_0x450c0e(0x89);else _0x11dd61<0.5&&(_0x5a1331=-0x1,_0xddb039=_0x450c0e(0xa2));}return{'strength':_0x5a1331,'signal':_0xddb039,'avgVolume':_0x163d9e,'ratio':_0x11dd61};}function detectDivergence(_0x4c708d,_0x4fa586,_0x5c6c09){var _0x1f93b4=a0_0x233c;if(!_0x4c708d||!Array[_0x1f93b4(0xdb)](_0x4c708d)||_0x4c708d[_0x1f93b4(0xc5)]<0x1e)return{'type':_0x1f93b4(0x95),'strength':0x0,'hidden':![]};if(!_0x4fa586||!Array['isArray'](_0x4fa586)||_0x4fa586[_0x1f93b4(0xc5)]<0x1e)return{'type':_0x1f93b4(0x95),'strength':0x0,'hidden':![]};var _0x3cf013=Math[_0x1f93b4(0xc4)](0x32,_0x4c708d['length'],_0x4fa586[_0x1f93b4(0xc5)]),_0x31d9c3=_0x4c708d['length']-_0x3cf013,_0xf040b6=_0x4fa586['length']-_0x3cf013,_0x212a10=[];for(var _0x20cc68=0x0;_0x20cc68<_0x3cf013;_0x20cc68++){var _0x51b64c=_0x4c708d[_0x31d9c3+_0x20cc68],_0x1f0d52=_0x4fa586[_0xf040b6+_0x20cc68];_0x51b64c&&_0x51b64c['c']&&isFinite(_0x51b64c['c'])&&_0x1f0d52!==undefined&&isFinite(_0x1f0d52)&&_0x212a10[_0x1f93b4(0xbe)]({'relativeIndex':_0x20cc68,'price':_0x51b64c['c'],'indicator':_0x1f0d52});}if(_0x212a10[_0x1f93b4(0xc5)]<0x14)return{'type':_0x1f93b4(0x95),'strength':0x0,'hidden':![]};var _0x8ae5c=[],_0x39d921=[];for(var _0x37fe2f=0x2;_0x37fe2f<_0x212a10['length']-0x2;_0x37fe2f++){var _0x5f524f=_0x212a10[_0x37fe2f],_0x9ebf2e=_0x5f524f[_0x1f93b4(0x8f)]>_0x212a10[_0x37fe2f-0x1]['price']&&_0x5f524f['price']>_0x212a10[_0x37fe2f-0x2]['price']&&_0x5f524f[_0x1f93b4(0x8f)]>_0x212a10[_0x37fe2f+0x1][_0x1f93b4(0x8f)]&&_0x5f524f[_0x1f93b4(0x8f)]>_0x212a10[_0x37fe2f+0x2][_0x1f93b4(0x8f)],_0x4e10f5=_0x5f524f[_0x1f93b4(0x8f)]<_0x212a10[_0x37fe2f-0x1][_0x1f93b4(0x8f)]&&_0x5f524f['price']<_0x212a10[_0x37fe2f-0x2][_0x1f93b4(0x8f)]&&_0x5f524f['price']<_0x212a10[_0x37fe2f+0x1][_0x1f93b4(0x8f)]&&_0x5f524f[_0x1f93b4(0x8f)]<_0x212a10[_0x37fe2f+0x2][_0x1f93b4(0x8f)];_0x9ebf2e&&_0x8ae5c[_0x1f93b4(0xbe)]({'dataIndex':_0x37fe2f,'price':_0x5f524f[_0x1f93b4(0x8f)],'indicator':_0x5f524f[_0x1f93b4(0x9e)]}),_0x4e10f5&&_0x39d921[_0x1f93b4(0xbe)]({'dataIndex':_0x37fe2f,'price':_0x5f524f['price'],'indicator':_0x5f524f['indicator']});}if(_0x39d921[_0x1f93b4(0xc5)]>=0x2)for(var _0x4a614b=_0x39d921['length']-0x1;_0x4a614b>=0x1;_0x4a614b--){var _0x13c3f5=_0x39d921[_0x4a614b],_0xd1d61c=_0x39d921[_0x4a614b-0x1];if(_0x13c3f5[_0x1f93b4(0x8f)]<_0xd1d61c[_0x1f93b4(0x8f)]&&_0x13c3f5[_0x1f93b4(0x9e)]>_0xd1d61c['indicator']){var _0x5ed0cb=Math[_0x1f93b4(0xc4)](0x3,Math['abs']((_0x13c3f5[_0x1f93b4(0x8f)]-_0xd1d61c[_0x1f93b4(0x8f)])/_0xd1d61c[_0x1f93b4(0x8f)]*0x64)+0x1);return{'type':_0x1f93b4(0xb1),'strength':Math[_0x1f93b4(0x93)](_0x5ed0cb),'hidden':![]};}if(_0x13c3f5[_0x1f93b4(0x8f)]>_0xd1d61c[_0x1f93b4(0x8f)]&&_0x13c3f5[_0x1f93b4(0x9e)]<_0xd1d61c[_0x1f93b4(0x9e)])return{'type':_0x1f93b4(0xb1),'strength':0x1,'hidden':!![]};}if(_0x8ae5c[_0x1f93b4(0xc5)]>=0x2)for(var _0x23d820=_0x8ae5c[_0x1f93b4(0xc5)]-0x1;_0x23d820>=0x1;_0x23d820--){var _0x2f673f=_0x8ae5c[_0x23d820],_0x15e6b9=_0x8ae5c[_0x23d820-0x1];if(_0x2f673f['price']>_0x15e6b9[_0x1f93b4(0x8f)]&&_0x2f673f[_0x1f93b4(0x9e)]<_0x15e6b9['indicator']){var _0x5ed0cb=Math[_0x1f93b4(0xc4)](0x3,Math[_0x1f93b4(0xb2)]((_0x2f673f[_0x1f93b4(0x8f)]-_0x15e6b9['price'])/_0x15e6b9[_0x1f93b4(0x8f)]*0x64)+0x1);return{'type':'bearish','strength':Math[_0x1f93b4(0x93)](_0x5ed0cb),'hidden':![]};}if(_0x2f673f[_0x1f93b4(0x8f)]<_0x15e6b9[_0x1f93b4(0x8f)]&&_0x2f673f[_0x1f93b4(0x9e)]>_0x15e6b9[_0x1f93b4(0x9e)])return{'type':_0x1f93b4(0x84),'strength':0x1,'hidden':!![]};}return{'type':_0x1f93b4(0x95),'strength':0x0,'hidden':![]};}function detectCandlestickPatterns(_0x16eef2){var _0x365eb7=a0_0x233c;if(!_0x16eef2||!Array['isArray'](_0x16eef2)||_0x16eef2[_0x365eb7(0xc5)]<0x3)return{'patterns':[],'bullish':0x0,'bearish':0x0};var _0x2a23da=[],_0x252192=0x0,_0x5430f2=0x0;try{var _0x13d3ae=Math[_0x365eb7(0xc4)](0x3,_0x16eef2[_0x365eb7(0xc5)]);for(var _0xf64c46=_0x16eef2[_0x365eb7(0xc5)]-_0x13d3ae;_0xf64c46<_0x16eef2[_0x365eb7(0xc5)];_0xf64c46++){if(_0xf64c46<0x2)continue;var _0x4bdc25=_0x16eef2[_0xf64c46],_0x2a2045=_0x16eef2[_0xf64c46-0x1],_0x23e691=_0x16eef2[_0xf64c46-0x2];if(!_0x4bdc25||!_0x2a2045||!_0x4bdc25['o']||!_0x4bdc25['c']||!_0x4bdc25['h']||!_0x4bdc25['l'])continue;if(!_0x2a2045['o']||!_0x2a2045['c']||!_0x2a2045['h']||!_0x2a2045['l'])continue;var _0x3f09dd=Math[_0x365eb7(0xb2)](_0x4bdc25['c']-_0x4bdc25['o']),_0x1e7346=_0x4bdc25['h']-_0x4bdc25['l'],_0x2f00d8=Math[_0x365eb7(0xb2)](_0x2a2045['c']-_0x2a2045['o']),_0xfe204a=_0x4bdc25['c']>=_0x4bdc25['o'],_0x3b4272=_0x2a2045['c']>=_0x2a2045['o'];_0x3f09dd<_0x1e7346*0.1&&_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0xa5),'index':_0xf64c46,'bullish':null});if(_0xf64c46===_0x16eef2[_0x365eb7(0xc5)]-0x1){var _0x2a8dd9=Math['min'](_0x4bdc25['o'],_0x4bdc25['c'])-_0x4bdc25['l'],_0x55a9f9=_0x4bdc25['h']-Math['max'](_0x4bdc25['o'],_0x4bdc25['c']);_0x2a8dd9>_0x3f09dd*0x2&&_0x55a9f9<_0x3f09dd*0.3&&_0x1e7346>0x0&&(_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0x88),'index':_0xf64c46,'bullish':!![]}),_0x252192+=0x2),_0x55a9f9>_0x3f09dd*0x2&&_0x2a8dd9<_0x3f09dd*0.3&&_0x1e7346>0x0&&(_0x2a23da['push']({'type':_0x365eb7(0xbb),'index':_0xf64c46,'bullish':![]}),_0x5430f2+=0x2);}_0xf64c46===_0x16eef2[_0x365eb7(0xc5)]-0x1&&(!_0x3b4272&&_0xfe204a&&_0x4bdc25['o']<_0x2a2045['c']&&_0x4bdc25['c']>_0x2a2045['o']&&_0x3f09dd>_0x2f00d8*1.1&&(_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0x80),'index':_0xf64c46,'bullish':!![]}),_0x252192+=0x3),_0x3b4272&&!_0xfe204a&&_0x4bdc25['o']>_0x2a2045['c']&&_0x4bdc25['c']<_0x2a2045['o']&&_0x3f09dd>_0x2f00d8*1.1&&(_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0xdc),'index':_0xf64c46,'bullish':![]}),_0x5430f2+=0x3));if(_0xf64c46>=0x2&&_0xf64c46===_0x16eef2[_0x365eb7(0xc5)]-0x1&&_0x23e691){var _0x54c828=_0x23e691,_0x3be57c=_0x2a2045,_0x4895fe=_0x4bdc25;if(_0x54c828['c']&&_0x54c828['o']&&_0x3be57c['c']&&_0x3be57c['o']&&_0x4895fe['c']&&_0x4895fe['o']){var _0x55f1a2=_0x54c828['c']<_0x54c828['o'],_0x22dd22=Math[_0x365eb7(0xb2)](_0x3be57c['c']-_0x3be57c['o'])<Math[_0x365eb7(0xb2)](_0x54c828['c']-_0x54c828['o'])*0.5,_0x56f538=_0x4895fe['c']>_0x4895fe['o'];_0x55f1a2&&_0x22dd22&&_0x56f538&&_0x4895fe['c']>(_0x54c828['o']+_0x54c828['c'])/0x2&&(_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0xc7),'index':_0xf64c46,'bullish':!![]}),_0x252192+=0x3);var _0x2b5689=_0x54c828['c']>_0x54c828['o'],_0x30ebcf=_0x4895fe['c']<_0x4895fe['o'];_0x2b5689&&_0x22dd22&&_0x30ebcf&&_0x4895fe['c']<(_0x54c828['o']+_0x54c828['c'])/0x2&&(_0x2a23da[_0x365eb7(0xbe)]({'type':_0x365eb7(0x76),'index':_0xf64c46,'bullish':![]}),_0x5430f2+=0x3);}}}}catch(_0x2f483d){console['log']('⚠️\x20Pattern\x20detection\x20error:',_0x2f483d[_0x365eb7(0x8e)]);}return{'patterns':_0x2a23da,'bullish':_0x252192,'bearish':_0x5430f2,'strongest':_0x2a23da[_0x365eb7(0xc5)]>0x0?_0x2a23da[_0x2a23da[_0x365eb7(0xc5)]-0x1]:null};}function detectMarketRegime(_0xc58895,_0x71f59d){var _0xedd1a4=a0_0x233c;if(!_0xc58895||!Array['isArray'](_0xc58895)||_0xc58895[_0xedd1a4(0xc5)]<0x32||!_0x71f59d||!isFinite(_0x71f59d))return{'regime':_0xedd1a4(0x7b),'strength':0x0,'volatility':_0xedd1a4(0xa7)};var _0x249dc0={'regime':_0xedd1a4(0x94),'strength':0x0,'volatility':_0xedd1a4(0xa7)};try{var _0x429f1c=calcATR(_0xc58895,0xe,_0x71f59d),_0x48a8ed=_0x429f1c/_0x71f59d*0x64;if(_0x48a8ed>0x3)_0x249dc0[_0xedd1a4(0xcf)]='high';else _0x48a8ed<0x1&&(_0x249dc0[_0xedd1a4(0xcf)]=_0xedd1a4(0xa8));var _0x3c7ea8=_0xc58895['map'](function(_0x26d096){return _0x26d096['c'];})[_0xedd1a4(0xd7)](function(_0x32be74){var _0xec2bca=_0xedd1a4;return typeof _0x32be74===_0xec2bca(0xb7)&&isFinite(_0x32be74)&&_0x32be74>0x0;});if(_0x3c7ea8['length']<0x32)return _0x249dc0;var _0x41613c=calcEMA(_0x3c7ea8,0x14),_0x51fd3c=calcEMA(_0x3c7ea8,0x32),_0x2e79e1=calcADX(_0xc58895,0xe);if(_0x2e79e1[_0xedd1a4(0xaf)]>=0x19){if(_0x71f59d>_0x41613c&&_0x41613c>_0x51fd3c&&_0x2e79e1[_0xedd1a4(0x91)][_0xedd1a4(0x82)]('up'))_0x249dc0[_0xedd1a4(0xb9)]=_0xedd1a4(0xc2),_0x249dc0[_0xedd1a4(0xce)]=_0x2e79e1[_0xedd1a4(0xaf)];else _0x71f59d<_0x41613c&&_0x41613c<_0x51fd3c&&_0x2e79e1[_0xedd1a4(0x91)][_0xedd1a4(0x82)]('down')&&(_0x249dc0[_0xedd1a4(0xb9)]='trending_down',_0x249dc0[_0xedd1a4(0xce)]=_0x2e79e1[_0xedd1a4(0xaf)]);}else _0x249dc0[_0xedd1a4(0xb9)]=_0xedd1a4(0x94),_0x249dc0[_0xedd1a4(0xce)]=0x64-_0x2e79e1[_0xedd1a4(0xaf)];}catch(_0x4026bc){console[_0xedd1a4(0x9b)](_0xedd1a4(0x9a),_0x4026bc['message']);}return _0x249dc0;}function a0_0x233c(_0xd57cfe,_0x8ff0e9){_0xd57cfe=_0xd57cfe-0x75;var _0x30a41f=a0_0x30a4();var _0x233ccd=_0x30a41f[_0xd57cfe];return _0x233ccd;}function calcFibonacci(_0x1967f6,_0x5c5409){var _0x2e9e2a=a0_0x233c;if(!_0x1967f6||_0x1967f6[_0x2e9e2a(0xc5)]<_0x5c5409)return null;var _0x59c2bc=_0x1967f6[_0x2e9e2a(0xba)](-_0x5c5409),_0x2dddac=-Infinity,_0x30c27f=Infinity,_0xe74f94=0x0,_0x322e1e=0x0;for(var _0x5ec9ab=0x0;_0x5ec9ab<_0x59c2bc[_0x2e9e2a(0xc5)];_0x5ec9ab++){_0x59c2bc[_0x5ec9ab]['h']>_0x2dddac&&(_0x2dddac=_0x59c2bc[_0x5ec9ab]['h'],_0xe74f94=_0x5ec9ab),_0x59c2bc[_0x5ec9ab]['l']<_0x30c27f&&(_0x30c27f=_0x59c2bc[_0x5ec9ab]['l'],_0x322e1e=_0x5ec9ab);}if(_0x2dddac===_0x30c27f||!isFinite(_0x2dddac)||!isFinite(_0x30c27f))return null;var _0x4880a5=_0x2dddac-_0x30c27f,_0x1f55cc=_0x322e1e<_0xe74f94,_0x541f3f={0x0:_0x1f55cc?_0x2dddac:_0x30c27f,0.236:_0x1f55cc?_0x2dddac-_0x4880a5*0.236:_0x30c27f+_0x4880a5*0.236,0.382:_0x1f55cc?_0x2dddac-_0x4880a5*0.382:_0x30c27f+_0x4880a5*0.382,0.5:_0x1f55cc?_0x2dddac-_0x4880a5*0.5:_0x30c27f+_0x4880a5*0.5,0.618:_0x1f55cc?_0x2dddac-_0x4880a5*0.618:_0x30c27f+_0x4880a5*0.618,0.786:_0x1f55cc?_0x2dddac-_0x4880a5*0.786:_0x30c27f+_0x4880a5*0.786,0x1:_0x1f55cc?_0x30c27f:_0x2dddac};return{'high':_0x2dddac,'low':_0x30c27f,'isUptrend':_0x1f55cc,'levels':_0x541f3f};}function detectOrderBlocks(_0x10b235,_0x37837a){var _0x1f8e96=a0_0x233c;if(!_0x10b235||_0x10b235['length']<_0x37837a+0x5)return[];var _0x474f7d=[],_0x38d290=_0x10b235[_0x1f8e96(0xba)](-(_0x37837a+0x5));for(var _0x4bddb1=0x2;_0x4bddb1<_0x38d290[_0x1f8e96(0xc5)]-0x2;_0x4bddb1++){var _0x78006e=_0x38d290[_0x4bddb1],_0x52733b=_0x38d290[_0x4bddb1+0x1],_0x58fde1=_0x38d290[_0x4bddb1+0x2];if(!_0x78006e||!_0x52733b||!_0x58fde1)continue;var _0x2bd74c=Math[_0x1f8e96(0xb2)](_0x78006e['c']-_0x78006e['o']),_0x3e6ed9=Math['abs'](_0x52733b['c']-_0x52733b['o']),_0x176986=Math['abs'](_0x58fde1['c']-_0x58fde1['o']);_0x78006e['c']<_0x78006e['o']&&_0x52733b['c']>_0x52733b['o']&&_0x58fde1['c']>_0x58fde1['o']&&_0x3e6ed9+_0x176986>_0x2bd74c*0x2&&_0x474f7d[_0x1f8e96(0xbe)]({'type':_0x1f8e96(0xb1),'high':_0x78006e['h'],'low':_0x78006e['l'],'strength':Math[_0x1f8e96(0xc4)](0x3,Math[_0x1f8e96(0x93)]((_0x3e6ed9+_0x176986)/_0x2bd74c))}),_0x78006e['c']>_0x78006e['o']&&_0x52733b['c']<_0x52733b['o']&&_0x58fde1['c']<_0x58fde1['o']&&_0x3e6ed9+_0x176986>_0x2bd74c*0x2&&_0x474f7d[_0x1f8e96(0xbe)]({'type':'bearish','high':_0x78006e['h'],'low':_0x78006e['l'],'strength':Math[_0x1f8e96(0xc4)](0x3,Math[_0x1f8e96(0x93)]((_0x3e6ed9+_0x176986)/_0x2bd74c))});}return _0x474f7d[_0x1f8e96(0xba)](-0x3);}function detectFVG(_0x7ed5e4,_0x41674a){var _0x222397=a0_0x233c;if(!_0x7ed5e4||_0x7ed5e4['length']<_0x41674a)return[];var _0x16a73e=[],_0x2773d5=_0x7ed5e4[_0x222397(0xba)](-_0x41674a);for(var _0xe87794=0x2;_0xe87794<_0x2773d5[_0x222397(0xc5)];_0xe87794++){var _0x3ca1cd=_0x2773d5[_0xe87794-0x2],_0x708133=_0x2773d5[_0xe87794];if(!_0x3ca1cd||!_0x708133)continue;_0x708133['l']>_0x3ca1cd['h']&&_0x16a73e['push']({'type':_0x222397(0xb1),'high':_0x708133['l'],'low':_0x3ca1cd['h'],'filled':![]}),_0x708133['h']<_0x3ca1cd['l']&&_0x16a73e[_0x222397(0xbe)]({'type':_0x222397(0x84),'high':_0x3ca1cd['l'],'low':_0x708133['h'],'filled':![]});}return _0x16a73e['slice'](-0x3);}function calcVWAP(_0x380676,_0xef8b6a){var _0x2aae92=a0_0x233c;if(!_0x380676||_0x380676[_0x2aae92(0xc5)]<_0xef8b6a)return null;var _0x3d0068=_0x380676[_0x2aae92(0xba)](-_0xef8b6a),_0x16d24d=0x0,_0x54ced8=0x0;for(var _0x3ceb5c=0x0;_0x3ceb5c<_0x3d0068['length'];_0x3ceb5c++){var _0x3b2750=_0x3d0068[_0x3ceb5c],_0x4089a3=(_0x3b2750['h']+_0x3b2750['l']+_0x3b2750['c'])/0x3,_0x196a99=_0x3b2750['v']||0x1;_0x16d24d+=_0x4089a3*_0x196a99,_0x54ced8+=_0x196a99;}if(_0x54ced8===0x0)return null;var _0x440e2b=_0x16d24d/_0x54ced8,_0xb43d73=0x0;for(var _0x3cff7a=0x0;_0x3cff7a<_0x3d0068['length'];_0x3cff7a++){var _0x5a9a8f=(_0x3d0068[_0x3cff7a]['h']+_0x3d0068[_0x3cff7a]['l']+_0x3d0068[_0x3cff7a]['c'])/0x3;_0xb43d73+=Math[_0x2aae92(0x8b)](_0x5a9a8f-_0x440e2b,0x2);}var _0x5cfb86=Math[_0x2aae92(0xd3)](_0xb43d73/_0x3d0068[_0x2aae92(0xc5)]);return{'vwap':_0x440e2b,'upperBand1':_0x440e2b+_0x5cfb86,'lowerBand1':_0x440e2b-_0x5cfb86,'upperBand2':_0x440e2b+_0x5cfb86*0x2,'lowerBand2':_0x440e2b-_0x5cfb86*0x2};}function findConfluenceZones(_0x5e4269,_0x175481,_0x41b949,_0x264d27,_0x4dee35,_0xbaf237,_0x452cd4,_0x3138b2,_0x1843e8){var _0x250196=a0_0x233c,_0x5ee567=[],_0x1b37b7=_0x1843e8*0.3,_0xae31e4=[];if(_0x41b949&&_0x41b949[_0x250196(0x81)]){var _0x5db539=[0.382,0.5,0.618,0.786];for(var _0x3a3efb=0x0;_0x3a3efb<_0x5db539[_0x250196(0xc5)];_0x3a3efb++){var _0xc5eba7=_0x41b949[_0x250196(0x81)][_0x5db539[_0x3a3efb]];_0xc5eba7&&isFinite(_0xc5eba7)&&_0xae31e4[_0x250196(0xbe)]({'price':_0xc5eba7,'source':_0x250196(0x7d)+(_0x5db539[_0x3a3efb]*0x64)[_0x250196(0xa9)](0x1)+'%','weight':_0x5db539[_0x3a3efb]===0.618?0x2:0x1});}}if(_0x264d27&&_0x264d27[_0x250196(0xc5)]>0x0)for(var _0x200aef=0x0;_0x200aef<_0x264d27[_0x250196(0xc5)];_0x200aef++){var _0x4a49e5=_0x264d27[_0x200aef];if(_0x175481===_0x250196(0x79)&&_0x4a49e5[_0x250196(0xa6)]==='bullish'||_0x175481===_0x250196(0xc0)&&_0x4a49e5[_0x250196(0xa6)]===_0x250196(0x84)){var _0x2b2118=(_0x4a49e5[_0x250196(0x8d)]+_0x4a49e5['low'])/0x2;_0xae31e4['push']({'price':_0x2b2118,'source':'Order\x20Block','weight':_0x4a49e5[_0x250196(0xce)]});}}if(_0x4dee35&&_0x4dee35[_0x250196(0xc5)]>0x0)for(var _0x18d7b7=0x0;_0x18d7b7<_0x4dee35[_0x250196(0xc5)];_0x18d7b7++){var _0x47962a=_0x4dee35[_0x18d7b7];if(_0x175481===_0x250196(0x79)&&_0x47962a[_0x250196(0xa6)]===_0x250196(0xb1)||_0x175481==='short'&&_0x47962a[_0x250196(0xa6)]==='bearish'){var _0x17318e=(_0x47962a['high']+_0x47962a[_0x250196(0xa8)])/0x2;_0xae31e4[_0x250196(0xbe)]({'price':_0x17318e,'source':_0x250196(0xd2),'weight':0x1});}}_0xbaf237&&_0xbaf237['vwap']&&(_0xae31e4[_0x250196(0xbe)]({'price':_0xbaf237[_0x250196(0xda)],'source':_0x250196(0xd5),'weight':0x2}),_0x175481==='long'?_0xae31e4['push']({'price':_0xbaf237[_0x250196(0x86)],'source':_0x250196(0xad),'weight':0x1}):_0xae31e4[_0x250196(0xbe)]({'price':_0xbaf237[_0x250196(0xab)],'source':_0x250196(0xd8),'weight':0x1}));_0x452cd4&&isFinite(_0x452cd4)&&_0xae31e4['push']({'price':_0x452cd4,'source':'EMA21','weight':0x1});_0x3138b2&&isFinite(_0x3138b2)&&_0xae31e4[_0x250196(0xbe)]({'price':_0x3138b2,'source':_0x250196(0xb6),'weight':0x2});_0xae31e4=_0xae31e4[_0x250196(0xd7)](function(_0x4cda12){var _0xe8d5b6=_0x250196;return _0x4cda12[_0xe8d5b6(0x8f)]&&isFinite(_0x4cda12[_0xe8d5b6(0x8f)])&&_0x4cda12[_0xe8d5b6(0x8f)]>0x0;});_0x175481===_0x250196(0x79)?_0xae31e4=_0xae31e4[_0x250196(0xd7)](function(_0x19fe43){var _0x31b714=_0x250196;return _0x19fe43[_0x31b714(0x8f)]<=_0x5e4269+_0x1b37b7;}):_0xae31e4=_0xae31e4[_0x250196(0xd7)](function(_0x27b1da){return _0x27b1da['price']>=_0x5e4269-_0x1b37b7;});_0xae31e4[_0x250196(0xaa)](function(_0x417866,_0x5e6984){var _0x1acd1=_0x250196;return _0x417866[_0x1acd1(0x8f)]-_0x5e6984[_0x1acd1(0x8f)];});var _0x3a3efb=0x0;while(_0x3a3efb<_0xae31e4['length']){var _0xb4250e={'price':_0xae31e4[_0x3a3efb]['price'],'sources':[_0xae31e4[_0x3a3efb]['source']],'score':_0xae31e4[_0x3a3efb][_0x250196(0x78)],'confirmations':0x1},_0x200aef=_0x3a3efb+0x1;while(_0x200aef<_0xae31e4[_0x250196(0xc5)]&&Math[_0x250196(0xb2)](_0xae31e4[_0x200aef][_0x250196(0x8f)]-_0xb4250e[_0x250196(0x8f)])<=_0x1b37b7){_0xb4250e[_0x250196(0x8f)]=(_0xb4250e[_0x250196(0x8f)]*_0xb4250e[_0x250196(0x99)]+_0xae31e4[_0x200aef][_0x250196(0x8f)])/(_0xb4250e[_0x250196(0x99)]+0x1),_0xb4250e['sources'][_0x250196(0xbe)](_0xae31e4[_0x200aef][_0x250196(0xb5)]),_0xb4250e[_0x250196(0x7c)]+=_0xae31e4[_0x200aef][_0x250196(0x78)],_0xb4250e[_0x250196(0x99)]++,_0x200aef++;}_0x5ee567[_0x250196(0xbe)](_0xb4250e),_0x3a3efb=_0x200aef;}return _0x5ee567[_0x250196(0xaa)](function(_0x2995f1,_0x59bba1){var _0xecf81=_0x250196;return _0x59bba1[_0xecf81(0x7c)]-_0x2995f1[_0xecf81(0x7c)];}),_0x5ee567['slice'](0x0,0x5);}function findSmartEntry(_0x224c5e,_0x25ff45,_0x154861,_0x2111ac,_0x1e786e,_0x504f88,_0x2653d5,_0x13bd44){var _0x48932c=a0_0x233c,_0x4e4848={'entry':_0x154861,'entries':[],'quality':_0x48932c(0x96),'reasons':[],'confluenceScore':0x0};if(!_0x224c5e||_0x224c5e[_0x48932c(0xc5)]<0x32||!isFinite(_0x154861)||_0x154861<=0x0)return _0x4e4848['reasons'][_0x48932c(0xbe)](_0x48932c(0x97)),_0x4e4848;var _0x3ad716=calcFibonacci(_0x224c5e,0x32),_0x46a06d=_0x25ff45?calcFibonacci(_0x25ff45,0x1e):null,_0x159716=detectOrderBlocks(_0x224c5e,0x1e),_0x251dc8=detectFVG(_0x224c5e,0x14),_0xcd7caa=calcVWAP(_0x224c5e,0x18),_0x20c1ab=findConfluenceZones(_0x154861,_0x2111ac,_0x3ad716,_0x159716,_0x251dc8,_0xcd7caa,_0x1e786e,_0x504f88,_0x2653d5);if(_0x46a06d){var _0x1f037b=findConfluenceZones(_0x154861,_0x2111ac,_0x46a06d,[],[],null,null,null,_0x2653d5);for(var _0x117cec=0x0;_0x117cec<_0x1f037b[_0x48932c(0xc5)];_0x117cec++){_0x1f037b[_0x117cec][_0x48932c(0x7c)]+=0x2,_0x1f037b[_0x117cec][_0x48932c(0xa1)][_0x48932c(0xbe)]('4H\x20TF'),_0x20c1ab['push'](_0x1f037b[_0x117cec]);}_0x20c1ab[_0x48932c(0xaa)](function(_0x3045fd,_0x4e05fe){var _0x403f5c=_0x48932c;return _0x4e05fe[_0x403f5c(0x7c)]-_0x3045fd[_0x403f5c(0x7c)];});}if(_0x20c1ab[_0x48932c(0xc5)]===0x0)return _0x4e4848['entry']=_0x2111ac===_0x48932c(0x79)?Math[_0x48932c(0xc4)](_0x154861,_0x1e786e):Math[_0x48932c(0xcc)](_0x154861,_0x1e786e),_0x4e4848[_0x48932c(0x77)]['push'](_0x48932c(0xa4)),_0x4e4848['quality']='good',_0x4e4848[_0x48932c(0x75)]=calculateSmartScaling(_0x4e4848['entry'],_0x2111ac,_0x2653d5,_0x13bd44),_0x4e4848;var _0x40e342=_0x20c1ab[0x0];_0x4e4848[_0x48932c(0xa0)]=_0x40e342[_0x48932c(0x8f)],_0x4e4848[_0x48932c(0xae)]=_0x40e342[_0x48932c(0x7c)],_0x4e4848['reasons']=_0x40e342['sources'];if(_0x40e342['confirmations']>=0x3||_0x40e342['score']>=0x5)_0x4e4848[_0x48932c(0xc8)]=_0x48932c(0x9c);else _0x40e342[_0x48932c(0x99)]>=0x2||_0x40e342['score']>=0x3?_0x4e4848[_0x48932c(0xc8)]='good':_0x4e4848['quality']='fair';return _0x4e4848[_0x48932c(0x75)]=calculateSmartScaling(_0x4e4848['entry'],_0x2111ac,_0x2653d5,_0x13bd44,_0x20c1ab),_0x4e4848;}function calculateSmartScaling(_0x597346,_0x50cae3,_0x3c0fe1,_0x5cd372,_0xafe412){var _0x31acb0=a0_0x233c,_0x59a5c1=[];if(!isFinite(_0x597346)||_0x597346<=0x0||!isFinite(_0x3c0fe1)||_0x3c0fe1<=0x0)return[{'price':_0x597346,'percent':0x64,'reason':_0x31acb0(0xb3)}];_0x5cd372=_0x5cd372||0x3e8;if(_0x5cd372<0x1f4)_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x597346,'percent':0x64,'reason':_0x31acb0(0xc1)});else{if(_0x5cd372<0x7d0){_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x597346,'percent':0x3c,'reason':_0x31acb0(0xd0)});var _0x11f372=_0x50cae3===_0x31acb0(0x79)?_0x597346-_0x3c0fe1*0.3:_0x597346+_0x3c0fe1*0.3;_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x11f372,'percent':0x28,'reason':_0x31acb0(0xbd)});}else{if(_0x5cd372<0x2710){_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x597346,'percent':0x32,'reason':_0x31acb0(0xd0)});var _0x11f372=_0x50cae3==='long'?_0x597346-_0x3c0fe1*0.25:_0x597346+_0x3c0fe1*0.25;_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x11f372,'percent':0x1e,'reason':_0x31acb0(0xb0)});var _0x1afa2c;_0xafe412&&_0xafe412[_0x31acb0(0xc5)]>0x1?_0x1afa2c=_0xafe412[0x1][_0x31acb0(0x8f)]:_0x1afa2c=_0x50cae3===_0x31acb0(0x79)?_0x597346-_0x3c0fe1*0.5:_0x597346+_0x3c0fe1*0.5,_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x1afa2c,'percent':0x14,'reason':'ورود\x20سوم\x20(اگر\x20رسید)'});}else{_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x597346,'percent':0x28,'reason':_0x31acb0(0xd0)});var _0x11f372=_0x50cae3==='long'?_0x597346-_0x3c0fe1*0.2:_0x597346+_0x3c0fe1*0.2;_0x59a5c1['push']({'price':_0x11f372,'percent':0x19,'reason':'ورود\x20دوم'});var _0x1afa2c=_0x50cae3===_0x31acb0(0x79)?_0x597346-_0x3c0fe1*0.4:_0x597346+_0x3c0fe1*0.4;_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x1afa2c,'percent':0x14,'reason':_0x31acb0(0xc6)});var _0x23ac17=_0x50cae3===_0x31acb0(0x79)?_0x597346-_0x3c0fe1*0.6:_0x597346+_0x3c0fe1*0.6;_0x59a5c1[_0x31acb0(0xbe)]({'price':_0x23ac17,'percent':0xf,'reason':_0x31acb0(0xbf)});}}}return _0x59a5c1;}function a0_0x30a4(){var _0x3f2d12=['excellent','map','indicator','round','entry','sources','weak','6700076dCqDdI','ورود\x20در\x20EMA21','doji','type','medium','low','toFixed','sort','upperBand1','16194AyGFtj','VWAP\x20-1σ','confluenceScore','adx','ورود\x20دوم','bullish','abs','ورود\x20کامل','diPlus','source','EMA50','number','down','regime','slice','shooting_star','RSI','ورود\x20دوم\x20(DCA)','push','ورود\x20چهارم\x20(اگر\x20رسید)','short','ورود\x20کامل\x20(سرمایه\x20کم)','trending_up','histogram','min','length','ورود\x20سوم','morning_star','quality','undefined','3633dLYAZb','434266wZmRLJ','max','neutral','strength','volatility','ورود\x20اول','strong','FVG','sqrt','diMinus','VWAP','8837271vYBKpo','filter','VWAP\x20+1σ','30404CnrZyZ','vwap','isArray','bearish_engulfing','strong_up','entries','evening_star','reasons','weight','long','4343607NETkgN','unknown','score','Fib\x20','8EnUXas','53335008QTEbgu','bullish_engulfing','levels','includes','reduce','bearish','4860yMEfgV','lowerBand1','5FrwLSp','hammer','above_average','lower','pow','2KjxDWq','high','message','price','TradingCore','trend','upper','floor','ranging','none','good','داده\x20کافی\x20نیست','strong_down','confirmations','⚠️\x20Market\x20regime\x20error:','log'];a0_0x30a4=function(){return _0x3f2d12;};return a0_0x30a4();}function analyzeTF(_0x5ab91e,_0x4e6b53){var _0x355b85=a0_0x233c;if(!_0x5ab91e||!Array[_0x355b85(0xdb)](_0x5ab91e)||_0x5ab91e['length']<0x32)return{'signal':_0x355b85(0xcd),'score':0x0,'rsi':0x32,'ema21':_0x4e6b53,'ema50':_0x4e6b53,'trend':_0x355b85(0xcd)};if(!_0x4e6b53||!isFinite(_0x4e6b53)||_0x4e6b53<=0x0)return{'signal':_0x355b85(0xcd),'score':0x0,'rsi':0x32,'ema21':0x0,'ema50':0x0,'trend':_0x355b85(0xcd)};var _0x1d930e=_0x5ab91e[_0x355b85(0x9d)](function(_0x40eac7){return _0x40eac7['c'];})[_0x355b85(0xd7)](function(_0x4216a1){var _0x2d4c70=_0x355b85;return typeof _0x4216a1===_0x2d4c70(0xb7)&&isFinite(_0x4216a1)&&_0x4216a1>0x0;});if(_0x1d930e[_0x355b85(0xc5)]<0x32)return{'signal':_0x355b85(0xcd),'score':0x0,'rsi':0x32,'ema21':_0x4e6b53,'ema50':_0x4e6b53,'trend':_0x355b85(0xcd)};var _0x4785fd=calcRSI(_0x1d930e,0xe),_0x590ce0=calcEMA(_0x1d930e,0x15),_0x1785ab=calcEMA(_0x1d930e,0x32),_0x4d33ec=calcMACD(_0x1d930e),_0x781bc8=calcBB(_0x1d930e,0x14,0x2),_0x48692e=calcADX(_0x5ab91e,0xe);if(!isFinite(_0x4785fd))_0x4785fd=0x32;if(!isFinite(_0x590ce0)||_0x590ce0<=0x0)_0x590ce0=_0x4e6b53;if(!isFinite(_0x1785ab)||_0x1785ab<=0x0)_0x1785ab=_0x4e6b53;if(!_0x4d33ec||!isFinite(_0x4d33ec[_0x355b85(0xc3)]))_0x4d33ec={'histogram':0x0,'line':0x0,'signal':0x0};(!_0x781bc8||!isFinite(_0x781bc8[_0x355b85(0x92)])||!isFinite(_0x781bc8[_0x355b85(0x8a)]))&&(_0x781bc8={'upper':_0x4e6b53*1.02,'lower':_0x4e6b53*0.98,'middle':_0x4e6b53});if(!_0x48692e||!isFinite(_0x48692e[_0x355b85(0xaf)]))_0x48692e={'adx':0x19,'diPlus':0x0,'diMinus':0x0,'trend':_0x355b85(0xcd)};var _0x5d3537=_0x5ab91e[_0x5ab91e['length']-0x1]?_0x5ab91e[_0x5ab91e[_0x355b85(0xc5)]-0x1]['v']:0x0,_0x163a8c=analyzeVolume(_0x5ab91e,_0x5d3537),_0x36ecd3=detectCandlestickPatterns(_0x5ab91e),_0x5740d4=detectMarketRegime(_0x5ab91e,_0x4e6b53),_0x2fe907=[];for(var _0x341425=0x0;_0x341425<_0x1d930e[_0x355b85(0xc5)];_0x341425++){if(_0x341425>=0xe){var _0x31df18=_0x1d930e['slice'](0x0,_0x341425+0x1);_0x2fe907[_0x355b85(0xbe)](calcRSI(_0x31df18,0xe));}else _0x2fe907['push'](0x32);}var _0x1f9427=detectDivergence(_0x5ab91e,_0x2fe907,_0x355b85(0xbc)),_0x2d6f9f='neutral';if(_0x4e6b53>_0x590ce0&&_0x590ce0>_0x1785ab)_0x2d6f9f='up';else{if(_0x4e6b53<_0x590ce0&&_0x590ce0<_0x1785ab)_0x2d6f9f=_0x355b85(0xb8);}var _0x36ab1b=0x0,_0x1157be=0x0;if(_0x4785fd<=0x1e)_0x36ab1b+=0x3;else{if(_0x4785fd<=0x28)_0x36ab1b+=0x1;else{if(_0x4785fd>=0x46)_0x1157be+=0x3;else{if(_0x4785fd>=0x3c)_0x1157be+=0x1;}}}if(_0x2d6f9f==='up')_0x36ab1b+=0x2;else{if(_0x2d6f9f===_0x355b85(0xb8))_0x1157be+=0x2;}if(_0x4d33ec[_0x355b85(0xc3)]>0x0)_0x36ab1b+=0x2;else{if(_0x4d33ec['histogram']<0x0)_0x1157be+=0x2;}var _0x471d61=(_0x4e6b53-_0x781bc8[_0x355b85(0x8a)])/(_0x781bc8['upper']-_0x781bc8[_0x355b85(0x8a)]);if(_0x781bc8[_0x355b85(0x92)]!==_0x781bc8['lower']&&isFinite(_0x471d61)){if(_0x471d61<=0.15)_0x36ab1b+=0x2;else{if(_0x471d61>=0.85)_0x1157be+=0x2;}}if(_0x48692e[_0x355b85(0xaf)]>=0x19){if(_0x48692e[_0x355b85(0x91)]===_0x355b85(0xdd))_0x36ab1b+=0x2;else{if(_0x48692e[_0x355b85(0x91)]===_0x355b85(0x98))_0x1157be+=0x2;}}else _0x48692e['adx']<0x14&&(_0x36ab1b=Math['max'](0x0,_0x36ab1b-0x1),_0x1157be=Math[_0x355b85(0xcc)](0x0,_0x1157be-0x1));if(_0x163a8c[_0x355b85(0xce)]>0x0){if(_0x36ab1b>_0x1157be)_0x36ab1b+=_0x163a8c[_0x355b85(0xce)];else{if(_0x1157be>_0x36ab1b)_0x1157be+=_0x163a8c['strength'];}}else _0x163a8c['strength']<0x0&&(_0x36ab1b=Math[_0x355b85(0xcc)](0x0,_0x36ab1b-0x1),_0x1157be=Math[_0x355b85(0xcc)](0x0,_0x1157be-0x1));if(_0x1f9427[_0x355b85(0xa6)]===_0x355b85(0xb1))_0x36ab1b+=Math[_0x355b85(0xc4)](0x2,_0x1f9427[_0x355b85(0xce)]);else _0x1f9427[_0x355b85(0xa6)]===_0x355b85(0x84)&&(_0x1157be+=Math[_0x355b85(0xc4)](0x2,_0x1f9427[_0x355b85(0xce)]));if(_0x36ecd3[_0x355b85(0xb1)]>0x0)_0x36ab1b+=Math[_0x355b85(0xc4)](0x2,_0x36ecd3[_0x355b85(0xb1)]);if(_0x36ecd3[_0x355b85(0x84)]>0x0)_0x1157be+=Math[_0x355b85(0xc4)](0x2,_0x36ecd3['bearish']);var _0x3cefff='neutral',_0x3432d1=0x0;if(_0x36ab1b>=0x3&&_0x36ab1b>_0x1157be+0x2)_0x3cefff=_0x355b85(0x79),_0x3432d1=_0x36ab1b;else _0x1157be>=0x3&&_0x1157be>_0x36ab1b+0x2&&(_0x3cefff='short',_0x3432d1=_0x1157be);return{'signal':_0x3cefff,'score':_0x3432d1,'rsi':_0x4785fd,'ema21':_0x590ce0,'ema50':_0x1785ab,'trend':_0x2d6f9f,'bb':_0x781bc8,'macd':_0x4d33ec,'adx':_0x48692e,'volume':_0x163a8c,'rsiDivergence':_0x1f9427,'patterns':_0x36ecd3,'marketRegime':_0x5740d4};}function getLeverage(_0xc05f49,_0x49773f){var _0x31a1aa=a0_0x233c;if(!_0xc05f49||!_0x49773f||_0xc05f49===_0x49773f)return 0x3;var _0xac3013=Math[_0x31a1aa(0xb2)](_0xc05f49-_0x49773f)/_0xc05f49*0x64;if(_0xac3013>=0x5)return 0x2;if(_0xac3013>=0x3)return 0x3;if(_0xac3013>=0x2)return 0x4;return 0x5;}typeof window!==a0_0x2f2757(0xc9)&&(window[a0_0x2f2757(0x90)]={'calcRSI':calcRSI,'calcEMA':calcEMA,'calcMACD':calcMACD,'calcBB':calcBB,'calcATR':calcATR,'calcADX':calcADX,'analyzeVolume':analyzeVolume,'detectDivergence':detectDivergence,'detectCandlestickPatterns':detectCandlestickPatterns,'detectMarketRegime':detectMarketRegime,'findSmartEntry':findSmartEntry,'calculateSmartScaling':calculateSmartScaling,'analyzeTF':analyzeTF,'getLeverage':getLeverage,'calcFibonacci':calcFibonacci,'detectOrderBlocks':detectOrderBlocks,'detectFVG':detectFVG,'calcVWAP':calcVWAP});